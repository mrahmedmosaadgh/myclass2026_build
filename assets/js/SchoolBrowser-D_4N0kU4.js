import{Q as e}from"./QSpinnerDots-CnY0H5Kp.js";import{Q as s}from"./QTab-CnAf4tCv.js";import{Q as a}from"./QTabs-D_ZwIIJm.js";import{o,u as l,a as t,d as r,m as i}from"./app-B77gjd5a.js";import{Q as m}from"./QTabPanel-B_PJ80R0.js";import{Q as n}from"./QTabPanels-B5JhG1n5.js";import{u as c}from"./schoolData-BRFwL7u7.js";import{f as u,k as d,o as p,M as y,J as v,b,N as h,I as j,V as f,z as w,K as g,_ as Q}from"./vendor-DuKqz2x4.js";import{u as S}from"./i18n-DE5KxGn8.js";import x from"./WeeklyPlanMenu-CF2dQUEv.js";import k from"./SchoolOverview-CzfRxgGv.js";import _ from"./ClassroomHierarchy--QsQd1Rw.js";import T from"./AssignmentsTable-fTkZj4nS.js";import"./rtl-Cr6c3OOr.js";import"./offline-BzIlwqNM.js";import"./ui-BITzTqrO.js";import"./use-panel-N2fkKyR_.js";import"./use-render-cache-CmTcazfP.js";import"./QSpace-Bk4F2b8L.js";import"./WeeklySystemGuide-CDFK3zIe.js";import"./MainSchoolData-Gb27YhDO.js";import"./QBadge-ZkvAqPBD.js";import"./SchoolSettingsDialog-CzZH-_bR.js";import"./QSelect-DB_tK-Lk.js";import"./QForm-BQsH4F1U.js";import"./QTd-Cd1TbwhN.js";import"./QTable-Dzgz30xz.js";import"./QMarkupTable-xKG6mM4A.js";import"./QLinearProgress-B9hMkhRG.js";import"./use-fullscreen-Cf3Zl1YN.js";const B={class:"q-pa-md"},q={class:"row items-center q-mb-md"},V={class:"col"},I={class:"text-h4 text-weight-bold text-primary"},M={class:"text-subtitle2 text-grey-7"},P={key:0,class:"row justify-center q-my-xl"},D={key:1},z={class:"text-h6 text-grey-7 q-mt-md"},A={class:"text-body2 text-grey-6"},C=o({__name:"SchoolBrowser",setup(o){const{t:C}=S(),F=l(),H=c(),J=u(null),G=u(!1),K=u("overview");return d(()=>H.hasAllContext,async e=>{e?await(async()=>{var e,s;if(H.schoolId){G.value=!0;try{const e=await Q.get(route("weekly-system.api.school-data"),{params:{school_id:H.schoolId}});J.value=e.data}catch(a){F.notify({type:"negative",message:"Failed to load school data",caption:(null==(s=null==(e=a.response)?void 0:e.data)?void 0:s.message)||a.message})}finally{G.value=!1}}else J.value=null})():J.value=null},{immediate:!0}),p(()=>{}),(o,l)=>(v(),y("div",B,[b(x),h("div",q,[h("div",V,[h("div",I,f(w(C)("weeklySystem.schoolBrowser.title")),1),h("div",M,f(w(C)("weeklySystem.schoolBrowser.subtitle")),1)])]),G.value?(v(),y("div",P,[b(e,{color:"primary",size:"50px"})])):w(H).hasAllContext&&J.value?(v(),y("div",D,[b(a,{modelValue:K.value,"onUpdate:modelValue":l[0]||(l[0]=e=>K.value=e),dense:"",class:"text-grey-7 q-mb-md","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:g(()=>[b(s,{name:"overview",icon:"dashboard",label:w(C)("weeklySystem.schoolBrowser.overviewTab")},null,8,["label"]),b(s,{name:"classrooms",icon:"class",label:w(C)("weeklySystem.schoolBrowser.classroomsTab")},null,8,["label"]),b(s,{name:"assignments",icon:"assignment",label:w(C)("weeklySystem.schoolBrowser.assignmentsTab")},null,8,["label"])]),_:1},8,["modelValue"]),b(t,{class:"q-mb-md"}),b(n,{modelValue:K.value,"onUpdate:modelValue":l[1]||(l[1]=e=>K.value=e),animated:""},{default:g(()=>[b(m,{name:"overview"},{default:g(()=>[b(k,{stats:J.value.stats||{},subjects:J.value.subjects||[],teachers:J.value.teachers||[]},null,8,["stats","subjects","teachers"])]),_:1}),b(m,{name:"classrooms"},{default:g(()=>[b(_,{hierarchy:J.value.hierarchy||[],assignments:J.value.assignments||[]},null,8,["hierarchy","assignments"])]),_:1}),b(m,{name:"assignments"},{default:g(()=>[b(T,{assignments:J.value.assignments||[]},null,8,["assignments"])]),_:1})]),_:1},8,["modelValue"])])):(v(),j(i,{key:2,flat:"",bordered:"",class:"q-pa-xl text-center"},{default:g(()=>[b(r,{name:"school",size:"80px",color:"grey-5"}),h("div",z,f(w(C)("weeklySystem.schoolBrowser.selectSchool")),1),h("div",A,f(w(C)("weeklySystem.schoolBrowser.selectSchoolHint")),1)]),_:1}))]))}},[["__scopeId","data-v-36b63738"]]);export{C as default};
