import{o as e,d as a}from"./app-C-NJhdpe.js";import o from"./DrawingCanvas-D-za4DeL.js";import r from"./DrawingToolbar-khKpjIHq.js";import{f as l,a as n,L as s,I as t,b as u,J as i,O as v,V as p,U as d,A as g}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./QBtnToggle-CGKDwXD9.js";import"./QColor-AENRVZHO.js";import"./QSlider-BYqguEYs.js";import"./QTabs-C8Sz98qV.js";import"./rtl-Cr6c3OOr.js";import"./QTab-C_vkYR0k.js";import"./QTabPanels-bY91sdlT.js";import"./use-panel-CGzbevm7.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-zhJc0Joi.js";import"./QPopupProxy-D8p5Hvz_.js";const c={class:"drawing-overlay-wrapper"},m={key:0,class:"drawing-mode-indicator"},b=e({__name:"DrawingOverlay",emits:["drawing-state-changed"],setup(e,{expose:b,emit:w}){const j=w,P=l(null),f=l(!1),k=l("pen"),Q=l("#FF0000"),T=l(3),U=l("transparent"),_=l(1),h=l(1),y=l(0),z=n(()=>{const e=window.location.pathname.match(/\/lesson-presentation\/student\/(\d+)/);return e?`drawing-lesson-${e[1]}`:"drawing-pages"}),C=()=>{f.value=!f.value,f.value||(U.value="transparent"),j("drawing-state-changed",f.value)},x=e=>{U.value=e},D=()=>{P.value&&P.value.undo()},A=()=>{y.value++},B=()=>{_.value>1&&_.value--},M=()=>{_.value++,P.value&&P.value.addNewPage(_.value),_.value>h.value&&(h.value=_.value)},N=()=>{h.value++,_.value=h.value,P.value&&P.value.addNewPage(_.value)},O=e=>{},S=e=>{e>h.value&&(h.value=e)};return b({toggleDrawing:C,isActive:f}),(e,l)=>(t(),s("div",c,[u(o,{ref_key:"canvasRef",ref:P,"is-active":f.value,"drawing-tool":k.value,"pen-color":Q.value,"pen-size":T.value,"background-color":U.value,"current-page":_.value,"clear-trigger":y.value,"storage-key":z.value,onStrokesUpdated:O,onPagesUpdated:S,onPageBackgroundChanged:x},null,8,["is-active","drawing-tool","pen-color","pen-size","background-color","current-page","clear-trigger","storage-key"]),u(r,{"is-active":f.value,"drawing-tool":k.value,"onUpdate:drawingTool":l[0]||(l[0]=e=>k.value=e),"pen-color":Q.value,"onUpdate:penColor":l[1]||(l[1]=e=>Q.value=e),"pen-size":T.value,"onUpdate:penSize":l[2]||(l[2]=e=>T.value=e),"background-color":U.value,"onUpdate:backgroundColor":l[3]||(l[3]=e=>U.value=e),"current-page":_.value,"total-pages":h.value,onToggle:C,onUndo:D,onClear:A,onPrevPage:B,onNextPage:M,onAddPage:N},null,8,["is-active","drawing-tool","pen-color","pen-size","background-color","current-page","total-pages"]),u(g,{name:"fade"},{default:i(()=>[f.value?(t(),s("div",m,[u(a,{name:"pen"===k.value?"brush":"cleaning_services",size:"sm",class:"q-mr-xs"},null,8,["name"]),p(" "+d("pen"===k.value?"Drawing Mode":"Eraser Mode")+" - Page "+d(_.value),1)])):v("",!0)]),_:1})]))}},[["__scopeId","data-v-61825dae"]]);export{b as default};
