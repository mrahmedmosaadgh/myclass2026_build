import{p as e,e as t,Q as r,R as s,j as l,k as a,i,ao as o,h as n,q as d}from"./app-Dccx8xF5.js";import{Q as c}from"./QBadge-BoQNzKR2.js";import{L as u,I as b,M as p,O as g,b as x,J as f,F as y,Q as m,S as v,x as h,H as w,V as S,U as _,K as k,$ as j}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const $={class:"px-5 py-4 border-b border-gray-100 bg-white shrink-0"},z={class:"flex items-center justify-between"},C={class:"flex items-center gap-3"},D={class:"bg-blue-50 p-2 rounded-lg"},q={class:"flex-1 flex flex-col overflow-y-auto p-3 custom-scrollbar"},Q={class:"flex items-center gap-2"},A={key:0,class:"bg-gray-50/50 border-t border-gray-100/50 p-3 pl-4"},B={class:"bg-gray-100 group-hover:bg-blue-100 rounded-full p-0.5 transition-colors"},E={class:"space-y-2 pl-1 border-l-2 border-gray-200 ml-1.5"},I=["onClick"],L={class:"flex justify-between items-center mb-1.5"},O={key:0,class:"ml-2 text-center py-6 text-gray-400 text-xs italic bg-gray-50 rounded-lg border border-dashed border-gray-200"},M=e({__name:"LessonSidebar copy 1",props:{sections:{type:Array,required:!0},currentSection:{type:String,required:!0},slides:{type:Array,default:()=>[]},showDrawer:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},activeSlide:{type:Object,default:null}},emits:["update:currentSection","update:showDrawer","addSlide","selectSlide"],setup(e,{emit:M}){const N=e,P=e=>N.slides.filter(t=>t.section===e),F=e=>N.slides.indexOf(e),H=e=>!!N.activeSlide&&(e===N.activeSlide||e.id&&e.id===N.activeSlide.id),J=e=>{var t,r,s;if("text"===e.slide_type){const r=(null==(t=e.slide_content)?void 0:t.text)||"";return r.replace(/<[^>]*>/g,"").substring(0,30)+(r.length>30?"...":"")}if("question"===e.slide_type){const t=(null==(s=null==(r=e.slide_content)?void 0:r.questions)?void 0:s.length)||0;return`${t} Question${1!==t?"s":""}`}return`${e.slide_type} content`};return(M,N)=>(b(),u("div",null,[p("div",{class:v(["fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto flex flex-col h-full shadow-2xl lg:shadow-none",e.showDrawer?"translate-x-0":"-translate-x-full"])},[p("div",$,[p("div",z,[p("div",C,[p("div",D,[x(t,{name:"view_sidebar",size:"20px",class:"text-blue-600"})]),N[4]||(N[4]=p("div",null,[p("h2",{class:"text-base font-bold text-gray-800 leading-tight"},"Lesson Plan"),p("p",{class:"text-[10px] text-gray-500 font-medium mt-0.5"},"Manage sections & slides")],-1))]),x(r,{flat:"",dense:"",round:"",icon:"close",size:"sm",color:"grey-6",onClick:N[0]||(N[0]=e=>M.$emit("update:showDrawer",!1)),class:"lg:hidden"})])]),p("div",q,[x(n,{separator:""},{default:f(()=>[(b(!0),u(y,null,m(e.sections,r=>(b(),u("div",{key:r.id,class:v(["mb-1 overflow-hidden transition-all duration-200",e.currentSection===r.id?"bg-blue-50/50":"bg-transparent"])},[h((b(),w(i,{clickable:"",onClick:e=>M.$emit("update:currentSection",r.id),class:v(["py-3 px-4 border-l-4 transition-all duration-200",e.currentSection===r.id?"border-blue-500 bg-blue-50":"border-transparent hover:bg-gray-50"])},{default:f(()=>[x(l,{avatar:"",class:"min-w-0 pr-3"},{default:f(()=>[p("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-200",e.currentSection===r.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"])},[x(t,{name:r.qIcon||r.icon,size:"16px"},null,8,["name"])],2)]),_:2},1024),x(l,null,{default:f(()=>[x(a,{class:v(["font-semibold text-sm transition-colors duration-200",e.currentSection===r.id?"text-gray-900":"text-gray-600"])},{default:f(()=>[S(_(r.title),1)]),_:2},1032,["class"]),x(a,{caption:"",class:"text-[10px] text-gray-400 font-medium"},{default:f(()=>{return[S(_((e=r.id,P(e).length))+" slide(s) ",1)];var e}),_:2},1024)]),_:2},1024),x(l,{side:""},{default:f(()=>[p("div",Q,[k(M.$slots,"section-status",{section:r},void 0,!0),x(t,{name:e.currentSection===r.id?"expand_less":"expand_more",size:"16px",class:v(e.currentSection===r.id?"text-blue-500":"text-gray-400")},null,8,["name","class"])])]),_:2},1024)]),_:2},1032,["onClick","class"])),[[s]]),x(o,null,{default:f(()=>[e.currentSection===r.id?(b(),u("div",A,[e.canEdit?(b(),u("button",{key:0,type:"button",onClick:N[1]||(N[1]=j(e=>M.$emit("addSlide"),["stop"])),class:"w-full py-2 px-3 mb-3 border-2 border-dashed border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-gray-400 hover:text-blue-600 rounded-lg text-xs font-bold uppercase tracking-wide transition-all duration-200 flex items-center justify-center gap-2 group"},[p("div",B,[x(t,{name:"add",size:"12px"})]),N[5]||(N[5]=p("span",null,"Add Slide",-1))])):g("",!0),p("div",E,[(b(!0),u(y,null,m(P(r.id),(e,t)=>(b(),u("div",{key:e.id||t,onClick:j(t=>M.$emit("selectSlide",e),["stop"]),class:v(["ml-2 p-2.5 rounded-lg cursor-pointer border transition-all duration-200 group relative",H(e)?"bg-white border-blue-500 shadow-sm ring-1 ring-blue-500/20 z-10":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"])},[p("div",L,[p("span",{class:v(["font-bold text-[11px] uppercase tracking-wider",H(e)?"text-blue-700":"text-gray-500"])}," Slide "+_(F(e)+1),3),x(c,{color:H(e)?"blue":"grey-4","text-color":H(e)?"white":"grey-8",size:"xs",class:"font-medium px-1.5 py-0.5"},{default:f(()=>[S(_(e.slide_type),1)]),_:2},1032,["color","text-color"])]),p("div",{class:v(["text-[11px] text-gray-500 truncate pl-2 border-l-2",H(e)?"border-blue-200":"border-gray-100"])},_(J(e)),3)],10,I))),128)),0===P(r.id).length?(b(),u("div",O,_(e.canEdit?"No slides yet":"No content"),1)):g("",!0)])])):g("",!0)]),_:2},1024)],2))),128))]),_:3})])],2),e.showDrawer?(b(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:N[2]||(N[2]=e=>M.$emit("update:showDrawer",!1))})):g("",!0),x(r,{round:"",color:"primary",icon:"menu",class:"fixed bottom-6 left-6 z-50 lg:hidden shadow-lg",onClick:N[3]||(N[3]=e=>M.$emit("update:showDrawer",!0))},{default:f(()=>[x(d,null,{default:f(()=>N[6]||(N[6]=[S("Show Sections")])),_:1})]),_:1})]))}},[["__scopeId","data-v-e6ea55ee"]]);export{M as default};
