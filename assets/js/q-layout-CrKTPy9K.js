import{I as e,J as a,aX as l,aH as o,L as t,W as r,r as n,s,b as u}from"./app-CWAnT6CT.js";import{Q as i,a as v}from"./QToolbar-oT7Dn8Ft.js";import{Q as d}from"./QHeader-CaQmMXz2.js";import{Q as f}from"./QDrawer-CRXwzkkF.js";import{Q as c}from"./QPageContainer-NHbf0fS4.js";import{q as m,f as p,a as g,p as h,k as b,A as w,h as _,af as y,I as V,J as q,K as Q,b as j,W as x,R as C}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const H=e({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:s}){const{proxy:{$q:u}}=h(),i=m(l,a);if(i===a)return console.error("QFooter needs to be child of QLayout"),a;const v=p(parseInt(e.heightHint,10)),d=p(!0),f=p(!0===o.value||!0===i.isContainer.value?0:window.innerHeight),c=g(()=>!0===e.reveal||-1!==i.view.value.indexOf("F")||u.platform.is.ios&&!0===i.isContainer.value),y=g(()=>!0===i.isContainer.value?i.containerHeight.value:f.value),V=g(()=>{if(!0!==e.modelValue)return 0;if(!0===c.value)return!0===d.value?v.value:0;const a=i.scroll.value.position+y.value+v.value-i.height.value;return a>0?a:0}),q=g(()=>!0!==e.modelValue||!0===c.value&&!0!==d.value),Q=g(()=>!0===e.modelValue&&!0===q.value&&!0===e.reveal),j=g(()=>"q-footer q-layout__section--marginal "+(!0===c.value?"fixed":"absolute")+"-bottom"+(!0===e.bordered?" q-footer--bordered":"")+(!0===q.value?" q-footer--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus"+(!0!==c.value?" hidden":""):"")),x=g(()=>{const e=i.rows.value.bottom,a={};return"l"===e[0]&&!0===i.left.space&&(a[!0===u.lang.rtl?"right":"left"]=`${i.left.size}px`),"r"===e[2]&&!0===i.right.space&&(a[!0===u.lang.rtl?"left":"right"]=`${i.right.size}px`),a});function C(e,a){i.update("footer",e,a)}function H(e,a){e.value!==a&&(e.value=a)}function z({height:e}){H(v,e),C("size",e)}function D(e){!0===Q.value&&H(d,!0),s("focusin",e)}b(()=>e.modelValue,e=>{C("space",e),H(d,!0),i.animate()}),b(V,e=>{C("offset",e)}),b(()=>e.reveal,a=>{!1===a&&H(d,e.modelValue)}),b(d,e=>{i.animate(),s("reveal",e)}),b([v,i.scroll,i.height],function(){if(!0!==e.reveal)return;const{direction:a,position:l,inflectionPoint:o}=i.scroll.value;H(d,"up"===a||l-o<100||i.height.value-y.value-l-v.value<300)}),b(()=>u.screen.height,e=>{!0!==i.isContainer.value&&H(f,e)});const F={};return i.instances.footer=F,!0===e.modelValue&&C("size",v.value),C("space",e.modelValue),C("offset",V.value),w(()=>{i.instances.footer===F&&(i.instances.footer=void 0,C("size",0),C("offset",0),C("space",!1))}),()=>{const a=t(n.default,[_(r,{debounce:0,onResize:z})]);return!0===e.elevated&&a.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_("footer",{class:j.value,style:x.value,onFocusin:D},a)}}});const z=n({setup(){const e=p(!1);return{rightDrawerOpen:e,toggleRightDrawer(){e.value=!e.value}}}},[["render",function(e,a,l,o,t,r){const n=y("router-view"),m=y("q-layout",!0);return q(),V(m,{view:"hHh lpR fFf"},{default:Q(()=>[j(d,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:Q(()=>[j(i,null,{default:Q(()=>[j(v,null,{default:Q(()=>[j(s,null,{default:Q(()=>a[1]||(a[1]=[C("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[2]||(a[2]=x(" Title "))]),_:1}),j(u,{dense:"",flat:"",round:"",icon:"menu",onClick:o.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),j(f,{modelValue:o.rightDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=e=>o.rightDrawerOpen=e),side:"right",overlay:"",behavior:"mobile",elevated:""},null,8,["modelValue"]),j(c,null,{default:Q(()=>[j(n)]),_:1}),j(H,{reveal:"",elevated:"",class:"bg-grey-8 text-white"},{default:Q(()=>[j(i,null,{default:Q(()=>[j(v,null,{default:Q(()=>[j(s,null,{default:Q(()=>a[3]||(a[3]=[C("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[4]||(a[4]=C("div",null,"Title",-1))]),_:1})]),_:1})]),_:1})]),_:1})}]]);export{z as default};
