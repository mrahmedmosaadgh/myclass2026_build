import l from"./NameAbbreviator2-C9sDTwMV.js";import{aM as e,aN as a,f as o,a as s,L as t,I as u,M as r,O as n,F as i,Q as d,R as c,S as v,U as p,x as m,X as b,aQ as f,b as _}from"./vendor-DNM7Y6Xn.js";import"./app-BXm70mdJ.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";const g={class:"mb-2 absolute flex gap-2 scale-75"},y=["onClick"],x={class:"flex flex-wrap justify-center w-full"},j=["onClick"],h={class:"period-badge bg-black px-2 rounded-full text-white scale-50 absolute"},k=["name","value"],w={class:"p-0"},$={class:"bg-blue-800 px-2 rounded-full scale-75 text-white"},C={__name:"RadioButtonGroup",props:e({name:{type:String,required:!0},my_class:{type:String,default:""},options:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:e(["filter-change","set_data"],["update:modelValue"]),setup(e,{emit:C}){const I=a(e,"modelValue"),M=o(null),R=e,V=C,S=s(()=>{const l=R.options.map(l=>{var e;return null==(e=l.cst)?void 0:e.subject}).filter(l=>l);return[...new Map(l.map(l=>[l.id,l])).values()]}),q=s(()=>M.value?R.options.filter(l=>{var e,a;return null!=l&&(null==(a=null==(e=l.cst)?void 0:e.subject)?void 0:a.id)===M.value.id}):R.options.filter(l=>null!=l)),A=()=>{M.value=null,V("filter-change",{subjectId:null})};return(a,o)=>(u(),t("div",{class:v(["_controlGroup_19yuc_175 relative overflow-visible",e.my_class])},[o[1]||(o[1]=r("div",{class:"h-6"},null,-1)),r("div",g,[(u(!0),t(i,null,d(S.value,l=>{var e;return u(),t("button",{key:l.id,onClick:e=>(l=>{M.value=l,V("filter-change",{subjectId:l.id})})(l),class:v(["px-2 py-1 rounded-full text-xs",[(null==(e=M.value)?void 0:e.id)===l.id?"ring-2 ring-offset-1":""]]),style:c(`background-color: ${l.color_bg}; color: ${l.color_text}`)},p(l.name),15,y)}),128)),M.value?(u(),t("button",{key:0,onClick:A,class:"px-2 py-1 rounded-full text-xs bg-gray-200 hover:bg-gray-300"}," Clear ")):n("",!0)]),r("div",x,[(u(!0),t(i,null,d(q.value,(s,n)=>{var i,d,v,g,y,x,C,M,R,V;return m((u(),t("label",{key:n,onClick:l=>a.$emit("set_data",s),class:"relative"},[r("span",h,p(null==s?void 0:s.period_order),1),m(r("input",{class:"_hiddenRadioInput_u1tst_155 sf-hidden",type:"radio","onUpdate:modelValue":o[0]||(o[0]=l=>I.value=l),name:e.name,value:s.value},null,8,k),[[f,I.value]]),r("div",{class:"_boxRadioButton_19yuc_202 w-18 h-18 !border-4 border-solid",style:c(`background-color: ${null==(d=null==(i=null==s?void 0:s.cst)?void 0:i.subject)?void 0:d.color_bg};color:${null==(g=null==(v=null==s?void 0:s.cst)?void 0:v.subject)?void 0:g.color_text};${I.value?"border-color:green":"border-color:white"};`)},[r("span",w,p(null==(x=null==(y=null==s?void 0:s.cst)?void 0:y.classroom)?void 0:x.name),1),r("div",$,p(null==(M=null==(C=null==s?void 0:s.cst)?void 0:C.subject)?void 0:M.name),1),_(l,{class:"scale-75","full-name":null==(V=null==(R=null==s?void 0:s.cst)?void 0:R.teacher)?void 0:V.name,separator:" ",letters_count:2},null,8,["full-name"])],4)],8,j)),[[b,!(null==s?void 0:s.day)||!(null==s?void 0:s.period_number)]])}),128))])],2))}};export{C as default};
