import{f as e,a2 as t,o as n,e as o,L as l,I as s,b as a,M as i,y as r,a3 as u,V as c,U as g,F as d}from"./vendor-EI0FRBVb.js";import{aU as p,aW as v}from"./app-DXXarK7I.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const m={class:"p-8"},w={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},b={class:"bg-white p-6 rounded shadow"},h={class:"space-y-2"},L={class:"bg-white p-6 rounded shadow"},f={class:"space-y-2"},k=Object.assign({layout:p},{__name:"NetworkTest",setup(p){const k=e(navigator.onLine),N=e(navigator.onLine),S=e((new Date).toLocaleTimeString()),x=v(),{isOnline:y,syncStatus:T,lastOnlineTime:O}=t(x),{statusText:C}=x,j=()=>{k.value=navigator.onLine,N.value=navigator.onLine,S.value=(new Date).toLocaleTimeString(),console.log("ðŸ“± Local status updated:",N.value?"ONLINE":"OFFLINE")},D=()=>{console.log("ðŸ§ª Testing network change..."),j(),x.updateOnlineStatus(navigator.onLine)},E=()=>{console.log("ðŸ” Navigator.onLine:",navigator.onLine),console.log("ðŸ” Local isOnline:",N.value),console.log("ðŸ” Store isOnline:",y.value),j()},z=()=>{console.log("ðŸš€ Manually initializing store..."),x.initializeNetworkListeners()},F=async()=>{console.log("ðŸ”„ Triggering manual sync..."),await x.triggerSync()};return n(()=>{console.log("ðŸŽ¯ NetworkTest component mounted"),window.addEventListener("online",j),window.addEventListener("offline",j),x.initializeNetworkListeners(),console.log("âœ… NetworkTest setup complete")}),o(()=>{window.removeEventListener("online",j),window.removeEventListener("offline",j)}),(e,t)=>(s(),l(d,null,[a(r(u),{title:"Network Test"}),i("div",m,[t[9]||(t[9]=i("h1",{class:"text-2xl font-bold mb-4"},"Network Status Test",-1)),i("div",w,[i("div",b,[t[3]||(t[3]=i("h2",{class:"text-lg font-semibold mb-4"},"Local Component Status",-1)),i("div",h,[i("p",null,[t[0]||(t[0]=c("Navigator Online: ")),i("strong",null,g(k.value?"Yes":"No"),1)]),i("p",null,[t[1]||(t[1]=c("Local isOnline: ")),i("strong",null,g(N.value?"Yes":"No"),1)]),i("p",null,[t[2]||(t[2]=c("Last Update: ")),i("strong",null,g(S.value),1)])]),i("div",{class:"mt-4"},[i("button",{onClick:D,class:"bg-blue-500 text-white px-4 py-2 rounded mr-2"}," Test Network Change "),i("button",{onClick:E,class:"bg-green-500 text-white px-4 py-2 rounded"}," Check Navigator ")])]),i("div",L,[t[8]||(t[8]=i("h2",{class:"text-lg font-semibold mb-4"},"Global Store Status",-1)),i("div",f,[i("p",null,[t[4]||(t[4]=c("Store isOnline: ")),i("strong",null,g(r(y)?"Yes":"No"),1)]),i("p",null,[t[5]||(t[5]=c("Store Status Text: ")),i("strong",null,g(r(C)),1)]),i("p",null,[t[6]||(t[6]=c("Store Sync Status: ")),i("strong",null,g(r(T)),1)]),i("p",null,[t[7]||(t[7]=c("Store Last Online: ")),i("strong",null,g(r(O)),1)])]),i("div",{class:"mt-4"},[i("button",{onClick:z,class:"bg-purple-500 text-white px-4 py-2 rounded mr-2"}," Initialize Store "),i("button",{onClick:F,class:"bg-orange-500 text-white px-4 py-2 rounded"}," Manual Sync ")])])]),t[10]||(t[10]=i("div",{class:"mt-8 bg-blue-50 p-6 rounded"},[i("h3",{class:"text-lg font-semibold mb-2"},"ðŸ§ª How to Test Real-time Network Detection"),i("ol",{class:"list-decimal list-inside space-y-2"},[i("li",null,"Open DevTools (F12) and go to the Console tab to see debug logs"),i("li",null,"Go to the Network tab in DevTools"),i("li",null,'Check the "Offline" checkbox to simulate going offline'),i("li",null,"Watch both the indicator in the top-right AND the values above update in real-time"),i("li",null,'Uncheck "Offline" to go back online'),i("li",null,"The green dot should pulse when online and turn gray when offline")])],-1))])],64))}});export{k as default};
