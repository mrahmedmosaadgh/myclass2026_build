import{u as e,c as a,f as l,l as u,aP as r,Q as t,m as s,b as o}from"./app-CqJgtQaN.js";import{Q as n}from"./QSelect-DIrzf0A1.js";import{Q as i}from"./QEditor-BEKANOaW.js";import{Q as d}from"./QForm-B30T44oJ.js";import{r as m}from"./resumeApi-D2MdQx5z.js";import{aN as v,aO as g,f as p,k as f,I as c,J as y,K as V,b,N as _,V as h,a0 as j,y as w}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";import"./use-fullscreen-Dd3XWOIZ.js";const Q={class:"text-h6"},q={__name:"QuestionForm",props:v({modelValue:Boolean,question:Object},{modelValue:{},modelModifiers:{}}),emits:v(["update:modelValue","save"],["update:modelValue"]),setup(v,{emit:q}){const U=g(v,"modelValue"),A=v,O=q,S=e(),F=["General","Technical","Behavioral"],T=["Frontend","Backend","Fullstack","Other"],k=["English","Spanish","French","Other"],x=["Vue","Laravel","API","Design","Other"],B=p({title:"",type:"",category:"",language:"",tags:[],default_answer:""}),E=p({});function L(){const e={title:B.value.title||"",type:B.value.type||"",category:B.value.category||"",language:B.value.language||"",tags:Array.isArray(B.value.tags)?B.value.tags:[],default_answer:B.value.default_answer||""};E.value={},(A.question?m.updateQuestion(A.question.id,e):m.createQuestion(e)).then(()=>{O("save"),O("update:modelValue",!1),S.notify({type:"positive",message:"Saved!"})}).catch(e=>{e.response&&422===e.response.status?(E.value=e.response.data.errors||{},S.notify({type:"negative",message:"Validation error"})):S.notify({type:"negative",message:"Save failed"})})}return f(()=>A.question,e=>{e?B.value={...e}:(B.value={title:"",type:"",category:"",language:"",tags:[],default_answer:""},E.value={})},{immediate:!0}),(e,m)=>(y(),c(o,{modelValue:U.value,"onUpdate:modelValue":[m[6]||(m[6]=e=>U.value=e),m[7]||(m[7]=a=>e.$emit("update:modelValue",a))]},{default:V(()=>[b(s,{style:{"min-width":"400px"}},{default:V(()=>[b(a,null,{default:V(()=>[_("div",Q,h(v.question?"Edit":"Add")+" Question",1)]),_:1}),b(d,{onSubmit:j(L,["prevent"])},{default:V(()=>[b(a,{class:"q-gutter-md"},{default:V(()=>[b(l,{modelValue:B.value.title,"onUpdate:modelValue":m[0]||(m[0]=e=>B.value.title=e),label:"Title",required:"",error:!!E.value.value.title,"error-message":E.value.value.title&&E.value.value.title[0]},null,8,["modelValue","error","error-message"]),b(n,{modelValue:B.value.type,"onUpdate:modelValue":m[1]||(m[1]=e=>B.value.type=e),options:F,label:"Type",required:"",error:!!E.value.value.type,"error-message":E.value.value.type&&E.value.value.type[0]},null,8,["modelValue","error","error-message"]),b(n,{modelValue:B.value.category,"onUpdate:modelValue":m[2]||(m[2]=e=>B.value.category=e),options:T,label:"Category",required:"",error:!!E.value.value.category,"error-message":E.value.value.category&&E.value.value.category[0]},null,8,["modelValue","error","error-message"]),b(n,{modelValue:B.value.language,"onUpdate:modelValue":m[3]||(m[3]=e=>B.value.language=e),options:k,label:"Language",required:"",error:!!E.value.value.language,"error-message":E.value.value.language&&E.value.value.language[0]},null,8,["modelValue","error","error-message"]),b(n,{modelValue:B.value.tags,"onUpdate:modelValue":m[4]||(m[4]=e=>B.value.tags=e),options:x,label:"Tags",multiple:"","use-chips":"",error:!!E.value.value.tags,"error-message":E.value.value.tags&&E.value.value.tags[0]},null,8,["modelValue","error","error-message"]),b(i,{modelValue:B.value.default_answer,"onUpdate:modelValue":m[5]||(m[5]=e=>B.value.default_answer=e),label:"Default Answer",error:!!E.value.value.default_answer,"error-message":E.value.value.default_answer&&E.value.value.default_answer[0]},null,8,["modelValue","error","error-message"])]),_:1}),b(u,{align:"right"},{default:V(()=>[w(b(t,{flat:"",label:"Cancel"},null,512),[[r]]),b(t,{color:"primary",label:"Save",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{q as default};
