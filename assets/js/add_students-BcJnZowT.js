import{p as t}from"./app-BzjXrVp9.js";import{L as i,I as e,M as s,V as n,x as o,O as a,U as r,aa as c,ab as l}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const p=window.SpeechRecognition||window.webkitSpeechRecognition,g=["disabled"],u={class:"status"},d={class:"transcript-container"},h={key:0,class:"interim-text"};const R=t({data:()=>({recognition:null,selectedLanguage:"en-US",finalTranscript:"",interimTranscript:"",isRecognizing:!1,statusMessage:"Ready"}),mounted(){this.setupSpeechRecognition()},methods:{setupSpeechRecognition(){p?(this.recognition&&(this.recognition.onend=null,this.recognition.stop()),this.recognition=new p,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang=this.selectedLanguage,this.recognition.onstart=()=>{this.isRecognizing=!0,this.statusMessage="Listening (Audio is Playing)..."},this.recognition.onerror=t=>{console.error("Speech Recognition Error:",t),this.statusMessage=`Error: ${t.error}`},this.recognition.onend=()=>{this.isRecognizing=!1,this.$refs.audioPlayer&&!this.$refs.audioPlayer.paused?this.startRecognition():this.statusMessage="Recognition stopped."},this.recognition.onresult=t=>{let i="",e="";const s=this.finalTranscript;for(let n=t.resultIndex;n<t.results.length;++n)t.results[n].isFinal?e+=t.results[n][0].transcript:i+=t.results[n][0].transcript;this.finalTranscript=s+e,this.interimTranscript=i}):this.statusMessage="ERROR: Speech Recognition is not supported in this browser."},loadAudioFile(t){this.stopRecognition();const i=t.target.files[0];if(i){const t=URL.createObjectURL(i);this.$refs.audioPlayer.src=t,this.clearTranscript(),this.statusMessage="Audio loaded. Press play to transcribe."}},startRecognition(){if(this.recognition&&!this.isRecognizing)try{this.recognition.start()}catch(t){"InvalidStateError"!==t.name&&(console.error(t),this.statusMessage="Failed to start recognition.")}},stopRecognition(){this.recognition&&this.isRecognizing&&(this.recognition.stop(),this.statusMessage="Recognition stopped.")},clearTranscript(){this.finalTranscript="",this.interimTranscript="",this.statusMessage="Transcript cleared."},saveTranscript(){if(!this.finalTranscript)return;const t=new Blob([this.finalTranscript],{type:"text/plain"}),i=URL.createObjectURL(t),e=document.createElement("a");e.href=i,e.download="transcription_"+(new Date).toISOString().slice(0,10)+".txt",document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(i),this.statusMessage="Transcript saved successfully!"}}},[["render",function(t,p,R,m,f,T){return e(),i("div",null,[p[12]||(p[12]=s("h1",null,"Live MP3 Transcriber with Editing",-1)),s("div",null,[p[10]||(p[10]=s("label",{for:"language"},"Select Language:",-1)),o(s("select",{id:"language","onUpdate:modelValue":p[0]||(p[0]=t=>f.selectedLanguage=t),onChange:p[1]||(p[1]=(...t)=>T.setupSpeechRecognition&&T.setupSpeechRecognition(...t))},p[9]||(p[9]=[s("option",{value:"en-US"},"English (US) - Default",-1),s("option",{value:"es-ES"},"Spanish (Spain)",-1),s("option",{value:"fr-FR"},"French (France)",-1),s("option",{value:"de-DE"},"German (Germany)",-1)]),544),[[c,f.selectedLanguage]])]),p[13]||(p[13]=n(" D:\\my_projects\\2025\\myclass9\\myclass9\\resources\\js\\Pages\\quiz_system\\add_students\\add_students.vue ")),s("input",{type:"file",accept:".mp3,audio/*",onChange:p[2]||(p[2]=(...t)=>T.loadAudioFile&&T.loadAudioFile(...t))},null,32),s("audio",{ref:"audioPlayer",controls:"",onPlay:p[3]||(p[3]=(...t)=>T.startRecognition&&T.startRecognition(...t)),onPause:p[4]||(p[4]=(...t)=>T.stopRecognition&&T.stopRecognition(...t)),onEnded:p[5]||(p[5]=(...t)=>T.stopRecognition&&T.stopRecognition(...t))},null,544),s("div",null,[s("button",{onClick:p[6]||(p[6]=(...t)=>T.clearTranscript&&T.clearTranscript(...t)),disabled:f.isRecognizing},"Clear Transcript",8,g),f.finalTranscript?(e(),i("button",{key:0,onClick:p[7]||(p[7]=(...t)=>T.saveTranscript&&T.saveTranscript(...t))},"Save as TXT")):a("",!0)]),s("p",u,"Status: **"+r(f.statusMessage)+"**",1),s("div",d,[p[11]||(p[11]=s("h2",null,"Transcript (Editable):",-1)),o(s("textarea",{"onUpdate:modelValue":p[8]||(p[8]=t=>f.finalTranscript=t),placeholder:"Start playing the audio to begin transcription. You can edit the text here as it appears.",rows:"15",cols:"80"},null,512),[[l,f.finalTranscript]]),f.interimTranscript?(e(),i("p",h," *Live correction: "+r(f.interimTranscript),1)):a("",!0)])])}],["__scopeId","data-v-7026338c"]]);export{R as default};
