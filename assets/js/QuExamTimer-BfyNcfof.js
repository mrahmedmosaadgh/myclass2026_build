import{o as e,u as i,d as a}from"./app-B77gjd5a.js";import{f as t,a as n,o as r,A as s,M as m,J as o,b as u,N as l,V as p,U as v}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const c={class:"timer-display"},g=e({__name:"QuExamTimer",props:{remainingSeconds:{type:Number,required:!0},autoSubmit:{type:Function,required:!0}},emits:["time-warning","time-expired"],setup(e,{emit:g}){const d=i(),f=e,y=g,M=t(f.remainingSeconds);let S=null;const w=t({fiveMin:!1,oneMin:!1}),b=n(()=>{const e=Math.floor(M.value/60),i=Math.floor(M.value%60);return`${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`}),x=n(()=>M.value<=60?"timer-critical":M.value<=300?"timer-warning":"timer-normal"),j=()=>{if(M.value--,M.value<=0)return clearInterval(S),y("time-expired"),d.notify({type:"negative",message:"Time expired! Submitting exam...",icon:"alarm",timeout:3e3}),void f.autoSubmit();300!==M.value||w.value.fiveMin||(w.value.fiveMin=!0,y("time-warning",5),d.notify({type:"warning",message:"5 minutes remaining",icon:"warning",timeout:5e3})),60!==M.value||w.value.oneMin||(w.value.oneMin=!0,y("time-warning",1),d.notify({type:"warning",message:"1 minute remaining - please submit soon!",icon:"warning",timeout:5e3,position:"top"}))};return r(()=>{S=setInterval(j,1e3)}),s(()=>{S&&clearInterval(S)}),(e,i)=>(o(),m("div",{class:v(["timer-container",x.value])},[u(a,{name:"timer",size:"24px",class:"q-mr-sm"}),l("div",c,p(b.value),1)],2))}},[["__scopeId","data-v-6ee0b14e"]]);export{g as default};
