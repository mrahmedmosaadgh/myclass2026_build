import{_ as t,g as e,G as i,h as n,S as o,j as a,l as s,k as r,s as l,m as h,n as u,o as p,Z as c,p as d,q as g,t as f,r as y,v as m,w as v,x as S,y as _,z as b,A as x,B as I,C as w,D,P as A,F as M,H as P,I as C,J as N,K as L,L as T,M as k,N as O,O as z,Q as E,R as V,T as R,U as G,V as X,W as Y,X as F,Y as H,$ as B,a0 as U,a1 as W,a2 as Z,a3 as q,a4 as J,a5 as K,a6 as j,u as Q,a7 as $}from"./install-DYOHV0_5.js";var tt=function(o){function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return t(a,o),a.prototype.getInitialData=function(t){return e(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var e=new i,o=n("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(o),o.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),r="none"===a?"circle":a,l=.8*t.itemHeight,h=n(r,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);e.add(h),h.setStyle(t.itemStyle);var u="inherit"===t.iconRotate?s:t.iconRotate||0;return h.rotation=u*Math.PI/180,h.setOrigin([t.itemWidth/2,t.itemHeight/2]),r.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),e},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(o),et=function(e){function i(t,i,n,o){var a=e.call(this)||this;return a.updateData(t,i,n,o),a}return t(i,e),i.prototype._createSymbol=function(t,e,i,o,a){this.removeAll();var s=n(t,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=it,this._symbolType=t,this.add(s)},i.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},i.prototype.getSymbolType=function(){return this._symbolType},i.prototype.getSymbolPath=function(){return this.childAt(0)},i.prototype.highlight=function(){a(this.childAt(0))},i.prototype.downplay=function(){s(this.childAt(0))},i.prototype.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},i.prototype.setDraggable=function(t,e){var i=this.childAt(0);i.draggable=t,i.cursor=!e&&t?"move":i.cursor},i.prototype.updateData=function(t,e,n,o){this.silent=!1;var a=t.getItemVisual(e,"symbol")||"circle",s=t.hostModel,u=i.getSymbolSize(t,e),p=a!==this._symbolType,c=o&&o.disableAnimation;if(p){var d=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(a,t,e,u,d)}else{(f=this.childAt(0)).silent=!1;var g={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(g):r(f,g,s,e),l(f)}if(this._updateCommon(t,e,u,n,o),p){var f=this.childAt(0);if(!c){g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,h(f,g,s,e)}}c&&this.childAt(0).stopAnimation("leave")},i.prototype._updateCommon=function(t,e,i,n,o){var a,s,r,l,h,y,m,v,_,b=this.childAt(0),x=t.hostModel;if(n&&(a=n.emphasisItemStyle,s=n.blurItemStyle,r=n.selectItemStyle,l=n.focus,h=n.blurScope,m=n.labelStatesModels,v=n.hoverScale,_=n.cursorStyle,y=n.emphasisDisabled),!n||t.hasItemOption){var I=n&&n.itemModel?n.itemModel:t.getItemModel(e),w=I.getModel("emphasis");a=w.getModel("itemStyle").getItemStyle(),r=I.getModel(["select","itemStyle"]).getItemStyle(),s=I.getModel(["blur","itemStyle"]).getItemStyle(),l=w.get("focus"),h=w.get("blurScope"),y=w.get("disabled"),m=u(I),v=w.getShallow("scale"),_=I.getShallow("cursor")}var D=t.getItemVisual(e,"symbolRotate");b.attr("rotation",(D||0)*Math.PI/180||0);var A=p(t.getItemVisual(e,"symbolOffset"),i);A&&(b.x=A[0],b.y=A[1]),_&&b.attr("cursor",_);var M=t.getItemVisual(e,"style"),P=M.fill;if(b instanceof c){var C=b.style;b.useStyle(d({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},M))}else b.__isEmptyBrush?b.useStyle(d({},M)):b.useStyle(M),b.style.decal=null,b.setColor(P,o&&o.symbolInnerColor),b.style.strokeNoScale=!0;var N=t.getItemVisual(e,"liftZ"),L=this._z2;null!=N?null==L&&(this._z2=b.z2,b.z2+=N):null!=L&&(b.z2=L,this._z2=null);var T=o&&o.useNameLabel;g(b,m,{labelFetcher:x,labelDataIndex:e,defaultText:function(e){return T?t.getName(e):S(t,e)},inheritColor:P,defaultOpacity:M.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var k=b.ensureState("emphasis");k.style=a,b.ensureState("select").style=r,b.ensureState("blur").style=s;var O=null==v||!0===v?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;k.scaleX=this._sizeX*O,k.scaleY=this._sizeY*O,this.setSymbolScale(1),f(this,l,h,y)},i.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},i.prototype.fadeOut=function(t,e,i){var n=this.childAt(0),o=y(this).dataIndex,a=i&&i.animation;if(this.silent=n.silent=!0,i&&i.fadeLabel){var s=n.getTextContent();s&&m(s,{style:{opacity:0}},e,{dataIndex:o,removeOpt:a,cb:function(){n.removeTextContent()}})}else n.removeTextContent();m(n,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:o,cb:t,removeOpt:a})},i.getSymbolSize=function(t,e){return v(t.getItemVisual(e,"symbolSize"))},i}(i);function it(t,e){this.parent.drift(t,e)}function nt(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function ot(t){return null==t||b(t)||(t={isIgnore:t}),t||{}}function at(t){var e=t.hostModel,i=e.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:u(e),cursorStyle:e.get("cursor")}}var st=function(){function t(t){this.group=new i,this._SymbolCtor=t||et}return t.prototype.updateData=function(t,e){this._progressiveEls=null,e=ot(e);var i=this.group,n=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=at(t),h={disableAnimation:s},u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||i.removeAll(),t.diff(o).add(function(n){var o=u(n);if(nt(t,o,n,e)){var s=new a(t,n,l,h);s.setPosition(o),t.setItemGraphicEl(n,s),i.add(s)}}).update(function(p,c){var d=o.getItemGraphicEl(c),g=u(p);if(nt(t,g,p,e)){var f=t.getItemVisual(p,"symbol")||"circle",y=d&&d.getSymbolType&&d.getSymbolType();if(!d||y&&y!==f)i.remove(d),(d=new a(t,p,l,h)).setPosition(g);else{d.updateData(t,p,l,h);var m={x:g[0],y:g[1]};s?d.attr(m):r(d,m,n)}i.add(d),t.setItemGraphicEl(p,d)}else i.remove(d)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)},n)}).execute(),this._getSymbolPoint=u,this._data=t},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(e,i){var n=t._getSymbolPoint(i);e.setPosition(n),e.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=at(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=ot(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(nt(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(n),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(t){_(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},i.hostModel)}):e.removeAll()},t}();function rt(t,e,i){var n=t.getBaseAxis(),o=t.getOtherAxis(n),a=function(t,e){var i=0,n=t.scale.getExtent();"start"===e?i=n[0]:"end"===e?i=n[1]:w(e)&&!isNaN(e)?i=e:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]);return i}(o,i),s=n.dim,r=o.dim,l=e.mapDimension(r),h=e.mapDimension(s),u="x"===r||"radius"===r?1:0,p=x(t.dimensions,function(t){return e.mapDimension(t)}),c=!1,d=e.getCalculationInfo("stackResultDimension");return I(e,p[0])&&(c=!0,p[0]=d),I(e,p[1])&&(c=!0,p[1]=d),{dataDimsForPoint:p,valueStart:a,valueAxisDim:r,baseAxisDim:s,stacked:!!c,valueDim:l,baseDim:h,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function lt(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,s=[];return s[a]=i.get(t.baseDim,n),s[1-a]=o,e.dataToPoint(s)}var ht=Math.min,ut=Math.max;function pt(t,e){return isNaN(t)||isNaN(e)}function ct(t,e,i,n,o,a,s,r,l){for(var h,u,p,c,d,g,f=i,y=0;y<n;y++){var m=e[2*f],v=e[2*f+1];if(f>=o||f<0)break;if(pt(m,v)){if(l){f+=a;continue}break}if(f===i)t[a>0?"moveTo":"lineTo"](m,v),p=m,c=v;else{var S=m-h,_=v-u;if(S*S+_*_<.5){f+=a;continue}if(s>0){for(var b=f+a,x=e[2*b],I=e[2*b+1];x===m&&I===v&&y<n;)y++,f+=a,x=e[2*(b+=a)],I=e[2*b+1],S=(m=e[2*f])-h,_=(v=e[2*f+1])-u;var w=y+1;if(l)for(;pt(x,I)&&w<n;)w++,x=e[2*(b+=a)],I=e[2*b+1];var D=.5,A=0,M=0,P=void 0,C=void 0;if(w>=n||pt(x,I))d=m,g=v;else{A=x-h,M=I-u;var N=m-h,L=x-m,T=v-u,k=I-v,O=void 0,z=void 0;if("x"===r){var E=A>0?1:-1;d=m-E*(O=Math.abs(N))*s,g=v,P=m+E*(z=Math.abs(L))*s,C=v}else if("y"===r){var V=M>0?1:-1;d=m,g=v-V*(O=Math.abs(T))*s,P=m,C=v+V*(z=Math.abs(k))*s}else O=Math.sqrt(N*N+T*T),d=m-A*s*(1-(D=(z=Math.sqrt(L*L+k*k))/(z+O))),g=v-M*s*(1-D),C=v+M*s*D,P=ht(P=m+A*s*D,ut(x,m)),C=ht(C,ut(I,v)),P=ut(P,ht(x,m)),g=v-(M=(C=ut(C,ht(I,v)))-v)*O/z,d=ht(d=m-(A=P-m)*O/z,ut(h,m)),g=ht(g,ut(u,v)),P=m+(A=m-(d=ut(d,ht(h,m))))*z/O,C=v+(M=v-(g=ut(g,ht(u,v))))*z/O}t.bezierCurveTo(p,c,d,g,m,v),p=P,c=C}else t.lineTo(m,v)}h=m,u=v,f+=a}return y}var dt=function(){return function(){this.smooth=0,this.smoothConstraint=!0}}(),gt=function(e){function i(t){var i=e.call(this,t)||this;return i.type="ec-polyline",i}return t(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new dt},i.prototype.buildPath=function(t,e){var i=e.points,n=0,o=i.length/2;if(e.connectNulls){for(;o>0&&pt(i[2*o-2],i[2*o-1]);o--);for(;n<o&&pt(i[2*n],i[2*n+1]);n++);}for(;n<o;)n+=ct(t,i,n,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},i.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,n,o=this.path.data,a=A.CMD,s="x"===e,r=[],l=0;l<o.length;){var h=void 0,u=void 0,p=void 0,c=void 0,d=void 0,g=void 0,f=void 0;switch(o[l++]){case a.M:i=o[l++],n=o[l++];break;case a.L:if(h=o[l++],u=o[l++],(f=s?(t-i)/(h-i):(t-n)/(u-n))<=1&&f>=0){var y=s?(u-n)*f+n:(h-i)*f+i;return s?[t,y]:[y,t]}i=h,n=u;break;case a.C:h=o[l++],u=o[l++],p=o[l++],c=o[l++],d=o[l++],g=o[l++];var m=s?M(i,h,p,d,t,r):M(n,u,c,g,t,r);if(m>0)for(var v=0;v<m;v++){var S=r[v];if(S<=1&&S>=0){y=s?P(n,u,c,g,S):P(i,h,p,d,S);return s?[t,y]:[y,t]}}i=d,n=g}}},i}(C),ft=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return t(i,e),i}(dt),yt=function(e){function i(t){var i=e.call(this,t)||this;return i.type="ec-polygon",i}return t(i,e),i.prototype.getDefaultShape=function(){return new ft},i.prototype.buildPath=function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length/2,s=e.smoothMonotone;if(e.connectNulls){for(;a>0&&pt(i[2*a-2],i[2*a-1]);a--);for(;o<a&&pt(i[2*o],i[2*o+1]);o++);}for(;o<a;){var r=ct(t,i,o,a,a,1,e.smooth,s,e.connectNulls);ct(t,n,o+r-1,r,a,-1,e.stackedOnSmooth,s,e.connectNulls),o+=r+1,t.closePath()}},i}(C);function mt(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return;return!0}}function vt(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],r=t[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(r)||(i=Math.min(r,i),o=Math.max(r,o))}return[[e,i],[n,o]]}function St(t,e){var i=vt(t),n=i[0],o=i[1],a=vt(e),s=a[0],r=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(o[0]-r[0]),Math.abs(o[1]-r[1]))}function _t(t){return w(t)?t:t?.5:0}function bt(t,e,i,n,o){var a=i.getBaseAxis(),s="x"===a.dim||"radius"===a.dim?0:1,r=[],l=0,h=[],u=[],p=[],c=[];if(o){for(l=0;l<t.length;l+=2){var d=e||t;isNaN(d[l])||isNaN(d[l+1])||c.push(t[l],t[l+1])}t=c}for(l=0;l<t.length-2;l+=2)switch(p[0]=t[l+2],p[1]=t[l+3],u[0]=t[l],u[1]=t[l+1],r.push(u[0],u[1]),n){case"end":h[s]=p[s],h[1-s]=u[1-s],r.push(h[0],h[1]);break;case"middle":var g=(u[s]+p[s])/2,f=[];h[s]=f[s]=g,h[1-s]=u[1-s],f[1-s]=p[1-s],r.push(h[0],h[1]),r.push(f[0],f[1]);break;default:h[s]=u[s],h[1-s]=p[1-s],r.push(h[0],h[1])}return r.push(t[l++],t[l++]),r}function xt(t,e,i){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var o,a,s=n.length-1;s>=0;s--){var r=t.getDimensionInfo(n[s].dimension);if("x"===(o=r&&r.coordDim)||"y"===o){a=n[s];break}}if(a){var l=e.getAxis(o),h=x(a.stops,function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}}),u=h.length,p=a.outerColors.slice();u&&h[0].coord>h[u-1].coord&&(h.reverse(),p.reverse());var c=function(t,e){var i,n,o=[],a=t.length;function s(t,e,i){var n=t.coord,o=(i-n)/(e.coord-n);return{coord:i,color:Z(o,[t.color,e.color])}}for(var r=0;r<a;r++){var l=t[r],h=l.coord;if(h<0)i=l;else{if(h>e){n?o.push(s(n,l,e)):i&&o.push(s(i,l,0),s(i,l,e));break}i&&(o.push(s(i,l,0)),i=null),o.push(l),n=l}}return o}(h,"x"===o?i.getWidth():i.getHeight()),d=c.length;if(!d&&u)return h[0].coord<0?p[1]?p[1]:h[u-1].color:p[0]?p[0]:h[0].color;var g=c[0].coord-10,f=c[d-1].coord+10,y=f-g;if(y<.001)return"transparent";Y(c,function(t){t.offset=(t.coord-g)/y}),c.push({offset:d?c[d-1].offset:.5,color:p[1]||"transparent"}),c.unshift({offset:d?c[0].offset:.5,color:p[0]||"transparent"});var m=new F(0,0,0,0,c,!0);return m[o]=g,m[o+"2"]=f,m}}}function It(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var a=i.getAxesByScale("ordinal")[0];if(a&&(!o||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),s=0;s<o;s+=a)if(1.5*et.getSymbolSize(e,s)[t.isHorizontal()?1:0]>n)return!1;return!0}(a,e))){var s=e.mapDimension(a.dim),r={};return Y(a.getViewLabels(),function(t){var e=a.scale.getRawOrdinalNumber(t.tickValue);r[e]=1}),function(t){return!r.hasOwnProperty(e.get(s,t))}}}}function wt(t,e){return isNaN(t)||isNaN(e)}function Dt(t,e){return[t[2*e],t[2*e+1]]}function At(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<W.length;e++)if(t.get([W[e],"endLabel","show"]))return!0;return!1}function Mt(t,e,i,n){if(H(e,"cartesian2d")){var o=n.getModel("endLabel"),a=o.get("valueAnimation"),s=n.getData(),r={lastFrameIndex:0},l=At(n)?function(i,n){t._endLabelOnDuring(i,n,s,r,a,o,e)}:null,h=e.getBaseAxis().isHorizontal(),u=B(e,i,n,function(){var e=t._endLabel;e&&i&&null!=r.originalX&&e.attr({x:r.originalX,y:r.originalY})},l);if(!n.get("clip",!0)){var p=u.shape,c=Math.max(p.width,p.height);h?(p.y-=c,p.height+=2*c):(p.x-=c,p.width+=2*c)}return l&&l(1,u),u}return U(e,i,n)}var Pt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.init=function(){var t=new i,e=new st;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t,this._changePolyState=N(this._changePolyState,this)},n.prototype.render=function(t,e,i){var n=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),r=t.getModel("areaStyle"),l=a.getLayout("points")||[],u="polar"===n.type,p=this._coordSys,c=this._symbolDraw,d=this._polyline,g=this._polygon,m=this._lineGroup,v=!e.ssr&&t.get("animation"),S=!r.isEmpty(),_=r.get("origin"),b=rt(n,a,_),x=S&&function(t,e,i){if(!i.valueDim)return[];for(var n=e.count(),o=D(2*n),a=0;a<n;a++){var s=lt(i,t,e,a);o[2*a]=s[0],o[2*a+1]=s[1]}return o}(n,a,b),I=t.get("showSymbol"),w=t.get("connectNulls"),A=I&&!u&&It(t,a,n),M=this._data;M&&M.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),M.setItemGraphicEl(e,null))}),I||c.remove(),o.add(m);var P,C=!u&&t.get("step");n&&n.getArea&&t.get("clip",!0)&&(null!=(P=n.getArea()).width?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r+=.5)),this._clipShapeForSymbol=P;var N=xt(a,n,i)||a.getVisual("style")[a.getVisual("drawType")];if(d&&p.type===n.type&&C===this._step){S&&!g?g=this._newPolygon(l,x):g&&!S&&(m.remove(g),g=this._polygon=null),u||this._initOrUpdateEndLabel(t,n,L(N));var O=m.getClipPath();if(O){var z=Mt(this,n,!1,t);h(O,{shape:z.shape},t)}else m.setClipPath(Mt(this,n,!0,t));I&&c.updateData(a,{isIgnore:A,clipShape:P,disableAnimation:!0,getSymbolPoint:function(t){return[l[2*t],l[2*t+1]]}}),mt(this._stackedOnPoints,x)&&mt(this._points,l)||(v?this._doUpdateAnimation(a,x,n,i,C,_,w):(C&&(x&&(x=bt(x,l,n,C,w)),l=bt(l,null,n,C,w)),d.setShape({points:l}),g&&g.setShape({points:l,stackedOnPoints:x})))}else I&&c.updateData(a,{isIgnore:A,clipShape:P,disableAnimation:!0,getSymbolPoint:function(t){return[l[2*t],l[2*t+1]]}}),v&&this._initSymbolLabelAnimation(a,n,P),C&&(x&&(x=bt(x,l,n,C,w)),l=bt(l,null,n,C,w)),d=this._newPolyline(l),S?g=this._newPolygon(l,x):g&&(m.remove(g),g=this._polygon=null),u||this._initOrUpdateEndLabel(t,n,L(N)),m.setClipPath(Mt(this,n,!0,t));var E=t.getModel("emphasis"),V=E.get("focus"),R=E.get("blurScope"),G=E.get("disabled");(d.useStyle(T(s.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"})),k(d,t,"lineStyle"),d.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(d.getState("emphasis").style.lineWidth=+d.style.lineWidth+1);y(d).seriesIndex=t.seriesIndex,f(d,V,R,G);var X=_t(t.get("smooth")),Y=t.get("smoothMonotone");if(d.setShape({smooth:X,smoothMonotone:Y,connectNulls:w}),g){var F=a.getCalculationInfo("stackedOnSeries"),H=0;g.useStyle(T(r.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),F&&(H=_t(F.get("smooth"))),g.setShape({smooth:X,stackedOnSmooth:H,smoothMonotone:Y,connectNulls:w}),k(g,t,"areaStyle"),y(g).seriesIndex=t.seriesIndex,f(g,V,R,G)}var B=this._changePolyState;a.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=a,this._coordSys=n,this._stackedOnPoints=x,this._points=l,this._step=C,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,d),g&&this.packEventData(t,g))},n.prototype.packEventData=function(t,e){y(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},n.prototype.highlight=function(t,e,i,n){var o=t.getData(),a=O(o,n);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var s=o.getLayout("points"),r=o.getItemGraphicEl(a);if(!r){var l=s[2*a],h=s[2*a+1];if(isNaN(l)||isNaN(h))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,h))return;var u=t.get("zlevel")||0,p=t.get("z")||0;(r=new et(o,a)).x=l,r.y=h,r.setZ(u,p);var c=r.getSymbolPath().getTextContent();c&&(c.zlevel=u,c.z=p,c.z2=this._polyline.z2+1),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else z.prototype.highlight.call(this,t,e,i,n)},n.prototype.downplay=function(t,e,i,n){var o=t.getData(),a=O(o,n);if(this._changePolyState("normal"),null!=a&&a>=0){var s=o.getItemGraphicEl(a);s&&(s.__temp?(o.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else z.prototype.downplay.call(this,t,e,i,n)},n.prototype._changePolyState=function(t){var e=this._polygon;E(this._polyline,t),e&&E(e,t)},n.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new gt({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},n.prototype._newPolygon=function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new yt({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},n.prototype._initSymbolLabelAnimation=function(t,e,i){var n,o,a=e.getBaseAxis(),s=a.inverse;"cartesian2d"===e.type?(n=a.isHorizontal(),o=!1):"polar"===e.type&&(n="angle"===a.dim,o=!0);var r=t.hostModel,l=r.get("animationDuration");V(l)&&(l=l(null));var h=r.get("animationDelay")||0,u=V(h)?h(null):h;t.eachItemGraphicEl(function(t,a){var r=t;if(r){var p=[t.x,t.y],c=void 0,d=void 0,g=void 0;if(i)if(o){var f=i,y=e.pointToCoord(p);n?(c=f.startAngle,d=f.endAngle,g=-y[1]/180*Math.PI):(c=f.r0,d=f.r,g=y[0])}else{var m=i;n?(c=m.x,d=m.x+m.width,g=t.x):(c=m.y+m.height,d=m.y,g=t.y)}var v=d===c?0:(g-c)/(d-c);s&&(v=1-v);var S=V(h)?h(a):l*v+u,_=r.getSymbolPath(),b=_.getTextContent();r.attr({scaleX:0,scaleY:0}),r.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:S}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:S}),_.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(t,e,i){var n=t.getModel("endLabel");if(At(t)){var o=t.getData(),a=this._polyline,s=o.getLayout("points");if(!s)return a.removeTextContent(),void(this._endLabel=null);var r=this._endLabel;r||((r=this._endLabel=new R({z2:200})).ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var l=function(t){for(var e=t.length/2;e>0&&wt(t[2*e-2],t[2*e-1]);e--);return e-1}(s);l>=0&&(g(a,u(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,i){return null!=i?q(o,i):S(o,t)},enableTextSetter:!0},function(t,e){var i=e.getBaseAxis(),n=i.isHorizontal(),o=i.inverse,a=n?o?"right":"left":"center",s=n?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||s}}}(n,e)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(t,e,i,n,o,a,s){var r=this._endLabel,l=this._polyline;if(r){t<1&&null==n.originalX&&(n.originalX=r.x,n.originalY=r.y);var h=i.getLayout("points"),u=i.hostModel,p=u.get("connectNulls"),c=a.get("precision"),d=a.get("distance")||0,g=s.getBaseAxis(),f=g.isHorizontal(),y=g.inverse,m=e.shape,v=y?f?m.x:m.y+m.height:f?m.x+m.width:m.y,S=(f?d:0)*(y?-1:1),_=(f?0:-d)*(y?-1:1),b=f?"x":"y",x=function(t,e,i){for(var n,o,a=t.length/2,s="x"===i?0:1,r=0,l=-1,h=0;h<a;h++)if(o=t[2*h+s],!isNaN(o)&&!isNaN(t[2*h+1-s]))if(0!==h){if(n<=e&&o>=e||n>=e&&o<=e){l=h;break}r=h,n=o}else n=o;return{range:[r,l],t:(e-n)/(o-n)}}(h,v,b),I=x.range,w=I[1]-I[0],D=void 0;if(w>=1){if(w>1&&!p){var A=Dt(h,I[0]);r.attr({x:A[0]+S,y:A[1]+_}),o&&(D=u.getRawValue(I[0]))}else{(A=l.getPointOn(v,b))&&r.attr({x:A[0]+S,y:A[1]+_});var M=u.getRawValue(I[0]),P=u.getRawValue(I[1]);o&&(D=G(i,c,M,P,x.t))}n.lastFrameIndex=I[0]}else{var C=1===t||n.lastFrameIndex>0?I[0]:0;A=Dt(h,C);o&&(D=u.getRawValue(C)),r.attr({x:A[0]+S,y:A[1]+_})}if(o){var N=X(r);"function"==typeof N.setLabelText&&N.setLabelText(D)}}},n.prototype._doUpdateAnimation=function(t,e,i,n,o,a,s){var l=this._polyline,h=this._polygon,u=t.hostModel,p=function(t,e,i,n,o,a,s){for(var r=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}(t,e),l=[],h=[],u=[],p=[],c=[],d=[],g=[],f=rt(o,e,s),y=t.getLayout("points")||[],m=e.getLayout("points")||[],v=0;v<r.length;v++){var S=r[v],_=!0,b=void 0,x=void 0;switch(S.cmd){case"=":b=2*S.idx,x=2*S.idx1;var I=y[b],w=y[b+1],A=m[x],M=m[x+1];(isNaN(I)||isNaN(w))&&(I=A,w=M),l.push(I,w),h.push(A,M),u.push(i[b],i[b+1]),p.push(n[x],n[x+1]),g.push(e.getRawIndex(S.idx1));break;case"+":var P=S.idx,C=f.dataDimsForPoint,N=o.dataToPoint([e.get(C[0],P),e.get(C[1],P)]);x=2*P,l.push(N[0],N[1]),h.push(m[x],m[x+1]);var L=lt(f,o,e,P);u.push(L[0],L[1]),p.push(n[x],n[x+1]),g.push(e.getRawIndex(P));break;case"-":_=!1}_&&(c.push(S),d.push(d.length))}d.sort(function(t,e){return g[t]-g[e]});var T=l.length,k=D(T),O=D(T),z=D(T),E=D(T),V=[];for(v=0;v<d.length;v++){var R=d[v],G=2*v,X=2*R;k[G]=l[X],k[G+1]=l[X+1],O[G]=h[X],O[G+1]=h[X+1],z[G]=u[X],z[G+1]=u[X+1],E[G]=p[X],E[G+1]=p[X+1],V[v]=c[R]}return{current:k,next:O,stackedOnCurrent:z,stackedOnNext:E,status:V}}(this._data,t,this._stackedOnPoints,e,this._coordSys,0,this._valueOrigin),c=p.current,d=p.stackedOnCurrent,g=p.next,f=p.stackedOnNext;if(o&&(d=bt(p.stackedOnCurrent,p.current,i,o,s),c=bt(p.current,null,i,o,s),f=bt(p.stackedOnNext,p.next,i,o,s),g=bt(p.next,null,i,o,s)),St(c,g)>3e3||h&&St(d,f)>3e3)return l.stopAnimation(),l.setShape({points:g}),void(h&&(h.stopAnimation(),h.setShape({points:g,stackedOnPoints:f})));l.shape.__points=p.current,l.shape.points=c;var y={shape:{points:g}};p.current!==c&&(y.shape.__points=p.next),l.stopAnimation(),r(l,y,u),h&&(h.setShape({points:c,stackedOnPoints:d}),h.stopAnimation(),r(h,{shape:{stackedOnPoints:f}},u),l.shape.points!==h.shape.points&&(h.shape.points=l.shape.points));for(var m=[],v=p.status,S=0;S<v.length;S++){if("="===v[S].cmd){var _=t.getItemGraphicEl(v[S].idx1);_&&m.push({el:_,ptIdx:S})}}l.animators&&l.animators.length&&l.animators[0].during(function(){h&&h.dirtyShape();for(var t=l.shape.__points,e=0;e<m.length;e++){var i=m[e].el,n=2*m[e].ptIdx;i.x=t[n],i.y=t[n+1],i.markRedraw()}})},n.prototype.remove=function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(z);function Ct(t,e){return{seriesType:t,plan:J(),reset:function(t){var i=t.getData(),n=t.coordinateSystem,o=t.pipelineContext,a=e||o.large;if(n){var s=x(n.dimensions,function(t){return i.mapDimension(t)}).slice(0,2),r=s.length,l=i.getCalculationInfo("stackResultDimension");I(i,s[0])&&(s[0]=l),I(i,s[1])&&(s[1]=l);var h=i.getStore(),u=i.getDimensionIndex(s[0]),p=i.getDimensionIndex(s[1]);return r&&{progress:function(t,e){for(var i=t.end-t.start,o=a&&D(i*r),s=[],l=[],c=t.start,d=0;c<t.end;c++){var g=void 0;if(1===r){var f=h.get(u,c);g=n.dataToPoint(f,null,l)}else s[0]=h.get(u,c),s[1]=h.get(p,c),g=n.dataToPoint(s,null,l);a?(o[d++]=g[0],o[d++]=g[1]):e.setItemLayout(c,g.slice())}a&&e.setLayout("points",o)}}}}}}function Nt(t){t.registerChartView(Pt),t.registerSeriesModel(tt),t.registerLayout(Ct("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,K("line"))}var Lt=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.type=n.type,t.hasSymbolVisual=!0,t}return t(n,i),n.prototype.getInitialData=function(t,i){return e(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},n.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},n.prototype.brushSelector=function(t,e,i){return i.point(e.getItemLayout(t))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(o),Tt=function(){return function(){}}(),kt=function(e){function i(t){var i=e.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return t(i,e),i.prototype.getDefaultShape=function(){return new Tt},i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.buildPath=function(t,e){var i,n=e.points,o=e.size,a=this.symbolProxy,s=a.shape,r=t.getContext?t.getContext():t,l=r&&o[0]<4,h=this.softClipShape;if(l)this._ctx=r;else{for(this._ctx=null,i=this._off;i<n.length;){var u=n[i++],p=n[i++];isNaN(u)||isNaN(p)||(h&&!h.contain(u,p)||(s.x=u-o[0]/2,s.y=p-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(t,s,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},i.prototype.afterBrush=function(){var t,e=this.shape,i=e.points,n=e.size,o=this._ctx,a=this.softClipShape;if(o){for(t=this._off;t<i.length;){var s=i[t++],r=i[t++];isNaN(s)||isNaN(r)||(a&&!a.contain(s,r)||o.fillRect(s-n[0]/2,r-n[1]/2,n[0],n[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},i.prototype.findDataIndex=function(t,e){for(var i=this.shape,n=i.points,o=i.size,a=Math.max(o[0],4),s=Math.max(o[1],4),r=n.length/2-1;r>=0;r--){var l=2*r,h=n[l]-a/2,u=n[l+1]-s/2;if(t>=h&&e>=u&&t<=h+a&&e<=u+s)return r}return-1},i.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return t=i[0],e=i[1],n.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},i.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,i=e.points,n=e.size,o=n[0],a=n[1],s=1/0,r=1/0,l=-1/0,h=-1/0,u=0;u<i.length;){var p=i[u++],c=i[u++];s=Math.min(p,s),l=Math.max(p,l),r=Math.min(c,r),h=Math.max(c,h)}t=this._rect=new j(s-o/2,r-a/2,l-s+o,h-r+a)}return t},i}(C),Ot=function(){function t(){this.group=new i}return t.prototype.updateData=function(t,e){this._clear();var i=this._create();i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape("points",e),t.reset()})},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,i){var n=this._newAdded[0],o=e.getLayout("points"),a=n&&n.shape.points;if(a&&a.length<2e4){var s=a.length,r=new Float32Array(s+o.length);r.set(a),r.set(o,s),n.endIndex=t.end,n.setShape({points:r})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:o}),this._setCommon(l,e,i)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new kt({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,i){var o=e.hostModel;i=i||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=i.clipShape||null,t.symbolProxy=n(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var r=e.getVisual("style"),l=r&&r.fill;l&&t.setColor(l);var h=y(t);h.seriesIndex=o.seriesIndex,t.on("mousemove",function(e){h.dataIndex=null;var i=t.hoverDataIdx;i>=0&&(h.dataIndex=i+(t.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),zt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return t(i,e),i.prototype.render=function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n,{clipShape:this._getClipShape(t)}),this._finished=!0},i.prototype.incrementalPrepareRender=function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},i.prototype.incrementalRender=function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},i.prototype.updateTransform=function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4)return{update:!0};var o=Ct("").reset(t,e,i);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},i.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},i.prototype._getClipShape=function(t){if(t.get("clip",!0)){var e=t.coordinateSystem;return e&&e.getArea&&e.getArea(.1)}},i.prototype._updateSymbolDraw=function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new Ot:new st,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},i.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},i.prototype.dispose=function(){},i.type="scatter",i}(z);function Et(t){Q($),t.registerSeriesModel(Lt),t.registerChartView(zt),t.registerLayout(Ct("scatter"))}export{et as S,Et as a,Nt as i};
