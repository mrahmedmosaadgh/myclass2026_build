import{f as e}from"./app-B77gjd5a.js";import{Q as l}from"./QSelect-DB_tK-Lk.js";import{a as t,o as a,M as u,J as s,b as o}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";const r={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},d={__name:"PeriodSelectionRefactored",props:{date:{type:String,default:()=>(new Date).toISOString().split("T")[0]},subject:{type:String,default:"Math"},semester:{type:[Number,String],default:null},week:{type:[Number,String],default:null},day:{type:[Number,String],default:null},periodNumber:{type:[Number,String],default:null},subjectOptions:{type:Array,default:()=>[{label:"Math",value:"Math"},{label:"English",value:"English"},{label:"Science",value:"Science"},{label:"Social Studies",value:"Social Studies"},{label:"PE",value:"PE"},{label:"Art",value:"Art"},{label:"Music",value:"Music"}]},semesterOptions:{type:Array,default:()=>Array.from({length:4},(e,l)=>({label:`Semester ${l+1}`,value:l+1}))},weekOptions:{type:Array,default:()=>Array.from({length:16},(e,l)=>({label:`Week ${l+1}`,value:l+1}))},dayOptions:{type:Array,default:()=>Array.from({length:7},(e,l)=>({label:`Day ${l+1}`,value:l+1}))},periodOptions:{type:Array,default:()=>Array.from({length:8},(e,l)=>({label:`Period ${l+1}`,value:l+1}))},persist:{type:Boolean,default:!1},persistKey:{type:String,default:"reward-system-last-selection"}},emits:["update:date","update:subject","update:semester","update:week","update:day","update:periodNumber","change"],setup(d,{emit:i}){const n=d,p=i,m=t(()=>Array.isArray(n.subjectOptions)?n.subjectOptions:[]),b=t(()=>Array.isArray(n.semesterOptions)?n.semesterOptions:[]),y=t(()=>Array.isArray(n.weekOptions)?n.weekOptions:[]),c=t(()=>Array.isArray(n.dayOptions)?n.dayOptions:[]),g=t(()=>Array.isArray(n.periodOptions)?n.periodOptions:[]),v=t({get:()=>n.date,set:e=>{p("update:date",e),h(e,"date")}}),f=t({get:()=>n.subject,set:e=>{p("update:subject",e),h(e,"subject")}}),S=t({get:()=>n.semester,set:e=>{p("update:semester",e),h(e,"semester")}}),w=t({get:()=>n.week,set:e=>{p("update:week",e),h(e,"week")}}),j=t({get:()=>n.day,set:e=>{p("update:day",e),h(e,"day")}}),A=t({get:()=>n.periodNumber,set:e=>{p("update:periodNumber",e),h(e,"periodNumber")}});function h(e,l){const t={date:n.date,subject:n.subject,semester:n.semester,week:n.week,day:n.day,periodNumber:n.periodNumber};l&&(t[l]=e),p("change",t),n.persist&&function(e){try{localStorage.setItem(n.persistKey,JSON.stringify(e))}catch(l){}}(t)}return a(()=>{n.persist&&function(){try{const e=localStorage.getItem(n.persistKey);if(!e)return;const l=JSON.parse(e),t=(new Date).toISOString().split("T")[0];null!=l.date&&n.date===t&&p("update:date",l.date),null!=l.subject&&"Math"===n.subject&&p("update:subject",l.subject),null!=l.semester&&null==n.semester&&p("update:semester",l.semester),null!=l.week&&null==n.week&&p("update:week",l.week),null!=l.day&&null==n.day&&p("update:day",l.day),null!=l.periodNumber&&null==n.periodNumber&&p("update:periodNumber",l.periodNumber)}catch(e){}}()}),(t,a)=>(s(),u("div",r,[o(e,{filled:"",modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e),type:"date",label:"Date",class:"rounded-lg bg-white",dense:""},null,8,["modelValue"]),o(l,{filled:"",modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),options:m.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Subject",class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options"]),o(l,{filled:"",modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e),options:b.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Semester",class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options"]),o(l,{filled:"",modelValue:w.value,"onUpdate:modelValue":a[3]||(a[3]=e=>w.value=e),options:y.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Week",class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options"]),o(l,{filled:"",modelValue:j.value,"onUpdate:modelValue":a[4]||(a[4]=e=>j.value=e),options:c.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Day",class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options"]),o(l,{filled:"",modelValue:A.value,"onUpdate:modelValue":a[5]||(a[5]=e=>A.value=e),options:g.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Period Number",class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options"])]))}};export{d as default};
