import{Q as e}from"./QBtnToggle-pcc3c4Z7.js";import{r as a,f as l,c as o,b as s,t,d as r,Q as n,G as i}from"./app-YpH5vqWh.js";import{Q as d}from"./QColor-C5EQnPtk.js";import{Q as u}from"./QPopupProxy-D6uJNEBp.js";import{Q as c}from"./QSlider-BvZyTImW.js";import m from"./DrawingCanvas-BJZcTjCE.js";import{f as p,a as f,k as v,N as g,J as b,b as y,R as _,K as j,S as x,F as k,Q as F,W as Q,V as S}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./QTabs-CSqR0VCn.js";import"./rtl-Cr6c3OOr.js";import"./QTab-D15tnj4c.js";import"./QTabPanels-DBSQeA0j.js";import"./use-panel-Di-bjwYZ.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-BAPJ1DQL.js";const w={class:"slide-annotation-overlay"},C={class:"annotation-toolbar"},V={class:"row items-center q-gutter-xs"},z={style:{width:"80px"}},h={class:"annotation-info"},I=a({__name:"SlideAnnotationOverlay",props:{currentSlideId:{type:[String,Number],required:!0},currentSection:{type:String,default:""},currentSlideIndex:{type:Number,default:0}},emits:["close"],setup(a,{emit:I}){const T=a,U=p(null),q=p("pen"),P=p("#FF0000"),N=p(3),$=p(0),A=["#FF0000","#0000FF","#00FF00","#FFFF00","#000000"],K=f(()=>{const e=window.location.pathname.match(/\/lesson-presentation\/student\/(\d+)/);return`slide-annotations-${e?e[1]:"unknown"}-${T.currentSlideId}`}),R=()=>{U.value&&U.value.undo()},B=()=>{$.value++},D=e=>{};return v(()=>T.currentSlideId,()=>{U.value&&U.value.loadFromStorage()}),(a,p)=>(b(),g("div",w,[y(m,{ref_key:"canvasRef",ref:U,"is-active":!0,"drawing-tool":q.value,"pen-color":P.value,"pen-size":N.value,"background-color":"transparent","current-page":1,"clear-trigger":$.value,"storage-key":K.value,onStrokesUpdated:D},null,8,["drawing-tool","pen-color","pen-size","clear-trigger","storage-key"]),_("div",C,[y(r,{flat:"",bordered:"",class:"toolbar-card"},{default:j(()=>[y(l,{class:"q-pa-xs"},{default:j(()=>[_("div",V,[y(e,{modelValue:q.value,"onUpdate:modelValue":p[0]||(p[0]=e=>q.value=e),"toggle-color":"primary",flat:"",dense:"",size:"sm",options:[{value:"pen",icon:"brush"},{value:"eraser",icon:"cleaning_services"}]},null,8,["modelValue"]),y(o,{vertical:"",inset:""}),y(s,{flat:"",round:"",style:x({backgroundColor:P.value,border:"2px solid #fff"}),size:"sm"},{default:j(()=>[y(u,null,{default:j(()=>[y(d,{modelValue:P.value,"onUpdate:modelValue":p[1]||(p[1]=e=>P.value=e),"no-header":"","no-footer":""},null,8,["modelValue"])]),_:1})]),_:1},8,["style"]),(b(),g(k,null,F(A,e=>y(s,{key:e,flat:"",round:"",style:x({backgroundColor:e,border:P.value===e?"2px solid #000":"1px solid #ddd"}),size:"xs",onClick:a=>P.value=e},null,8,["style","onClick"])),64)),y(o,{vertical:"",inset:""}),_("div",z,[y(c,{modelValue:N.value,"onUpdate:modelValue":p[2]||(p[2]=e=>N.value=e),min:1,max:15,label:"","label-always":"",color:"primary",dense:""},{label:j(({value:e})=>[Q(S(e)+"px ",1)]),_:1},8,["modelValue"])]),y(o,{vertical:"",inset:""}),y(s,{flat:"",dense:"",round:"",icon:"undo",onClick:R,size:"sm"},{default:j(()=>[y(t,null,{default:j(()=>p[4]||(p[4]=[Q("Undo")])),_:1})]),_:1}),y(s,{flat:"",dense:"",round:"",icon:"delete_sweep",color:"negative",onClick:B,size:"sm"},{default:j(()=>[y(t,null,{default:j(()=>p[5]||(p[5]=[Q("Clear")])),_:1})]),_:1}),y(s,{flat:"",dense:"",round:"",icon:"close",color:"negative",onClick:p[3]||(p[3]=e=>a.$emit("close")),size:"sm"},{default:j(()=>[y(t,null,{default:j(()=>p[6]||(p[6]=[Q("Close")])),_:1})]),_:1})])]),_:1})]),_:1})]),_("div",h,[y(i,{color:"primary","text-color":"white",dense:""},{default:j(()=>[y(n,{name:"edit_note",size:"xs",class:"q-mr-xs"}),p[7]||(p[7]=Q(" Annotating Slide "))]),_:1})])]))}},[["__scopeId","data-v-54e43efb"]]);export{I as default};
