import e from"./TodoList7-BZDlVQQ2.js";import{f as t,k as a,o as l,n as o,af as r,N as s,J as n,R as i,O as u,y as d,ab as c,an as p,U as m,b as v,V as g}from"./vendor-BWKGNkNB.js";import"./TabButtons-5AXk4Uvf.js";import"./ReusableHtmlViewer_Editor9-3jgjh5q_.js";import"./purify.es-C2Ba6vpb.js";import"./app-NYt77MEb.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./use_paste-BQ0pbdAA.js";import"./AdvancedClipboardHandler-CLE0i62_.js";import"./LucideIcon-CYYJCXCs.js";import"./createLucideIcon-bevK9Pnz.js";import"./printer-yyUpIzJF.js";import"./image-T1FtDBZI.js";const f={class:"space-y-4"},y={class:"flex items-center gap-2 mb-4"},h=["value","rows","required","placeholder"],V={key:1,class:"p-0"},x={key:2,class:"space-y-2"},w=["src"],b={key:3,class:"space-y-4"},_=["value","rows"],S=["src"],k={key:4,class:"space-y-4"},j={key:5,class:"p-0"},T=["innerHTML"],N="mt-1 block w-full rounded-lg border-gray-300 shadow-sm transition-all duration-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",I={__name:"slide_content",props:{modelValue:{type:String,default:""},contentType:{type:String,default:"text"},rows:{type:[String,Number],default:4},required:{type:Boolean,default:!1},placeholder:{type:String,default:""}},emits:["update:modelValue","update:contentType","save_data"],setup(I,{emit:J}){const O=I,E=J,C=t(!1),L=t(O.contentType),U=t(""),R=t(""),A=t(null),H=t(null),q=t(O.modelValue),$=t((()=>{if(O.modelValue&&"todo_list"===O.contentType)try{return JSON.parse(O.modelValue)}catch(e){return console.error("Error parsing initial todos:",e),[]}return[]})());a(L,e=>{E("update:contentType",e)}),a(()=>O.modelValue,e=>{if("todo_list"===L.value&&e)try{const t=JSON.parse(e);JSON.stringify($.value)!==JSON.stringify(t)&&($.value=t)}catch(t){console.error("Error parsing todos:",t),$.value=[]}else"html"===L.value&&(q.value=e||"")}),a(L,(e,t)=>{if("todo_list"===e&&"todo_list"!==t)try{$.value=O.modelValue?JSON.parse(O.modelValue):[]}catch(a){console.error("Error parsing todos on type change:",a),$.value=[]}});const D=async()=>{"html"===L.value?(q.value=O.modelValue||"",C.value=!1,await o(),C.value=!0):"todo_list"===L.value?($.value=[],E("update:modelValue",JSON.stringify($.value))):E("update:modelValue","")},M=async e=>{const t=e.target.files[0];if(t)try{const e=await new Promise((e,a)=>{const l=new FileReader;l.onload=()=>e(l.result),l.onerror=a,l.readAsDataURL(t)});E("update:modelValue",e)}catch(a){console.error("Error converting image to base64:",a)}},B=async e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{R.value=e.target.result,F("image",e.target.result)},e.readAsDataURL(t)}},F=(e,t)=>{const a={text:"text"===e?t:U.value,image:"image"===e?t:R.value};U.value=a.text,R.value=a.image,E("update:modelValue",JSON.stringify(a))},P=e=>{try{q.value=e,E("update:modelValue",e)}catch(t){z(t)}},z=e=>{console.error("Editor error:",e),q.value=""};a($,e=>{E("update:modelValue",JSON.stringify(e))},{deep:!0});const G=e=>{const t=$.value.filter(t=>t.id!==e);$.value=t,E("update:modelValue",JSON.stringify(t))},K=e=>{const t=$.value.map(t=>t.id===e.id?{...t,completed:!t.completed}:t);$.value=t,E("update:modelValue",JSON.stringify(t))},Q=()=>{const e=$.value.filter(e=>!e.completed);$.value=e,E("update:modelValue",JSON.stringify(e))};return l(async()=>{"html"===L.value&&(await o(),C.value=!0)}),(t,a)=>{const l=r("Editor7");return n(),s("div",f,[i("div",y,[d(i("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>L.value=e),class:"rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500",onChange:D},a[8]||(a[8]=[p('<option value="text">Plain Text</option><option value="html">Rich HTML</option><option value="screenshot">Screenshot</option><option value="text_img">Text with Image</option><option value="todo_list">todo_list</option><option value="force_html">force_html</option>',6)]),544),[[c,L.value]])]),"text"===L.value?(n(),s("textarea",{key:0,class:m(["",N]),value:I.modelValue,onInput:a[1]||(a[1]=e=>t.$emit("update:modelValue",e.target.value)),rows:I.rows,required:I.required,placeholder:I.placeholder},null,40,h)):u("",!0),"html"===L.value?(n(),s("div",V,[v(l,{modelValue:q.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>q.value=e),P],locale:"en",mode:"default",height:"300px",placeholder:I.placeholder,onError:z},null,8,["modelValue","placeholder"])])):u("",!0),"screenshot"===L.value?(n(),s("div",x,[i("input",{type:"file",accept:"image/*",onChange:M,class:"hidden",ref_key:"fileInput",ref:A},null,544),i("button",{onClick:a[3]||(a[3]=e=>t.$refs.fileInput.click()),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Upload Screenshot "),I.modelValue?(n(),s("img",{key:0,src:I.modelValue,class:"max-w-full h-auto rounded",alt:"Screenshot"},null,8,w)):u("",!0)])):u("",!0),"text_img"===L.value?(n(),s("div",b,[i("textarea",{value:U.value,onInput:a[4]||(a[4]=e=>F("text",e.target.value)),rows:I.rows,class:m(N),placeholder:"Enter text content..."},null,40,_),i("div",null,[i("input",{type:"file",accept:"image/*",onChange:B,class:"hidden",ref_key:"textImageInput",ref:H},null,544),i("button",{onClick:a[5]||(a[5]=e=>t.$refs.textImageInput.click()),class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Add Image "),R.value?(n(),s("img",{key:0,src:R.value,class:"max-w-full h-auto mt-2 rounded",alt:"Uploaded image"},null,8,S)):u("",!0)])])):u("",!0),"todo_list"===L.value?(n(),s("div",k,[v(e,{todos:$.value,"onUpdate:todos":a[6]||(a[6]=e=>$.value=e),"show-filters":!0,"show-priority":!0,"show-stats":!0,placeholder:"Enter a new task...","add-button-text":"Add Task",onAdd:G,onDelete:G,onToggle:K,onClearCompleted:Q,onSave_data:a[7]||(a[7]=e=>t.$emit("save_data"))},null,8,["todos"])])):u("",!0),"force_html"===L.value?(n(),s("div",j,[i("div",{class:"p-0",innerHTML:q.value},null,8,T),i("details",null,[a[9]||(a[9]=i("summary",null,"code",-1)),i("pre",null,g(q.value),1)])])):u("",!0)])}}};export{I as default};
