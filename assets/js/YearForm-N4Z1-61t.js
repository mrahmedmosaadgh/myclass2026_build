import{Q as e}from"./QSpace-D-IrDQfo.js";import{G as a,f as t,h as l,b as s,d}from"./app-Dtv5Fi9L.js";import{Q as o}from"./QForm-Cyf9p9ZM.js";import{a7 as r,I as n,J as m,K as i,b as c,R as u,W as p,a0 as f,z as _,N as g,O as b,V as v}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const x={class:"col-12 col-md-4"},V={class:"col-12 col-md-4"},h={class:"col-12 col-md-4"},q={class:"row q-col-gutter-sm"},w={class:"col"},y={class:"col-auto"},S={key:0,class:"text-negative text-caption q-mt-xs"},j={__name:"YearForm",emits:["created"],setup(j,{emit:Y}){const $=Y,F=r({start_date:"",end_date:"",name:""}),D=()=>{if(F.start_date){const e=new Date(F.start_date).getFullYear();if(F.name&&F.name!==`${e-1}-${e}`&&F.name!==`${e}-${e+1}`||(F.name=`${e}-${e+1}`),!F.end_date){const e=new Date(F.start_date);e.setFullYear(e.getFullYear()+1),F.end_date=e.toISOString().split("T")[0]}}},N=()=>{F.post(route("admin.academic_calendar.year.store"),{onSuccess:()=>{F.reset(),$("created")}})};return(r,j)=>(m(),n(d,{flat:"",bordered:"",class:"q-mb-xl"},{default:i(()=>[c(t,{class:"row items-center q-pb-none"},{default:i(()=>[j[4]||(j[4]=u("div",{class:"text-h6 text-weight-bold"},"New Academic Year",-1)),c(e),c(a,{size:"sm",color:"grey-3","text-color":"grey-8",dense:""},{default:i(()=>j[3]||(j[3]=[p("SETTINGS")])),_:1})]),_:1}),c(t,null,{default:i(()=>[c(o,{onSubmit:f(N,["prevent"]),class:"row q-col-gutter-md"},{default:i(()=>[u("div",x,[c(l,{modelValue:_(F).start_date,"onUpdate:modelValue":j[0]||(j[0]=e=>_(F).start_date=e),type:"date",label:"Start Date",filled:"",dense:"",onChange:D,rules:[e=>!!e||"Required"]},null,8,["modelValue","rules"])]),u("div",V,[c(l,{modelValue:_(F).end_date,"onUpdate:modelValue":j[1]||(j[1]=e=>_(F).end_date=e),type:"date",label:"End Date",filled:"",dense:"",rules:[e=>!!e||"Required"]},null,8,["modelValue","rules"])]),u("div",h,[u("div",q,[u("div",w,[c(l,{modelValue:_(F).name,"onUpdate:modelValue":j[2]||(j[2]=e=>_(F).name=e),label:"Year Name",placeholder:"e.g. 2025-2026",filled:"",dense:"",class:"text-mono",rules:[e=>!!e||"Required"]},null,8,["modelValue","rules"])]),u("div",y,[c(s,{type:"submit",color:"primary",unelevated:"",loading:_(F).processing,disable:_(F).processing,icon:"add",label:"Create Year",class:"full-height text-weight-bold"},null,8,["loading","disable"])])]),_(F).errors.name?(m(),g("div",S,v(_(F).errors.name),1)):b("",!0)])]),_:1})]),_:1})]),_:1}))}};export{j as default};
