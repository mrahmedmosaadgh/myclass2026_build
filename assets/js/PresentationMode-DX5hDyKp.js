import e from"./CanvasEditor-C2vd8hr6.js";import{_ as l}from"./LucideIcon-CYYJCXCs.js";import{r as t}from"./app-Dtv5Fi9L.js";import{f as a,a as n,o as s,e as o,N as i,J as u,R as r,O as c,b as m,V as v,U as d,I as p}from"./vendor-BWKGNkNB.js";import"./ElementContent-CQs6PIEE.js";import"./presentationStore-CqoL_spc.js";import"./youtube_VideoPlayer-BRPXPJIF.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./VideoPlayer-DQX4g8Ny.js";import"./text_el-7HG8R1hz.js";import"./createLucideIcon-bevK9Pnz.js";import"./printer-yyUpIzJF.js";import"./image-T1FtDBZI.js";const b={class:"presentation-mode-container"},f={class:"slide-navigation"},h=["disabled"],k={class:"slide-counter"},y=["disabled"],g={class:"control-buttons"},j={class:"presentation-view"},E={class:"slide-container"},x=t({__name:"PresentationMode",props:{slides:{type:Array,required:!0},initialIndex:{type:Number,default:0}},emits:["exit"],setup(t,{emit:x}){const w=t,z=x,C=a(w.initialIndex),L=a(!1),T=a(!1),_=a(!1),I=a(null),V=n(()=>w.slides[C.value]),F=()=>{C.value<w.slides.length-1&&C.value++},q=()=>{C.value>0&&C.value--},A=()=>{L.value=!1,I.value&&(clearTimeout(I.value),I.value=null)},M=()=>{T.value||(I.value=setTimeout(()=>{L.value=!0},3e3))},P=()=>{L.value=!1,I.value=setTimeout(()=>{T.value&&(L.value=!0)},5e3)},S=()=>{T.value=!T.value,T.value?(L.value=!1,I.value=setTimeout(()=>{L.value=!0},3e3)):L.value=!1},N=async()=>{try{document.fullscreenElement?(await document.exitFullscreen(),_.value=!1):(await document.documentElement.requestFullscreen(),_.value=!0)}catch(e){console.error("Error toggling fullscreen:",e)}},R=async()=>{document.fullscreenElement&&await document.exitFullscreen(),z("exit")},U=e=>{switch(e.key){case"ArrowRight":case"Space":F();break;case"ArrowLeft":q();break;case"Escape":R()}};return s(()=>{document.addEventListener("keydown",U),document.documentElement.requestFullscreen().then(()=>{_.value=!0}).catch(e=>console.log("Fullscreen error:",e)),I.value=setTimeout(()=>{L.value=!0},3e3),document.addEventListener("fullscreenchange",()=>{_.value=!!document.fullscreenElement})}),o(()=>{document.removeEventListener("keydown",U),document.removeEventListener("fullscreenchange",()=>{}),I.value&&clearTimeout(I.value)}),(a,n)=>(u(),i("div",b,[r("div",{class:d(["presentation-controls",{hidden:L.value&&T.value}]),onMouseenter:A,onMouseleave:M},[r("div",f,[r("button",{onClick:q,disabled:0===C.value,class:"nav-btn"},[m(l,{name:"chevron-left",size:"20"})],8,h),r("span",k,v(C.value+1)+" / "+v(t.slides.length),1),r("button",{onClick:F,disabled:C.value===t.slides.length-1,class:"nav-btn"},[m(l,{name:"chevron-right",size:"20"})],8,y)]),r("div",g,[r("button",{onClick:S,class:d(["control-btn",{active:T.value}]),title:"Lock controls visibility"},[m(l,{name:T.value?"lock":"unlock",size:"18"},null,8,["name"])],2),r("button",{onClick:N,class:"control-btn",title:"Toggle fullscreen"},[m(l,{name:_.value?"minimize":"maximize",size:"18"},null,8,["name"])]),r("button",{onClick:R,class:"exit-btn"},[m(l,{name:"x",size:"18",class:"mr-1"}),n[1]||(n[1]=r("span",null,"Exit",-1))])])],34),L.value&&T.value?(u(),i("button",{key:0,onClick:P,class:"show-controls-btn",title:"Show controls"},[m(l,{name:"menu",size:"20"})])):c("",!0),r("div",j,[r("div",E,[V.value?(u(),p(e,{key:C.value,modelValue:V.value.content,"onUpdate:modelValue":n[0]||(n[0]=e=>V.value.content=e),presentationMode:!0,readonly:!0},null,8,["modelValue"])):c("",!0)])])]))}},[["__scopeId","data-v-14c0e610"]]);export{x as default};
