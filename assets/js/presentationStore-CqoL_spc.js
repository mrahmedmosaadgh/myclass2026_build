import{Z as e}from"./vendor-BWKGNkNB.js";const t=e("presentation",{state:()=>({slides:[],currentSlideIndex:0,presentationTitle:"Untitled Presentation",isPresentationMode:!1}),actions:{setPresentationMode(e){console.log("Setting presentation mode:",e),this.isPresentationMode=e},setCurrentSlideIndex(e){e>=0&&e<this.slides.length&&(this.currentSlideIndex=e)},deleteSlide(e){e>=0&&e<this.slides.length&&(this.slides.splice(e,1),this.currentSlideIndex>=this.slides.length&&(this.currentSlideIndex=Math.max(0,this.slides.length-1)))},duplicateSlide(e){if(e>=0&&e<this.slides.length){const t=this.slides[e],n={...JSON.parse(JSON.stringify(t)),id:Date.now(),title:`${t.title} (Copy)`};this.slides.splice(e+1,0,n),this.currentSlideIndex=e+1}},updateSlideContent(e){this.currentSlide&&(this.currentSlide.content=e)},updateSlideTitle(e,t){e>=0&&e<this.slides.length&&(this.slides[e].title=t)},setTitle(e){this.presentationTitle=e},setSlides(e){console.log("Setting slides:",e),this.slides=e.map(e=>{var t,n;return{id:e.id||Date.now(),title:e.title||"",content:{elements:(null==(t=e.content)?void 0:t.elements)||[],backgroundImage:(null==(n=e.content)?void 0:n.backgroundImage)||""}}})},loadPresentation(e){console.log("Loading presentation data:",e),this.setSlides(e.slides||[]),this.presentationTitle=e.title||"Untitled Presentation",this.currentSlideIndex=0},addElement(e){if(!this.currentSlide)throw new Error("No current slide selected");this.currentSlide.content||(this.currentSlide.content={elements:[],backgroundImage:""}),Array.isArray(this.currentSlide.content.elements)||(this.currentSlide.content.elements=[]),this.currentSlide.content.elements.push(e)},addSlide2(e=null){const t={id:Date.now(),title:"",content:{elements:[],backgroundImage:""}};e&&Object.assign(t,JSON.parse(JSON.stringify(e))),this.slides.push(t)},addSlide(){const e={id:Date.now(),title:`Slide ${this.slides.length+1}`,content:{elements:[],backgroundImage:""}};this.slides.push(e),this.currentSlideIndex=this.slides.length-1},updateElementInCurrentSlide(e,t){var n,i;if(!(null==(i=null==(n=this.currentSlide)?void 0:n.content)?void 0:i.elements))return;const s=this.currentSlide.content.elements.findIndex(t=>t.id===e);if(-1!==s){const e=this.currentSlide.content.elements[s];this.currentSlide.content.elements[s]={...e,...t},console.log("Element updated:",this.currentSlide.content.elements[s])}}},getters:{currentSlide:e=>e.slides.length&&e.slides[e.currentSlideIndex]||null}});export{t as u};
