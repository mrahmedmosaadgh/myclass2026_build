import{o as e,p as t}from"./app-C-WHvmzS.js";import{u as a}from"./i18n-kquWfmcz.js";import s from"./AvatarManager-BDnCsNla.js";import{a as d,N as l,J as n,O as r,b as i,K as o,Q as u,V as m,U as c,W as p}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./ui-Bfjdq-TR.js";import"./CameraCapture-DZiz3Djf.js";const f={class:"relative w-36 h-48 mt-14 flex flex-col items-center"},b={class:"text-center p-1"},v={class:"font-bold text-base"},y={key:0,class:"text-sm text-yellow-300 font-arabic mt-1"},g={class:"absolute -top-10 text-center w-full z-20 name-container"},h={class:"last-name"},x={class:"student-avatar-wrapper z-10 relative"},N={class:"flex flex-col gap-1 p-1"},w={class:"text-green-600 font-bold"},S={class:"text-red-600 font-bold"},j={class:"border-t pt-1 font-bold"},B=e({__name:"StudentCard",props:{student:{type:Object,required:!0},selected:{type:Boolean,default:!1},selectedId:{type:[String,Number],default:null},cardClass:{type:[String,Object,Array],default:""},studentSummary:{type:Object,default:()=>({positive:0,negative:0,total:0})},avatarEditEnabled:{type:Boolean,default:!1},showAvatarButtons:{type:Boolean,default:!1},disableBehavior:{type:Boolean,default:!1},allowDisabledClick:{type:Boolean,default:!1},isAbsent:{type:Boolean,default:!1}},emits:["select","open-camera","open-behavior"],setup(e,{emit:B}){const{locale:_}=a(),C=e,k=B;function A(){C.disableBehavior&&!C.allowDisabledClick||k("select",C.student.id)}function E(e){if(!e||"string"!=typeof e)return{firstName:"",secondName:"",lastName:""};const t=e.trim().split(/\s+/).filter(e=>e.length>0),a=t[0]||"",s=t.length>1?t[t.length-1]:"";return{firstName:a,secondName:t.length>2?t.slice(1,-1).join(" "):"",lastName:s}}const I=d(()=>"ar"===_.value&&C.student.name_ar?E(C.student.name_ar):{firstName:C.student.firstName||E(C.student.name).firstName,lastName:C.student.lastName||E(C.student.name).lastName}),O=d(()=>{var e;const t=(null==(e=C.studentSummary)?void 0:e.total)||0;return t>10?"badge-excellent":t>0?"badge-good":t<0?"badge-warning":"badge-neutral"});return(a,d)=>(n(),l("div",f,[r("div",{class:c(["student-card",e.selected||e.selectedId===e.student.id?"selected":"",e.disableBehavior?"disabled-card":"",e.isAbsent?"absent-card":""]),onClick:A},[i(t,{anchor:"top middle",self:"bottom middle",offset:[0,45],class:"bg-gray-900 text-white shadow-xl border border-gray-700"},{default:o(()=>[r("div",b,[r("div",v,m(e.student.name),1),e.student.name_ar?(n(),l("div",y,m(e.student.name_ar),1)):u("",!0)])]),_:1}),r("div",g,[r("div",{class:c(["first-name",[e.selected||e.selectedId===e.student.id?"selected-name":"",e.disableBehavior?"disabled-first-name":""]])},m(I.value.firstName),3),r("div",h,m(I.value.lastName),1)]),r("div",x,[i(s,{student:e.student,size:"7.5rem","edit-enabled":e.avatarEditEnabled,"onUpdate:avatar":d[0]||(d[0]=t=>e.student.avatar=t)},null,8,["student","edit-enabled"]),e.studentSummary?(n(),l("div",{key:0,class:c(["points-badge",O.value])},[p(m(e.studentSummary.total)+" ",1),i(t,{class:"bg-white text-black shadow-lg border border-gray-200"},{default:o(()=>[r("div",N,[r("div",w,m(a.$t("rewardSys.points.positive"))+": +"+m(e.studentSummary.positive),1),r("div",S,m(a.$t("rewardSys.points.negative"))+": -"+m(e.studentSummary.negative),1),r("div",j,m(a.$t("rewardSys.points.total"))+": "+m(e.studentSummary.total),1)])]),_:1})],2)):u("",!0)])],2)]))}},[["__scopeId","data-v-4572771d"]]);export{B as default};
