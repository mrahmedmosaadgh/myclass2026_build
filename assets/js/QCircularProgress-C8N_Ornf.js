import{aQ as e,D as r,aR as a,aB as t,bd as o}from"./app-BB4Fw2oM.js";import{a as s,p as l,h as n}from"./vendor-DuKqz2x4.js";const u={...e,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},i=100*Math.PI,c=Math.round(1e3*i)/1e3,d=r({name:"QCircularProgress",props:{...u,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:r}){const{proxy:{$q:u}}=l(),d=a(e),v=s(()=>{const r=(!0===u.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===u.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-r}deg)`:`rotate3d(0, 0, 1, ${r-90}deg)`}}),m=s(()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),p=s(()=>100/(1-e.thickness/2)),f=s(()=>`${p.value/2} ${p.value/2} ${p.value} ${p.value}`),g=s(()=>t(e.value,e.min,e.max)),k=s(()=>e.max-e.min),h=s(()=>e.thickness/2*p.value),x=s(()=>{const r=(e.max-g.value)/k.value,a=!0===e.rounded&&g.value<e.max&&r<.25?h.value/2*(1-r/.25):0;return i*r+a});function y({thickness:e,offset:r,color:a,cls:t,rounded:o}){return n("circle",{class:"q-circular-progress__"+t+(void 0!==a?` text-${a}`:""),style:m.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":c,"stroke-dashoffset":r,"stroke-linecap":o,cx:p.value,cy:p.value,r:50})}return()=>{const a=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&a.push(n("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:50-h.value/2,cx:p.value,cy:p.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&a.push(y({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),a.push(y({cls:"circle",thickness:h.value,offset:x.value,color:e.color,rounded:!0===e.rounded?"round":void 0}));const t=[n("svg",{class:"q-circular-progress__svg",style:v.value,viewBox:f.value,"aria-hidden":"true"},a)];return!0===e.showValue&&t.push(n("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==r.default?r.default():[n("div",g.value)])),n("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:d.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:g.value},o(r.internal,t))}}});export{d as Q};
