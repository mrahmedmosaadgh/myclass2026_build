import{f as l,Q as e,b as a}from"./app-B77gjd5a.js";import{Q as o}from"./QTable-Dzgz30xz.js";import{f as r,o as i,M as t,J as s,N as n,b as d,K as m,_ as u}from"./vendor-DuKqz2x4.js";import c from"./SkillForm-Bj2LpFpb.js";import{_ as p}from"./ImportExcel-BiSD1hL0.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./QMarkupTable-xKG6mM4A.js";import"./QSelect-DB_tK-Lk.js";import"./rtl-Cr6c3OOr.js";import"./QLinearProgress-B9hMkhRG.js";import"./use-fullscreen-Cf3Zl1YN.js";import"./SecondaryButton-BDKLxmbK.js";import"./PrimaryButton-Cw-PZntm.js";import"./Modal-v4FIiBw3.js";import"./xlsx-cMC2LkxH.js";const v={class:"q-gutter-md mb-4"},b={class:"row q-gutter-md items-center"},f={__name:"Index",setup(f){const k=r([]),j=r(""),y=r(!1),w=r(!1),S=r(null),q=[{key:"name",label:"Skill Name",required:!0},{key:"description",label:"Description"},{key:"level_id",label:"Level ID",required:!0},{key:"order",label:"Display Order"}];function g(){y.value=!0,u.get("/qdrat/skills",{params:{search:j.value}}).then(l=>k.value=l.data).finally(()=>y.value=!1)}function x(){S.value=null,w.value=!0}function _(){window.open("/qdrat/skills/import/template","_blank")}function D(){g()}return i(g),(r,i)=>(s(),t("div",null,[n("div",v,[n("div",b,[d(l,{modelValue:j.value,"onUpdate:modelValue":[i[0]||(i[0]=l=>j.value=l),g],label:"Search Skills",debounce:"400",class:"col"},null,8,["modelValue"]),d(e,{label:"Add Skill",icon:"add",onClick:x,color:"primary"}),d(e,{label:"Download Template",icon:"download",onClick:_,color:"secondary"})]),d(p,{columns:q,"validate-url":"/qdrat/skills/validate","import-url":"/qdrat/skills/import","undo-url":"/qdrat/skills/undo","button-text":"Import Skills from Excel",onImported:D})]),d(o,{rows:k.value,columns:[{name:"name",label:"Skill Name",field:"name",sortable:!0},{name:"description",label:"Description",field:"description"},{name:"level",label:"Level",field:l=>{var e;return(null==(e=l.level)?void 0:e.name)||"â€”"}},{name:"order",label:"Order",field:"order",sortable:!0},{name:"actions",label:"",sortable:!1}],"row-key":"id",loading:y.value,pagination:{rowsPerPage:20}},{"body-cell-actions":m(l=>[d(e,{icon:"edit",dense:"",flat:"",color:"primary",onClick:e=>{return a=l.row,S.value=a,void(w.value=!0);var a}},null,8,["onClick"])]),_:1},8,["rows","columns","loading"]),d(a,{modelValue:w.value,"onUpdate:modelValue":i[2]||(i[2]=l=>w.value=l),persistent:""},{default:m(()=>[d(c,{model:S.value,onSaved:i[1]||(i[1]=()=>{g(),w.value.value=!1})},null,8,["model"])]),_:1},8,["modelValue"])]))}};export{f as default};
