import{o as e,u as t,d as o,C as a,c as n,Q as c,aj as r,g as i,aP as s,h as d,i as l,l as u,m}from"./app-BwCflFkV.js";import{Q as f}from"./QSpace-CtVAwmqA.js";import{Q as p}from"./QBadge-CShv2hr3.js";import{H as g,I as y,J as b,b as v,M as _,U as h,V as w,O as k,L as x,x as q}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const C={class:"row items-center justify-between"},j={class:"col"},D={class:"row items-center"},z={class:"text-h6 text-weight-bold ellipsis"},L={class:"col-auto"},M={class:"text-body2 text-grey-7 q-mb-sm"},B={class:"row items-center q-gutter-xs q-mb-sm"},E={class:"document-meta text-caption text-grey-6"},Q={key:0,class:"q-mb-xs"},S={key:1},A={key:2},O={class:"status-indicators"},I=e({__name:"DocumentationCard",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:I}){const N=t(),V=e,$=()=>{var e;if("file"===V.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=V.document.type)?void 0:e.toLowerCase()]||"description"},G=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=V.document.category)?void 0:e.toLowerCase()]||"description"},H=()=>{if(V.document.excerpt)return V.document.excerpt;if(V.document.content){if("string"==typeof V.document.content)return V.document.content.substring(0,150)+"...";if(Array.isArray(V.document.content)){return V.document.content.map(e=>e.content||"").join(" ").substring(0,150)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},K=()=>{if(V.document.created_at){const e=new Date(V.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},P=()=>{N.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},R=()=>{N.notify({type:"info",message:"Export functionality coming soon",position:"top"})},U=()=>{N.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,I)=>(y(),g(m,{class:"documentation-card"},{default:b(()=>[v(n,{class:"card-header"},{default:b(()=>{return[_("div",C,[_("div",j,[_("div",D,[v(o,{name:$(),color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=V.document.type)?void 0:t.toLowerCase()]||"primary",size:"1.5rem",class:"q-mr-sm"},null,8,["name","color"]),_("div",z,h(e.document.title),1)])]),_("div",L,[v(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:b(()=>[w(h(e.document.source),1)]),_:1},8,["color","icon"])])])];var t}),_:1}),v(n,{class:"card-content"},{default:b(()=>{return[_("div",M,h(H()),1),_("div",B,[v(a,{color:{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=V.document.category)?void 0:t.toLowerCase()]||"primary","text-color":"white",size:"sm",icon:G()},{default:b(()=>[w(h(e.document.category),1)]),_:1},8,["color","icon"]),e.document.type&&e.document.type!==e.document.category?(y(),g(a,{key:0,color:"grey-6","text-color":"white",size:"sm"},{default:b(()=>[w(h(e.document.type),1)]),_:1})):k("",!0)]),_("div",E,[e.document.author?(y(),x("div",Q,[v(o,{name:"person",size:"xs",class:"q-mr-xs"}),w(" "+h(e.document.author.name),1)])):k("",!0),e.document.created_at||e.document.modified?(y(),x("div",S,[v(o,{name:"schedule",size:"xs",class:"q-mr-xs"}),w(" "+h(V.document.created_at?new Date(V.document.created_at).toLocaleDateString():V.document.modified?new Date(1e3*V.document.modified).toLocaleDateString():""),1)])):k("",!0),e.document.size?(y(),x("div",A,[v(o,{name:"description",size:"xs",class:"q-mr-xs"}),w(" "+h(J(e.document.size)),1)])):k("",!0)])];var t}),_:1}),v(u,{class:"card-actions"},{default:b(()=>[v(c,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:I[0]||(I[0]=o=>t.$emit("view",e.document)),class:"q-mr-sm"}),"database"===e.document.source?(y(),g(c,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:I[1]||(I[1]=o=>t.$emit("edit",e.document))})):k("",!0),v(f),v(c,{flat:"",round:"",color:"grey-6",icon:"more_vert"},{default:b(()=>[v(r,null,{default:b(()=>[v(i,{style:{"min-width":"100px"}},{default:b(()=>[q((y(),g(d,{clickable:"",onClick:P},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"link"})]),_:1}),v(l,null,{default:b(()=>I[2]||(I[2]=[w("Copy Link")])),_:1})]),_:1})),[[s]]),q((y(),g(d,{clickable:"",onClick:R},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"download"})]),_:1}),v(l,null,{default:b(()=>I[3]||(I[3]=[w("Export")])),_:1})]),_:1})),[[s]]),"file"===e.document.source?q((y(),g(d,{key:0,clickable:"",onClick:U},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"code"})]),_:1}),v(l,null,{default:b(()=>I[4]||(I[4]=[w("Open in Editor")])),_:1})]),_:1})),[[s]]):k("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),_("div",O,["draft"===e.document.status?(y(),g(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:b(()=>I[5]||(I[5]=[w(" Draft ")])),_:1})):k("",!0),"archived"===e.document.status?(y(),g(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:b(()=>I[6]||(I[6]=[w(" Archived ")])),_:1})):k("",!0),K()?(y(),g(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:b(()=>I[7]||(I[7]=[w(" New ")])),_:1})):k("",!0)])]),_:1}))}},[["__scopeId","data-v-1f001c3f"]]);export{I as default};
