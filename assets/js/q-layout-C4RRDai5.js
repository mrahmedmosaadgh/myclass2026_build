import{D as e,E as a,aV as l,aD as o,G as t,P as r,o as n,A as s,Q as u}from"./app-Buylb2AA.js";import{Q as i,a as v}from"./QToolbar-BC_oHanJ.js";import{Q as d}from"./QHeader-hL-bsl9A.js";import{Q as f}from"./QDrawer-GX2JE2PO.js";import{Q as c}from"./QPageContainer-PmEjwbBk.js";import{q as m,f as p,a as g,p as h,k as w,z as b,h as V,ae as _,H as y,I as Q,J as q,b as j,V as x,M as D}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const z=e({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:s}){const{proxy:{$q:u}}=h(),i=m(l,a);if(i===a)return console.error("QFooter needs to be child of QLayout"),a;const v=p(parseInt(e.heightHint,10)),d=p(!0),f=p(!0===o.value||!0===i.isContainer.value?0:window.innerHeight),c=g(()=>!0===e.reveal||-1!==i.view.value.indexOf("F")||u.platform.is.ios&&!0===i.isContainer.value),_=g(()=>!0===i.isContainer.value?i.containerHeight.value:f.value),y=g(()=>{if(!0!==e.modelValue)return 0;if(!0===c.value)return!0===d.value?v.value:0;const a=i.scroll.value.position+_.value+v.value-i.height.value;return a>0?a:0}),Q=g(()=>!0!==e.modelValue||!0===c.value&&!0!==d.value),q=g(()=>!0===e.modelValue&&!0===Q.value&&!0===e.reveal),j=g(()=>"q-footer q-layout__section--marginal "+(!0===c.value?"fixed":"absolute")+"-bottom"+(!0===e.bordered?" q-footer--bordered":"")+(!0===Q.value?" q-footer--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus"+(!0!==c.value?" hidden":""):"")),x=g(()=>{const e=i.rows.value.bottom,a={};return"l"===e[0]&&!0===i.left.space&&(a[!0===u.lang.rtl?"right":"left"]=`${i.left.size}px`),"r"===e[2]&&!0===i.right.space&&(a[!0===u.lang.rtl?"left":"right"]=`${i.right.size}px`),a});function D(e,a){i.update("footer",e,a)}function z(e,a){e.value!==a&&(e.value=a)}function C({height:e}){z(v,e),D("size",e)}function H(e){!0===q.value&&z(d,!0),s("focusin",e)}w(()=>e.modelValue,e=>{D("space",e),z(d,!0),i.animate()}),w(y,e=>{D("offset",e)}),w(()=>e.reveal,a=>{!1===a&&z(d,e.modelValue)}),w(d,e=>{i.animate(),s("reveal",e)}),w([v,i.scroll,i.height],function(){if(!0!==e.reveal)return;const{direction:a,position:l,inflectionPoint:o}=i.scroll.value;z(d,"up"===a||l-o<100||i.height.value-_.value-l-v.value<300)}),w(()=>u.screen.height,e=>{!0!==i.isContainer.value&&z(f,e)});const F={};return i.instances.footer=F,!0===e.modelValue&&D("size",v.value),D("space",e.modelValue),D("offset",y.value),b(()=>{i.instances.footer===F&&(i.instances.footer=void 0,D("size",0),D("offset",0),D("space",!1))}),()=>{const a=t(n.default,[V(r,{debounce:0,onResize:C})]);return!0===e.elevated&&a.push(V("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),V("footer",{class:j.value,style:x.value,onFocusin:H},a)}}});const C=n({setup(){const e=p(!1);return{rightDrawerOpen:e,toggleRightDrawer(){e.value=!e.value}}}},[["render",function(e,a,l,o,t,r){const n=_("router-view"),m=_("q-layout",!0);return Q(),y(m,{view:"hHh lpR fFf"},{default:q(()=>[j(d,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:q(()=>[j(i,null,{default:q(()=>[j(v,null,{default:q(()=>[j(s,null,{default:q(()=>a[1]||(a[1]=[D("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[2]||(a[2]=x(" Title "))]),_:1}),j(u,{dense:"",flat:"",round:"",icon:"menu",onClick:o.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),j(f,{modelValue:o.rightDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=e=>o.rightDrawerOpen=e),side:"right",overlay:"",behavior:"mobile",elevated:""},null,8,["modelValue"]),j(c,null,{default:q(()=>[j(n)]),_:1}),j(z,{reveal:"",elevated:"",class:"bg-grey-8 text-white"},{default:q(()=>[j(i,null,{default:q(()=>[j(v,null,{default:q(()=>[j(s,null,{default:q(()=>a[3]||(a[3]=[D("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[4]||(a[4]=D("div",null,"Title",-1))]),_:1})]),_:1})]),_:1})]),_:1})}]]);export{C as default};
