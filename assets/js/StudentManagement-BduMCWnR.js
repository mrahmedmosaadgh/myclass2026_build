import{o as e}from"./app-CqJgtQaN.js";import{M as t,J as s,N as a,V as l,L as i,U as o,Q as n,F as r,R as d,y as c,ae as u,I as m,K as g,W as p,m as v,am as y,f as h,k as x,b}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const f={class:"flex items-center space-x-4"},w={class:"flex-shrink-0"},k=["src","alt"],C={class:"flex-1"},S={class:"text-lg font-semibold text-gray-900"},j={class:"text-sm text-gray-600"},V={class:"flex-shrink-0"},A={key:0,class:"text-sm text-red-500"},D={class:"mt-4 grid grid-cols-2 gap-4"},z={class:"text-sm"};const M=e({name:"StudentCard",props:{student:{type:Object,required:!0}},computed:{isAttending(){return 1===this.student.attend},statusClass(){return{"text-green-600":"active"===this.student.status,"text-red-600":"inactive"===this.student.status,"text-yellow-600":"pending"===this.student.status}}}},[["render",function(e,n,r,d,c,u){return s(),t("div",{class:o(["bg-white rounded-lg shadow-md p-4 transition-shadow duration-200",{"hover:shadow-lg":u.isAttending,"opacity-60 cursor-not-allowed":!u.isAttending}])},[a("div",f,[a("div",w,[a("img",{src:r.student.avatar||"/default-avatar.png",class:"h-12 w-12 rounded-full",alt:r.student.name},null,8,k)]),a("div",C,[a("h3",S,l(r.student.name),1),a("p",j,"ID: "+l(r.student.id),1)]),a("div",V,[u.isAttending?i(e.$slots,"actions",{key:1}):(s(),t("div",A,"Not Attending"))])]),a("div",D,[a("div",z,[n[0]||(n[0]=a("span",{class:"text-gray-500"},"Status:",-1)),a("span",{class:o(["ml-2",u.statusClass])},l(r.student.status),3)])])],2)}]]),I={class:"overflow-x-auto"},N={class:"mb-4 flex items-center justify-between"},_={class:"flex items-center space-x-4"},B={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},E={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},J={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},T={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},U={class:"space-y-2"},$=["id","onUpdate:modelValue"],q=["for"],H={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},O={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-gray-50"},F=["onClick"],G={class:"flex items-center space-x-1"},K={key:0,class:"ml-2"},L={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},R={key:1,class:"text-red-500"};const W=e({name:"StudentTable",props:{students:{type:Array,required:!0}},data:()=>({showColumnSelector:!1,sortColumn:"name",sortDirection:"asc",availableColumns:[{key:"id",label:"ID",visible:!0},{key:"name",label:"Name",visible:!0},{key:"class",label:"Class",visible:!0},{key:"grade",label:"Grade",visible:!0},{key:"status",label:"Status",visible:!0},{key:"email",label:"Email",visible:!0},{key:"phone",label:"Phone",visible:!1},{key:"address",label:"Address",visible:!1}]}),computed:{visibleColumns(){return this.availableColumns.filter(e=>e.visible)},sortedStudents(){return[...this.students].sort((e,t)=>{const s=this.getValue(e,this.sortColumn),a=this.getValue(t,this.sortColumn);return"asc"===this.sortDirection?s>a?1:-1:s<a?1:-1})}},methods:{toggleColumnSelector(){this.showColumnSelector=!this.showColumnSelector},sortBy(e){this.sortColumn===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":(this.sortColumn=e,this.sortDirection="asc")},getValue:(e,t)=>t.split(".").reduce((e,t)=>null==e?void 0:e[t],e)},created(){const e=localStorage.getItem("studentTableColumns");if(e){const t=JSON.parse(e);this.availableColumns=this.availableColumns.map(e=>{var s;return{...e,visible:null!=(s=t[e.key])?s:e.visible}})}},watch:{availableColumns:{handler(e){const t={};e.forEach(e=>{t[e.key]=e.visible}),localStorage.setItem("studentTableColumns",JSON.stringify(t))},deep:!0}}},[["render",function(e,h,x,b,f,w){return s(),t("div",I,[a("div",N,[a("div",_,[a("button",{onClick:h[0]||(h[0]=(...e)=>w.toggleColumnSelector&&w.toggleColumnSelector(...e)),class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Customize Columns ")])]),f.showColumnSelector?(s(),t("div",B,[a("div",E,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:h[1]||(h[1]=(...e)=>w.toggleColumnSelector&&w.toggleColumnSelector(...e))}),a("div",J,[a("div",T,[h[3]||(h[3]=a("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Customize Columns",-1)),a("div",U,[(s(!0),t(r,null,d(f.availableColumns,e=>(s(),t("div",{key:e.key,class:"flex items-center"},[c(a("input",{type:"checkbox",id:e.key,"onUpdate:modelValue":t=>e.visible=t,class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,$),[[u,e.visible]]),a("label",{for:e.key,class:"ml-2 text-sm text-gray-700"},l(e.label),9,q)]))),128))])]),a("div",H,[a("button",{onClick:h[2]||(h[2]=(...e)=>w.toggleColumnSelector&&w.toggleColumnSelector(...e)),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Close ")])])])])):n("",!0),a("table",O,[a("thead",P,[a("tr",null,[(s(!0),t(r,null,d(w.visibleColumns,e=>(s(),t("th",{key:e.key,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:t=>w.sortBy(e.key)},[a("div",G,[a("span",null,l(e.label),1),f.sortColumn===e.key?(s(),t("span",K,l("asc"===f.sortDirection?"↑":"↓"),1)):n("",!0)])],8,F))),128)),h[4]||(h[4]=a("th",{scope:"col",class:"relative px-6 py-3"},[a("span",{class:"sr-only"},"Actions")],-1))])]),a("tbody",L,[(s(!0),t(r,null,d(w.sortedStudents,n=>(s(),t("tr",{key:n.id,class:o({"opacity-60 bg-gray-50":1!==n.attend})},[(s(!0),t(r,null,d(w.visibleColumns,e=>(s(),t("td",{key:e.key,class:"px-6 py-4 whitespace-nowrap"},[(s(),m(y(e.component||"span"),v({ref_for:!0},e.props?e.props(n):{}),{default:g(()=>[p(l(w.getValue(n,e.key)),1)]),_:2},1040))]))),128)),a("td",Q,[1===n.attend?i(e.$slots,"actions",{key:0,student:n}):(s(),t("span",R,"Not Attending"))])],2))),128))])])])}]]),X={class:"flex items-center space-x-2 bg-gray-100 p-1 rounded-lg"};const Y=e({name:"ViewToggle",props:{view:{type:String,required:!0,validator:e=>["card","table"].includes(e)}},emits:["update:view"]},[["render",function(e,l,i,n,r,d){return s(),t("div",X,[a("button",{onClick:l[0]||(l[0]=t=>e.$emit("update:view","card")),class:o(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200","card"===i.view?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-900"])},l[2]||(l[2]=[a("div",{class:"flex items-center space-x-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})]),a("span",null,"Cards")],-1)]),2),a("button",{onClick:l[1]||(l[1]=t=>e.$emit("update:view","table")),class:o(["px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200","table"===i.view?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-900"])},l[3]||(l[3]=[a("div",{class:"flex items-center space-x-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})]),a("span",null,"Table")],-1)]),2)])}]]),Z={class:"p-6"},ee={class:"mb-6 flex justify-between items-center"},te={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},se=["onClick"],ae=["onClick"],le={__name:"StudentManagement",setup(e){const l=h(localStorage.getItem("studentViewPreference")||"card"),i=h([{id:1,name:"John Doe",class:"10A",grade:"A",status:"active",attend:1,email:"john@example.com",phone:"+1234567890",address:"123 School St"},{id:2,name:"Jane Smith",class:"10A",grade:"B",status:"active",attend:0,email:"jane@example.com",phone:"+1234567891",address:"124 School St"}]);x(l,e=>{try{localStorage.setItem("studentViewPreference",e)}catch(t){}});const o=e=>{console.log("Edit student:",e)};return(e,n)=>(s(),t("div",Z,[a("div",ee,[n[1]||(n[1]=a("h1",{class:"text-2xl font-semibold text-gray-900"},"Students",-1)),b(Y,{view:l.value,"onUpdate:view":n[0]||(n[0]=e=>l.value=e)},null,8,["view"])]),"card"===l.value?(s(),t("div",te,[(s(!0),t(r,null,d(i.value,e=>(s(),m(M,{key:e.id,student:e},{actions:g(()=>[a("button",{class:"text-indigo-600 hover:text-indigo-900",onClick:t=>o(e)}," Edit ",8,se)]),_:2},1032,["student"]))),128))])):(s(),m(W,{key:1,students:i.value},{actions:g(({student:e})=>[a("button",{class:"text-indigo-600 hover:text-indigo-900",onClick:t=>o(e)}," Edit ",8,ae)]),_:1},8,["students"]))]))}};export{le as default};
