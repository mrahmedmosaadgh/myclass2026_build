import{r as e,t}from"./app-CCwy2VVq.js";import{u as a}from"./i18n-B0T1C7j3.js";import s from"./AvatarManager-CixHYCoz.js";import{a as l,N as d,J as n,R as r,U as i,O as o,W as m,V as u,b as c,K as b}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./ui-B7TfxbV_.js";import"./CameraCapture-Dnqkv08W.js";import"./QFile-Dt6Is0Z6.js";import"./use-file-bC8hQva8.js";import"./QImg-BuaN7zGZ.js";const f={class:"relative w-36 flex flex-col items-center"},p={class:"text-center w-full mb-2 name-container"},v={key:0,class:"block text-xs font-normal opacity-90 mb-0.5"},y={class:"text-center p-1"},g={class:"font-bold text-base"},N={key:0,class:"text-sm text-yellow-300 font-arabic mt-1"},x={class:"student-avatar-wrapper z-10 relative"},h={class:"flex flex-col gap-1 p-1"},w={class:"text-green-600 font-bold"},j={class:"text-red-600 font-bold"},S={class:"border-t pt-1 font-bold"},B=e({__name:"StudentCard",props:{student:{type:Object,required:!0},selected:{type:Boolean,default:!1},selectedId:{type:[String,Number],default:null},cardClass:{type:[String,Object,Array],default:""},studentSummary:{type:Object,default:()=>({positive:0,negative:0,total:0})},avatarEditEnabled:{type:Boolean,default:!1},showAvatarButtons:{type:Boolean,default:!1},disableBehavior:{type:Boolean,default:!1},allowDisabledClick:{type:Boolean,default:!1},isAbsent:{type:Boolean,default:!1}},emits:["select","open-camera","open-behavior"],setup(e,{emit:B}){const{locale:_}=a(),k=e,C=B;function I(){k.disableBehavior&&!k.allowDisabledClick||C("select",k.student.id)}function A(e){if(!e||"string"!=typeof e)return{firstName:"",secondName:"",lastName:""};const t=e.trim().split(/\s+/).filter(e=>e.length>0),a=t[0]||"",s=t.length>1?t[t.length-1]:"";return{firstName:a,secondName:t.length>2?t.slice(1,-1).join(" "):"",lastName:s}}const E=l(()=>{if("ar"===_.value&&k.student.name_ar){return{...A(k.student.name_ar),fullName:k.student.name_ar}}const e=A(k.student.name);return{firstName:k.student.firstName||e.firstName,lastName:k.student.lastName||e.lastName,secondName:e.secondName,fullName:k.student.name}}),O=l(()=>{var e;const t=(null==(e=k.studentSummary)?void 0:e.total)||0;return t>10?"badge-excellent":t>0?"badge-good":t<0?"badge-warning":"badge-neutral"});return(a,l)=>(n(),d("div",f,[r("div",p,[r("div",{class:i(["last-name mt-1 h-16",{"selected-last-name":e.selected||e.selectedId===e.student.id,"disabled-last-name":e.disableBehavior}])},[r("div",{class:i(["first-name",[e.selected||e.selectedId===e.student.id?"selected-name":"",e.disableBehavior?"disabled-first-name":""]])},u(E.value.firstName),3),E.value.secondName?(n(),d("span",v,u(E.value.secondName),1)):o("",!0),m(" "+u(E.value.lastName),1)],2)]),r("div",{class:i(["student-card",e.selected||e.selectedId===e.student.id?"selected":"",e.disableBehavior?"disabled-card":"",e.isAbsent?"absent-card":""]),onClick:I},[c(t,{anchor:"top middle",self:"bottom middle",offset:[0,45],class:"bg-gray-900 text-white shadow-xl border border-gray-700"},{default:b(()=>[r("div",y,[r("div",g,u(e.student.name),1),e.student.name_ar?(n(),d("div",N,u(e.student.name_ar),1)):o("",!0)])]),_:1}),r("div",x,[c(s,{student:e.student,size:"7.5rem","edit-enabled":e.avatarEditEnabled,"onUpdate:avatar":l[0]||(l[0]=t=>e.student.avatar=t)},null,8,["student","edit-enabled"]),e.studentSummary?(n(),d("div",{key:0,class:i(["points-badge",O.value])},[m(u(e.studentSummary.total)+" ",1),c(t,{class:"bg-white text-black shadow-lg border border-gray-200"},{default:b(()=>[r("div",h,[r("div",w,u(a.$t("rewardSys.points.positive"))+": +"+u(e.studentSummary.positive),1),r("div",j,u(a.$t("rewardSys.points.negative"))+": -"+u(e.studentSummary.negative),1),r("div",S,u(a.$t("rewardSys.points.total"))+": "+u(e.studentSummary.total),1)])]),_:1})],2)):o("",!0)])],2)]))}},[["__scopeId","data-v-bb8abe60"]]);export{B as default};
