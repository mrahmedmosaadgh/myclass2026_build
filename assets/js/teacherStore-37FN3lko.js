import{Z as a,f as e,_ as s}from"./vendor-DuKqz2x4.js";const t=a("teacher",()=>{const a=e([]),t=e([]),r=e(!1),l=e(null),d=e(!1);return{grades:a,classrooms:t,loading:r,error:l,loaded:d,fetchTeacherData:async(e=!1)=>{if(!d.value||e){r.value=!0,l.value=null;try{const e=await s.get(route("lesson-presentation.teacher.grades"));e.data.data?(a.value=e.data.data.map(a=>({...a.grade,classrooms:a.classrooms,subjects:a.classrooms.flatMap(a=>a.subjects).filter((a,e,s)=>s.findIndex(e=>e.id===a.id)===e)})),t.value=e.data.data.flatMap(a=>a.classrooms.map(e=>({...e,grade:a.grade})))):(a.value=e.data.grades||[],t.value=e.data.classrooms||[]),d.value=!0}catch(o){console.error("Failed to fetch teacher data:",o),l.value="Failed to load teacher data."}finally{r.value=!1}}},getGradeById:e=>a.value.find(a=>a.id===e)}});export{t as u};
