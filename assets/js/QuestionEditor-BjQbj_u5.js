import{Q as e,p as l}from"./app-B77gjd5a.js";import{R as t}from"./RichTextEditor-DZSonAId.js";import o from"./StepByStepEditor-BhnEtsS6.js";import{M as s,J as a,N as r,Q as n,an as i,b as c,F as d,R as u,K as m,W as p}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./QColor-wHZP5dke.js";import"./QSlider-DfH-qdFu.js";import"./QTabs-D_ZwIIJm.js";import"./rtl-Cr6c3OOr.js";import"./QTab-CnAf4tCv.js";import"./QTabPanels-B5JhG1n5.js";import"./use-panel-N2fkKyR_.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-B_PJ80R0.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-CPVN-kGD.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-DL2HQ2sN.js";import"./QBadge-ZkvAqPBD.js";import"./QSelect-DB_tK-Lk.js";const b={class:"border rounded-lg p-4 bg-white shadow-sm"},f={class:"w-48"},g=["value"],y={class:"flex justify-between items-start mb-4"},x={class:"flex-1 mr-4"},h={key:0,class:"mb-4"},v={class:"flex justify-between items-center mb-2"},V={class:"flex gap-2"},_={class:"space-y-2"},w=["type","name","checked","onChange"],k={class:"flex-1"},j={key:1,class:"mb-4"},C={class:"flex gap-4"},Q={class:"flex items-center"},A=["name","checked"],S={class:"flex items-center"},T=["name","checked"],I={key:2,class:"mb-4"},q=["value"],M={key:3,class:"mb-4"},R={class:"mb-4"},D={class:"flex justify-between items-center pt-4 border-t border-gray-100 mt-4"},E={class:"flex items-center gap-4"},O={class:"flex items-center"},B=["value"],P={class:"flex items-center text-sm text-gray-600"},U=["checked"],F={__name:"QuestionEditor",props:{modelValue:{type:Object,required:!0},uniqueId:{type:String,default:()=>Math.random().toString(36).substr(2,9)}},emits:["update:modelValue","delete"],setup(F,{emit:$}){const z=F,N=$,H=(e,l)=>{N("update:modelValue",{...z.modelValue,[e]:l})},J=()=>{const e=z.modelValue.options||[],l=`opt_${Date.now()}`;H("options",[...e,{id:l,text:""}])},K=e=>{let l=[];"ABCD"===e?l=["A","B","C","D"]:"1234"===e?l=["1","2","3","4"]:"AR"===e&&(l=["أ","ب","ج","د"]);const t=l.map((e,l)=>({id:`opt_${Date.now()}_${l}`,text:e}));N("update:modelValue",{...z.modelValue,options:t,correct_answer:"single_choice"===z.modelValue.type?null:[]})};return($,N)=>(a(),s("div",b,[r("div",f,[N[14]||(N[14]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),r("select",{value:F.modelValue.type||"single_choice",onChange:N[0]||(N[0]=e=>H("type",e.target.value)),class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},N[13]||(N[13]=[i('<option value="single_choice">Single Choice</option><option value="multiple_choice">Multiple Choice</option><option value="true_false">True / False</option><option value="short_answer">Short Answer</option><option value="long_answer">Long Answer</option><option value="number">Number</option><option value="step_by_step">Step-by-Step</option>',7)]),40,g)]),r("div",y,[r("div",x,[N[15]||(N[15]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Question Text",-1)),c(t,{modelValue:F.modelValue.text||"","onUpdate:modelValue":N[1]||(N[1]=e=>H("text",e)),class:"w-full"},null,8,["modelValue"])])]),["single_choice","multiple_choice"].includes(F.modelValue.type)?(a(),s("div",h,[r("div",v,[N[16]||(N[16]=r("label",{class:"block text-sm font-medium text-gray-700"},"Options",-1)),r("div",V,[c(e,{onClick:N[2]||(N[2]=e=>K("ABCD")),outline:"",dense:"",size:"sm",color:"grey-7",label:"[A, B, C, D]","no-caps":""}),c(e,{onClick:N[3]||(N[3]=e=>K("1234")),outline:"",dense:"",size:"sm",color:"grey-7",label:"[1, 2, 3, 4]","no-caps":""}),c(e,{onClick:N[4]||(N[4]=e=>K("AR")),outline:"",dense:"",size:"sm",color:"grey-7",label:"[أ, ب, ج, د]","no-caps":""})])]),r("div",_,[(a(!0),s(d,null,u(F.modelValue.options||[],(o,n)=>{return a(),s("div",{key:o.id,class:"flex items-start gap-2"},[r("input",{type:"single_choice"===F.modelValue.type?"radio":"checkbox",name:"correct_"+F.uniqueId,checked:(i=o.id,"single_choice"===z.modelValue.type?z.modelValue.correct_answer===i:(z.modelValue.correct_answer||[]).includes(i)),onChange:e=>(e=>{if("single_choice"===z.modelValue.type)H("correct_answer",e);else{const l=z.modelValue.correct_answer||[],t=l.indexOf(e);H("correct_answer",-1===t?[...l,e]:l.filter(l=>l!==e))}})(o.id),class:"mt-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,40,w),r("div",k,[c(t,{modelValue:o.text||"","onUpdate:modelValue":e=>((e,l)=>{const t=[...z.modelValue.options||[]];t[e]={...t[e],text:l},H("options",t)})(n,e)},null,8,["modelValue","onUpdate:modelValue"])]),c(e,{onClick:e=>(e=>{const l=[...z.modelValue.options||[]];l.length<=2||(l.splice(e,1),H("options",l))})(n),flat:"",dense:"",round:"",color:"negative",icon:"close",disable:(F.modelValue.options||[]).length<=2},{default:m(()=>[c(l,null,{default:m(()=>N[17]||(N[17]=[p("Remove Option (Minimum 2 required)")])),_:1})]),_:2},1032,["onClick","disable"])]);var i}),128)),c(e,{onClick:J,flat:"",dense:"",color:"primary",icon:"add",label:"Add Option","no-caps":"",class:"q-mt-sm"})])])):n("",!0),"true_false"===F.modelValue.type?(a(),s("div",j,[N[20]||(N[20]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Correct Answer",-1)),r("div",C,[r("label",Q,[r("input",{type:"radio",name:"tf_"+F.uniqueId,checked:!0===F.modelValue.correct_answer,onChange:N[5]||(N[5]=e=>H("correct_answer",!0)),class:"mr-2"},null,40,A),N[18]||(N[18]=p(" True "))]),r("label",S,[r("input",{type:"radio",name:"tf_"+F.uniqueId,checked:!1===F.modelValue.correct_answer,onChange:N[6]||(N[6]=e=>H("correct_answer",!1)),class:"mr-2"},null,40,T),N[19]||(N[19]=p(" False "))])])])):n("",!0),["short_answer","number"].includes(F.modelValue.type)?(a(),s("div",I,[N[21]||(N[21]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Correct Answer",-1)),r("input",{type:"text",value:F.modelValue.correct_answer||"",onInput:N[7]||(N[7]=e=>H("correct_answer",e.target.value)),class:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the correct answer..."},null,40,q),N[22]||(N[22]=r("p",{class:"text-xs text-gray-500 mt-1"},"Exact match required (case-insensitive).",-1))])):n("",!0),"step_by_step"===F.modelValue.type?(a(),s("div",M,[c(o,{modelValue:F.modelValue.steps||[],"onUpdate:modelValue":N[8]||(N[8]=e=>H("steps",e))},null,8,["modelValue"])])):n("",!0),r("div",R,[N[23]||(N[23]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Feedback / Explanation (Optional)",-1)),c(t,{modelValue:F.modelValue.feedback||"","onUpdate:modelValue":N[9]||(N[9]=e=>H("feedback",e)),class:"w-full"},null,8,["modelValue"])]),r("div",D,[r("div",E,[r("div",O,[N[24]||(N[24]=r("label",{class:"text-sm text-gray-600 mr-2"},"Timer (sec):",-1)),r("input",{type:"number",value:F.modelValue.timer||0,onInput:N[10]||(N[10]=e=>H("timer",parseInt(e.target.value))),class:"w-20 p-1 border border-gray-300 rounded-md text-sm"},null,40,B)]),r("label",P,[r("input",{type:"checkbox",checked:F.modelValue.active||!1,onChange:N[11]||(N[11]=e=>H("active",e.target.checked)),class:"mr-2 rounded text-blue-600"},null,40,U),N[25]||(N[25]=p(" Active for Students "))])]),c(e,{onClick:N[12]||(N[12]=e=>$.$emit("delete")),flat:"",dense:"",color:"negative",icon:"delete",label:"Delete Question","no-caps":""})])]))}};export{F as default};
