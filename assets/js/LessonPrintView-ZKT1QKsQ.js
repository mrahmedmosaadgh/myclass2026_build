import{f as e,o as t,af as l,N as s,J as n,b as r,O as i,U as a,V as o,W as d,F as u,R as p,Q as c,_ as m,n as x}from"./vendor-nQjeLEvd.js";const y={class:"text-2xl font-bold text-gray-900"},b={class:"text-4xl font-bold text-gray-900 mb-4"},v={class:"text-xl text-gray-600"},g={class:"mt-4 text-sm text-gray-500"},f=["onClick"],w={class:"flex items-center justify-between mb-6 border-b border-gray-100 pb-2 print:border-gray-300"},h={class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},_={class:"text-xs text-gray-400 uppercase"},k={class:"slide-content"},T=["innerHTML"],L={key:1,class:"flex flex-col items-center"},H={key:0,class:"text-lg font-medium mb-4"},P=["src"],j={key:2,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},M={class:"text-sm text-gray-600"},B={key:3,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},D={class:"text-sm text-gray-600"},S={key:4,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},A={class:"text-sm text-gray-600"},F={key:5,class:"mt-2 text-sm text-gray-500 italic"},N={key:2,class:"space-y-8"},q=["innerHTML"],C={class:"ml-6 space-y-3"},V={key:0,class:"flex gap-8 text-lg"},$={key:1,class:"space-y-3"},I=["innerHTML"],z={__name:"LessonPrintView",props:{presentationId:{type:[Number,String],required:!0}},setup(z){const J=z,O=e({}),Q=e([]),R=e(0),U=e(!1),W=(e="")=>{if(!e||"string"!=typeof e)return"";const t={"⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9"};return e.replace(/\^(\d+|[n\-+])/g,(e,t)=>"n"===t?"<sup>n</sup>":t.split("").map(e=>/[0-9]/.test(e)?`<sup>${e}</sup>`:("-+".includes(e),e)).join("")).replace(/[\u00B2\u00B3\u2070-\u2079]/g,e=>`<sup>${t[e]||e}</sup>`).replace(/(\d)([\u2070-\u2079\u00B2\u00B3\u207B\u207A])/g,(e,l,s)=>l+"<sup>"+(t[s]||s)+"</sup>")},E=()=>{U.value=!1,setTimeout(()=>window.print(),100)},G=async e=>{U.value=!0,R.value=e,await x(),setTimeout(()=>{window.print(),setTimeout(()=>{U.value=!1},800)},150)};return t(()=>{(async()=>{try{const e=await m.get(route("lesson-presentation.show",{id:J.presentationId}));O.value=e.data,Q.value=e.data.slides||[]}catch(e){console.error("Failed to load lesson:",e)}})()}),(e,t)=>{var m,x;const z=l("Head");return n(),s(u,null,[r(z,{title:O.value.name?`Print: ${O.value.name}`:"Print Lesson"},null,8,["title"]),i("div",{class:a([U.value?"":"min-h-screen p-8 print:p-0","bg-white"])},[i("div",{class:a([U.value?"no-print":"print:hidden","max-w-4xl mx-auto mb-8 flex justify-between items-center"])},[i("h1",y,o(O.value.name),1),i("button",{onClick:E,class:"no-print inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[0]||(t[0]=[i("i",{class:"fas fa-print mr-2"},null,-1),d(" Print Lesson ")]))],2),i("div",{class:a(U.value?"":"max-w-4xl mx-auto space-y-8 print:w-full print:max-w-none print:space-y-8")},[i("div",{class:a([U.value?"no-print":"","text-center border-b-2 border-gray-200 pb-8 mb-12 print:border-b print:pb-8 print:mb-12"])},[i("h1",b,o(O.value.name),1),i("p",v,o(O.value.description),1),i("div",g,[i("p",null,"Teacher: "+o((null==(m=O.value.teacher)?void 0:m.name)||"N/A"),1),i("p",null,"Subject: "+o((null==(x=O.value.subject)?void 0:x.name)||"N/A"),1),i("p",null,"Date: "+o((new Date).toLocaleDateString()),1)])],2),(n(!0),s(u,null,p(Q.value,(e,l)=>{var r,m,x,y,b,v,g,z;return n(),s("div",{key:e.id||l,class:a([U.value&&l!==R.value?"no-print":"","slide-container relative break-inside-avoid border border-gray-200 rounded-lg p-8 print:border-0 print:p-0 print:rounded-none print:mb-12 group"])},[i("button",{onClick:e=>(e=>{R.value=e,G(e)})(l),class:"absolute no-print top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 print:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-2 shadow-lg flex items-center gap-2 text-sm font-medium z-10",title:"Print this slide"},t[1]||(t[1]=[i("i",{class:"fas fa-print"},null,-1),i("span",null,"Print Slide",-1)]),8,f),i("div",w,[i("span",h,"Slide "+o(l+1),1),i("span",_,o(e.slide_type),1)]),i("div",k,["text"===e.slide_type?(n(),s("div",{key:0,class:"prose max-w-none",innerHTML:W(null==(r=e.slide_content)?void 0:r.text)},null,8,T)):["image","video","audio","pdf"].includes(e.slide_type)?(n(),s("div",L,[(null==(m=e.slide_content)?void 0:m.title)?(n(),s("h3",H,o(e.slide_content.title),1)):c("",!0),"image"===e.slide_type&&(null==(x=e.slide_content)?void 0:x.url)?(n(),s("img",{key:1,src:e.slide_content.url,class:"max-w-full h-auto rounded-lg shadow-sm print:shadow-none"},null,8,P)):"video"===e.slide_type?(n(),s("div",j,[t[2]||(t[2]=i("i",{class:"fas fa-video text-4xl text-gray-400 mb-2"},null,-1)),i("p",M,"Video: "+o(null==(y=e.slide_content)?void 0:y.url),1)])):"audio"===e.slide_type?(n(),s("div",B,[t[3]||(t[3]=i("i",{class:"fas fa-volume-up text-4xl text-gray-400 mb-2"},null,-1)),i("p",D,"Audio: "+o(null==(b=e.slide_content)?void 0:b.url),1)])):"pdf"===e.slide_type?(n(),s("div",S,[t[4]||(t[4]=i("i",{class:"fas fa-file-pdf text-4xl text-gray-400 mb-2"},null,-1)),i("p",A,"PDF Document: "+o(null==(v=e.slide_content)?void 0:v.url),1)])):c("",!0),(null==(g=e.slide_content)?void 0:g.caption)?(n(),s("p",F,o(e.slide_content.caption),1)):c("",!0)])):"question"===e.slide_type?(n(),s("div",N,[(n(!0),s(u,null,p((null==(z=e.slide_content)?void 0:z.questions)||[],(e,l)=>(n(),s("div",{key:l,class:"pl-4 border-l-4 border-blue-100 print:border-gray-300"},[i("div",{class:"font-medium text-gray-900 mb-3",innerHTML:W(e.text)},null,8,q),i("div",C,["true_false"===e.type?(n(),s("div",V,t[5]||(t[5]=[i("div",{class:"flex items-center"},[i("div",{class:"w-5 h-5 border-2 border-gray-400 rounded-full mr-3"}),d(" True")],-1),i("div",{class:"flex items-center"},[i("div",{class:"w-5 h-5 border-2 border-gray-400 rounded-full mr-3"}),d(" False")],-1)]))):"multiple_choice"===e.type||"single_choice"===e.type?(n(),s("div",$,[(n(!0),s(u,null,p(e.options,t=>(n(),s("div",{key:t.id,class:"flex items-start text-base"},[i("div",{class:a(["w-5 h-5 border-2 border-gray-400 mr-3 mt-0.5 flex-shrink-0","single_choice"===e.type?"rounded-full":"rounded"])},null,2),i("span",{innerHTML:W(t.text)},null,8,I)]))),128))])):c("",!0)])]))),128))])):c("",!0)])],2)}),128))],2)],2)],64)}}};export{z as default};
