import{D as e,aX as t,aD as o,G as l,aY as n,P as i,aV as a}from"./app-BB4Fw2oM.js";import{f as s,p as r,a as c,r as u,k as d,e as v,h as f,aj as h}from"./vendor-DuKqz2x4.js";const p=e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:p,emit:m}){const{proxy:{$q:g}}=r(),y=s(null),w=s(g.screen.height),b=s(!0===e.container?0:g.screen.width),z=s({position:0,direction:"down",inflectionPoint:0}),L=s(0),q=s(!0===o.value?0:t()),x=c(()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard")),S=c(()=>!1===e.container?{minHeight:g.screen.height+"px"}:null),H=c(()=>0!==q.value?{[!0===g.lang.rtl?"left":"right"]:`${q.value}px`}:null),$=c(()=>0!==q.value?{[!0===g.lang.rtl?"right":"left"]:0,[!0===g.lang.rtl?"left":"right"]:`-${q.value}px`,width:`calc(100% + ${q.value}px)`}:null);function C(t){if(!0===e.container||!0!==document.qScrollPrevented){const o={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};z.value=o,void 0!==e.onScroll&&m("scroll",o)}}function P(t){const{height:o,width:l}=t;let n=!1;w.value!==o&&(n=!0,w.value=o,void 0!==e.onScrollHeight&&m("scrollHeight",o),T()),b.value!==l&&(n=!0,b.value=l),!0===n&&void 0!==e.onResize&&m("resize",t)}function R({height:e}){L.value!==e&&(L.value=e,T())}function T(){if(!0===e.container){const e=w.value>L.value?t():0;q.value!==e&&(q.value=e)}}let j=null;const F={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:y,height:w,containerHeight:L,scrollbarWidth:q,totalWidth:c(()=>b.value+q.value),rows:c(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:u({size:0,offset:0,space:!1}),right:u({size:300,offset:0,space:!1}),footer:u({size:0,offset:0,space:!1}),left:u({size:300,offset:0,space:!1}),scroll:z,animate(){null!==j?clearTimeout(j):document.body.classList.add("q-body--layout-animate"),j=setTimeout(()=>{j=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,t,o){F[e][t]=o}};if(h(a,F),t()>0){let t=function(){n=null,i.classList.remove("hide-scrollbar")},o=function(){if(null===n){if(i.scrollHeight>g.screen.height)return;i.classList.add("hide-scrollbar")}else clearTimeout(n);n=setTimeout(t,300)},l=function(e){null!==n&&"remove"===e&&(clearTimeout(n),t()),window[`${e}EventListener`]("resize",o)},n=null;const i=document.body;d(()=>!0!==e.container?"add":"remove",l),!0!==e.container&&l("add"),v(()=>{l("remove")})}return()=>{const t=l(p.default,[f(n,{onScroll:C}),f(i,{onResize:P})]),o=f("div",{class:x.value,style:S.value,ref:!0===e.container?void 0:y,tabindex:-1},t);return!0===e.container?f("div",{class:"q-layout-container overflow-hidden",ref:y},[f(i,{onResize:R}),f("div",{class:"absolute-full",style:H.value},[f("div",{class:"scroll",style:$.value},[o])])]):o}}});export{p as Q};
