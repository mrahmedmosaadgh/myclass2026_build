import{r as e,u as t,Q as o,G as a,f as n,b as c,ao as r,i,aS as s,j as d,k as l,o as u,d as m}from"./app-NYt77MEb.js";import{Q as f}from"./QSpace-Cq53gbnC.js";import{Q as p}from"./QBadge-BeBayzBo.js";import{I as g,J as y,K as b,b as v,R as _,V as h,W as k,O as w,N as x,y as q}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const j={class:"row items-center justify-between"},C={class:"col"},z={class:"row items-center"},D={class:"text-h6 text-weight-bold ellipsis"},L={class:"col-auto"},M={class:"text-body2 text-grey-7 q-mb-sm"},B={class:"row items-center q-gutter-xs q-mb-sm"},E={class:"document-meta text-caption text-grey-6"},Q={key:0,class:"q-mb-xs"},A={key:1},S={key:2},N={class:"status-indicators"},O=e({__name:"DocumentationCard",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:O}){const G=t(),I=e,K=()=>{var e;if("file"===I.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=I.document.type)?void 0:e.toLowerCase()]||"description"},V=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=I.document.category)?void 0:e.toLowerCase()]||"description"},$=()=>{if(I.document.excerpt)return I.document.excerpt;if(I.document.content){if("string"==typeof I.document.content)return I.document.content.substring(0,150)+"...";if(Array.isArray(I.document.content)){return I.document.content.map(e=>e.content||"").join(" ").substring(0,150)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},R=()=>{if(I.document.created_at){const e=new Date(I.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},W=()=>{G.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},F=()=>{G.notify({type:"info",message:"Export functionality coming soon",position:"top"})},H=()=>{G.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,O)=>(y(),g(m,{class:"documentation-card"},{default:b(()=>[v(n,{class:"card-header"},{default:b(()=>{return[_("div",j,[_("div",C,[_("div",z,[v(o,{name:K(),color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=I.document.type)?void 0:t.toLowerCase()]||"primary",size:"1.5rem",class:"q-mr-sm"},null,8,["name","color"]),_("div",D,h(e.document.title),1)])]),_("div",L,[v(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:b(()=>[k(h(e.document.source),1)]),_:1},8,["color","icon"])])])];var t}),_:1}),v(n,{class:"card-content"},{default:b(()=>{return[_("div",M,h($()),1),_("div",B,[v(a,{color:{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=I.document.category)?void 0:t.toLowerCase()]||"primary","text-color":"white",size:"sm",icon:V()},{default:b(()=>[k(h(e.document.category),1)]),_:1},8,["color","icon"]),e.document.type&&e.document.type!==e.document.category?(y(),g(a,{key:0,color:"grey-6","text-color":"white",size:"sm"},{default:b(()=>[k(h(e.document.type),1)]),_:1})):w("",!0)]),_("div",E,[e.document.author?(y(),x("div",Q,[v(o,{name:"person",size:"xs",class:"q-mr-xs"}),k(" "+h(e.document.author.name),1)])):w("",!0),e.document.created_at||e.document.modified?(y(),x("div",A,[v(o,{name:"schedule",size:"xs",class:"q-mr-xs"}),k(" "+h(I.document.created_at?new Date(I.document.created_at).toLocaleDateString():I.document.modified?new Date(1e3*I.document.modified).toLocaleDateString():""),1)])):w("",!0),e.document.size?(y(),x("div",S,[v(o,{name:"description",size:"xs",class:"q-mr-xs"}),k(" "+h(J(e.document.size)),1)])):w("",!0)])];var t}),_:1}),v(u,{class:"card-actions"},{default:b(()=>[v(c,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:O[0]||(O[0]=o=>t.$emit("view",e.document)),class:"q-mr-sm"}),"database"===e.document.source?(y(),g(c,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:O[1]||(O[1]=o=>t.$emit("edit",e.document))})):w("",!0),v(f),v(c,{flat:"",round:"",color:"grey-6",icon:"more_vert"},{default:b(()=>[v(r,null,{default:b(()=>[v(i,{style:{"min-width":"100px"}},{default:b(()=>[q((y(),g(d,{clickable:"",onClick:W},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"link"})]),_:1}),v(l,null,{default:b(()=>O[2]||(O[2]=[k("Copy Link")])),_:1})]),_:1})),[[s]]),q((y(),g(d,{clickable:"",onClick:F},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"download"})]),_:1}),v(l,null,{default:b(()=>O[3]||(O[3]=[k("Export")])),_:1})]),_:1})),[[s]]),"file"===e.document.source?q((y(),g(d,{key:0,clickable:"",onClick:H},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"code"})]),_:1}),v(l,null,{default:b(()=>O[4]||(O[4]=[k("Open in Editor")])),_:1})]),_:1})),[[s]]):w("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),_("div",N,["draft"===e.document.status?(y(),g(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:b(()=>O[5]||(O[5]=[k(" Draft ")])),_:1})):w("",!0),"archived"===e.document.status?(y(),g(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:b(()=>O[6]||(O[6]=[k(" Archived ")])),_:1})):w("",!0),R()?(y(),g(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:b(()=>O[7]||(O[7]=[k(" New ")])),_:1})):w("",!0)])]),_:1}))}},[["__scopeId","data-v-1f001c3f"]]);export{O as default};
