import{r as e}from"./app-CCwy2VVq.js";import{N as a,J as l,an as s,O as o,R as t,V as i,y as n,ac as r,ab as d,b as c,F as m,Q as u,W as p,a2 as v,I as f,U as g,a0 as k,f as y,k as S}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const b={name:"SessionModal",components:{},props:{session:{type:Object,default:null},isEditing:{type:Boolean,default:!1},isDrawer:{type:Boolean,default:!1}},emits:["save","cancel","close"],setup(e,{emit:a}){const l=y(!1),s=y(""),o=y({id:null,weekly_plan_id:null,session_index:1,period_code:"",type:"lesson",title:"",data:{materials:[],homework:"",skill_tags:[],zoom_link:"",duration_minutes:null,completed:void 0,difficulty_level:""}});S(()=>e.session,e=>{e&&(o.value={...e,data:{materials:[],homework:"",skill_tags:[],zoom_link:"",duration_minutes:null,completed:void 0,difficulty_level:"",...e.data}},Array.isArray(o.value.data.materials)||(o.value.data.materials=[]),Array.isArray(o.value.data.skill_tags)||(o.value.data.skill_tags=[]))},{immediate:!0});return{saving:l,newSkillTag:s,localSession:o,addMaterial:()=>{o.value.data.materials.push("")},removeMaterial:e=>{o.value.data.materials.splice(e,1)},addSkillTag:()=>{s.value.trim()&&(o.value.data.skill_tags.push(s.value.trim()),s.value="")},removeSkillTag:e=>{o.value.data.skill_tags.splice(e,1)},handleSave:async()=>{l.value=!0;try{o.value.data.materials=o.value.data.materials.filter(e=>e.trim()),a("save",{...o.value})}catch(e){console.error("Error saving session:",e)}finally{l.value=!1}},handleCancel:()=>{a("cancel")},handleClose:()=>{a("close")}}}},h={class:"session-modal"},_={key:0,class:"empty-state"},x={key:1,class:"session-form"},C={key:0,class:"form-header mb-6"},w={class:"text-lg font-medium text-gray-900"},V={class:"form-section"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"form-group"},z={class:"form-group"},B={class:"form-group"},M={class:"form-group"},A={class:"form-section"},j={class:"space-y-4"},E={class:"form-group"},Q={class:"materials-input"},D=["onUpdate:modelValue"],I={class:"form-group"},N={class:"form-group"},L={class:"skill-tags-input"},q={class:"skill-tags-display"},O=["onClick"],P={class:"skill-tag-input"},F={class:"form-section"},H={class:"form-group"},R={class:"form-section"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"form-group"},W={class:"form-group"},Z={class:"form-actions"};const $=e(b,[["render",function(e,y,S,b,$,G){var X,Y;return l(),a("div",h,[S.session||S.isEditing?(l(),a("div",x,[S.isDrawer?o("",!0):(l(),a("div",C,[t("h3",w,i((null==(X=S.session)?void 0:X.id)?"Edit Session":"New Session"),1),y[12]||(y[12]=t("p",{class:"text-sm text-gray-600 mt-1"}," Configure session details and content ",-1))])),t("form",{onSubmit:y[10]||(y[10]=k((...e)=>b.handleSave&&b.handleSave(...e),["prevent"])),class:g(S.isDrawer?"drawer-form":"space-y-6")},[t("div",V,[y[19]||(y[19]=t("h4",{class:"form-section-title"},"Basic Information",-1)),t("div",T,[t("div",U,[y[13]||(y[13]=t("label",{class:"form-label"},"Session Title",-1)),n(t("input",{"onUpdate:modelValue":y[0]||(y[0]=e=>b.localSession.title=e),type:"text",class:"form-input",placeholder:"Enter session title",required:""},null,512),[[r,b.localSession.title]])]),t("div",z,[y[15]||(y[15]=t("label",{class:"form-label"},"Session Type",-1)),n(t("select",{"onUpdate:modelValue":y[1]||(y[1]=e=>b.localSession.type=e),class:"form-select",required:""},y[14]||(y[14]=[s('<option value="lesson" data-v-54e8e6a6>Lesson</option><option value="quiz" data-v-54e8e6a6>Quiz</option><option value="exam" data-v-54e8e6a6>Exam</option><option value="extra" data-v-54e8e6a6>Extra Activity</option><option value="note" data-v-54e8e6a6>Note/Reminder</option>',5)]),512),[[d,b.localSession.type]])]),t("div",B,[y[16]||(y[16]=t("label",{class:"form-label"},"Period Code",-1)),n(t("input",{"onUpdate:modelValue":y[2]||(y[2]=e=>b.localSession.period_code=e),type:"text",class:"form-input",placeholder:"e.g., 25.1.2.3",pattern:"^\\d+\\.\\d+\\.\\d+\\.\\d+$"},null,512),[[r,b.localSession.period_code]]),y[17]||(y[17]=t("p",{class:"form-help"},"Format: year.semester.week.session",-1))]),t("div",M,[y[18]||(y[18]=t("label",{class:"form-label"},"Duration (minutes)",-1)),n(t("input",{"onUpdate:modelValue":y[3]||(y[3]=e=>b.localSession.data.duration_minutes=e),type:"number",class:"form-input",min:"1",max:"300",placeholder:"45"},null,512),[[r,b.localSession.data.duration_minutes,void 0,{number:!0}]])])])]),t("div",A,[y[23]||(y[23]=t("h4",{class:"form-section-title"},"Content & Materials",-1)),t("div",j,[t("div",E,[y[20]||(y[20]=t("label",{class:"form-label"},"Materials",-1)),t("div",Q,[(l(!0),a(m,null,u(b.localSession.data.materials,(e,s)=>(l(),a("div",{key:s,class:"material-item"},[n(t("input",{"onUpdate:modelValue":e=>b.localSession.data.materials[s]=e,type:"text",class:"form-input flex-1",placeholder:"Enter material name"},null,8,D),[[r,b.localSession.data.materials[s]]]),c(QBtn,{size:"sm",flat:"",round:"",color:"red",icon:"remove",onClick:e=>b.removeMaterial(s)},null,8,["onClick"])]))),128)),c(QBtn,{size:"sm",outline:"",color:"primary",icon:"add",label:"Add Material",onClick:b.addMaterial,class:"mt-2"},null,8,["onClick"])])]),t("div",I,[y[21]||(y[21]=t("label",{class:"form-label"},"Homework Assignment",-1)),n(t("textarea",{"onUpdate:modelValue":y[4]||(y[4]=e=>b.localSession.data.homework=e),class:"form-textarea",rows:"3",placeholder:"Describe homework or follow-up activities"},null,512),[[r,b.localSession.data.homework]])]),t("div",N,[y[22]||(y[22]=t("label",{class:"form-label"},"Skill Tags",-1)),t("div",L,[t("div",q,[(l(!0),a(m,null,u(b.localSession.data.skill_tags,(e,s)=>(l(),a("span",{key:s,class:"skill-tag"},[p(i(e)+" ",1),t("button",{type:"button",onClick:e=>b.removeSkillTag(s),class:"skill-tag-remove"}," Ã— ",8,O)]))),128))]),t("div",P,[n(t("input",{"onUpdate:modelValue":y[5]||(y[5]=e=>b.newSkillTag=e),type:"text",class:"form-input",placeholder:"Add skill tag",onKeyup:y[6]||(y[6]=v((...e)=>b.addSkillTag&&b.addSkillTag(...e),["enter"]))},null,544),[[r,b.newSkillTag]]),c(QBtn,{size:"sm",outline:"",color:"primary",icon:"add",onClick:b.addSkillTag},null,8,["onClick"])])])])])]),t("div",F,[y[25]||(y[25]=t("h4",{class:"form-section-title"},"Online Learning",-1)),t("div",H,[y[24]||(y[24]=t("label",{class:"form-label"},"Zoom Meeting Link",-1)),n(t("input",{"onUpdate:modelValue":y[7]||(y[7]=e=>b.localSession.data.zoom_link=e),type:"url",class:"form-input",placeholder:"https://zoom.us/j/..."},null,512),[[r,b.localSession.data.zoom_link]])])]),t("div",R,[y[30]||(y[30]=t("h4",{class:"form-section-title"},"Progress Tracking",-1)),t("div",J,[t("div",K,[y[27]||(y[27]=t("label",{class:"form-label"},"Completion Status",-1)),n(t("select",{"onUpdate:modelValue":y[8]||(y[8]=e=>b.localSession.data.completed=e),class:"form-select"},y[26]||(y[26]=[t("option",{value:void 0},"Not Started",-1),t("option",{value:!1},"In Progress",-1),t("option",{value:!0},"Completed",-1)]),512),[[d,b.localSession.data.completed]])]),t("div",W,[y[29]||(y[29]=t("label",{class:"form-label"},"Difficulty Level",-1)),n(t("select",{"onUpdate:modelValue":y[9]||(y[9]=e=>b.localSession.data.difficulty_level=e),class:"form-select"},y[28]||(y[28]=[t("option",{value:""},"Not Set",-1),t("option",{value:"beginner"},"Beginner",-1),t("option",{value:"intermediate"},"Intermediate",-1),t("option",{value:"advanced"},"Advanced",-1)]),512),[[d,b.localSession.data.difficulty_level]])])])]),t("div",Z,[c(QBtn,{type:"submit",color:"primary",icon:"save",label:"Save Session",loading:b.saving},null,8,["loading"]),c(QBtn,{type:"button",outline:"",color:"grey",icon:"cancel",label:"Cancel",onClick:b.handleCancel},null,8,["onClick"]),(null==(Y=S.session)?void 0:Y.id)?(l(),f(QBtn,{key:0,type:"button",outline:"",color:"red",icon:"close",label:"Close",onClick:b.handleClose},null,8,["onClick"])):o("",!0)])],34)])):(l(),a("div",_,y[11]||(y[11]=[s('<div class="text-center py-8" data-v-54e8e6a6><div class="text-gray-400 mb-4" data-v-54e8e6a6><svg class="mx-auto h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-54e8e6a6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-54e8e6a6></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2" data-v-54e8e6a6>Session Details</h3><p class="text-gray-600" data-v-54e8e6a6>Select a session to view or edit its details</p></div>',1)])))])}],["__scopeId","data-v-54e8e6a6"]]);export{$ as default};
