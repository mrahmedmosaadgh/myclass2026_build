import{Q as e}from"./QSelect-jBpShTzY.js";import{Q as a}from"./QTab-D15tnj4c.js";import{Q as l}from"./QTabs-CSqR0VCn.js";import{f as t,a as r,k as s,N as i,J as d,b as u,W as o,V as n,K as c,F as m,Q as p,I as h}from"./vendor-BWKGNkNB.js";import"./app-YpH5vqWh.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./rtl-Cr6c3OOr.js";const f={class:"schedule-filters flex items-center gap-4"},v={__name:"filtered_teachers",props:{scheduleData:{type:Array,required:!0,default:()=>[]},days:{type:Array,required:!0}},emits:["filter-changed"],setup(v,{emit:y}){const j=v,b=y,g=t([]),D=t("All"),Q=r(()=>["All",...j.days]),V=r(()=>j.scheduleData?j.scheduleData.filter(e=>e.teacher&&e.teacher.id).map(e=>({id:e.teacher.id,teacher_cute:e.teacher.teacher_cute||e.teacher.name,name:e.teacher.name})):[]),_=r(()=>{var e;let a=[...j.scheduleData];return(null==(e=g.value)?void 0:e.length)>0&&(a=a.filter(e=>{var a;return g.value.includes(null==(a=e.teacher)?void 0:a.id)})),{scheduleData:a,filteredDays:"All"===D.value?j.days.map((e,a)=>({name:e,originalIndex:a})):[{name:D.value,originalIndex:j.days.findIndex(e=>e===D.value)}]}}),x=()=>{b("filter-changed",_.value)};return s(()=>j.scheduleData,x,{deep:!0}),(t,r)=>(d(),i("div",f,[u(e,{modelValue:g.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>g.value=e),x],multiple:"",options:V.value,"use-chips":"",clearable:"",filled:"",dense:"","option-label":"teacher_cute","option-value":"id",label:"Filter Teachers",style:{"min-width":"200px"}},null,8,["modelValue","options"]),o(" "+n(g.value)+" ",1),u(l,{modelValue:D.value,"onUpdate:modelValue":[r[1]||(r[1]=e=>D.value=e),x],dense:"",class:"ml-4","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:c(()=>[(d(!0),i(m,null,p(Q.value,e=>(d(),h(a,{key:e,name:e,label:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]))}};export{v as default};
