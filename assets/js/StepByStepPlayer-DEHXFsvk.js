import{Q as e}from"./QBadge-BkpTfeZ_.js";import{o as s,d as t,Q as l,f as a}from"./app-BB4Fw2oM.js";import{f as o,M as r,J as i,N as n,Q as c,F as d,R as u,U as p,b as m,I as v,K as y,W as b,V as x,a2 as g}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const k={class:"step-by-step-player"},q=["innerHTML"],f={class:"q-gutter-y-md"},h={class:"row items-center gap-2 q-mb-sm"},w={key:0},_=["innerHTML"],C={key:0,class:"q-pa-sm bg-blue-grey-1 rounded-borders"},j={key:0},L={key:1},z={class:"column q-gutter-y-xs"},M={key:2,class:"q-mt-sm text-caption text-negative bg-red-1 q-pa-xs rounded-borders"},Q={key:1,class:"text-body2 text-grey-8 bg-green-1 q-pa-sm rounded-borders border-green"},S={key:0,class:"text-caption text-grey-7 q-mt-xs border-top-green q-pt-xs"},H={key:1,class:"text-grey-5 italic q-pa-sm"},T={key:0,class:"q-mt-lg text-center q-pa-md bg-blue-1 rounded-borders"},V=s({__name:"StepByStepPlayer",props:{question:{type:Object,required:!0}},emits:["complete"],setup(s,{emit:V}){const I=s,K=V,B=o(0),P=o(""),U=o(""),Y=o({}),A=e=>e<B.value,F=e=>A(e)?"positive":e===B.value?"primary":"grey",J=e=>Y.value[e],N=e=>{const s=I.question.steps[e],t=P.value.trim(),l=s.correct_answer.trim();t&&(t.toLowerCase()===l.toLowerCase()?(Y.value[e]=t,B.value++,P.value="",U.value="",B.value>=I.question.steps.length&&K("complete")):U.value="Incorrect, please try again.")};return(o,V)=>(i(),r("div",k,[n("div",{class:"text-h6 q-mb-md",innerHTML:s.question.text},null,8,q),n("div",f,[(i(!0),r(d,null,u(s.question.steps,(s,o)=>(i(),r("div",{key:o,class:p(["step-card transition-generic",{"disabled-step":o>B.value}])},[n("div",h,[m(e,{color:F(o),rounded:"",class:"q-px-sm"},{default:y(()=>[b(" Step "+x(o+1),1)]),_:2},1032,["color"]),A(o)?(i(),v(t,{key:0,name:"check_circle",color:"positive",size:"sm"})):c("",!0)]),o<=B.value?(i(),r("div",w,[n("div",{class:"q-mb-md",innerHTML:s.text},null,8,_),A(o)?(i(),r("div",Q,[V[1]||(V[1]=n("strong",null,"Answer:",-1)),b(" "+x(J(o))+" ",1),s.feedback?(i(),r("div",S,[m(t,{name:"info",size:"xs"}),b(" "+x(s.feedback),1)])):c("",!0)])):(i(),r("div",C,["short_answer"===s.type?(i(),r("div",j,[m(a,{modelValue:P.value,"onUpdate:modelValue":V[0]||(V[0]=e=>P.value=e),outlined:"",dense:"","bg-color":"white",placeholder:"Your answer...",onKeyup:g(e=>N(o),["enter"])},{append:y(()=>[m(l,{round:"",dense:"",flat:"",icon:"send",color:"primary",onClick:e=>N(o)},null,8,["onClick"])]),_:2},1032,["modelValue","onKeyup"])])):"single_choice"===s.type?(i(),r("div",L,[n("div",z,[(i(!0),r(d,null,u(s.options,(e,s)=>(i(),v(l,{key:s,label:e.text,color:P.value===e.text?"primary":"white","text-color":P.value===e.text?"white":"black",class:"text-left","no-caps":"",align:"left",onClick:s=>P.value=e.text},null,8,["label","color","text-color","onClick"]))),128)),P.value?(i(),v(l,{key:0,label:"Submit",color:"primary",class:"q-mt-sm self-end",size:"sm",onClick:e=>N(o)},null,8,["onClick"])):c("",!0)])])):c("",!0),U.value?(i(),r("div",M,x(U.value),1)):c("",!0)]))])):(i(),r("div",H,[m(t,{name:"lock",size:"xs"}),V[2]||(V[2]=b(" Complete previous step to unlock. "))]))],2))),128))]),B.value>=s.question.steps.length?(i(),r("div",T,[m(t,{name:"emoji_events",size:"lg",color:"warning"}),V[3]||(V[3]=n("div",{class:"text-h6 text-primary q-mt-sm"},"Problem Solved!",-1)),V[4]||(V[4]=n("div",{class:"text-body2"},"You have successfully completed all steps.",-1))])):c("",!0)]))}},[["__scopeId","data-v-4f5368d4"]]);export{V as default};
