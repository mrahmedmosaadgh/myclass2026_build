import l from"./TimetableCell-CXE3qh2N.js";import{u as e}from"./i18n-kquWfmcz.js";import{o as a}from"./app-tFXAu5dG.js";import{aS as s,a as r,N as t,J as i,O as o,F as d,R as c,V as n,b as u,z as y}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./ui-Bfjdq-TR.js";const h=["dir"],v={class:"grid-row header-row"},f={class:"period-number"},p={class:"period-time text-caption text-grey-6"},m={class:"grid-cell day-header"},k={class:"day-name"},w={class:"day-short"},b=a({__name:"TimetableGrid",props:{schedules:{type:Array,default:()=>[]},periodTimes:{type:Object,default:()=>({})},teacherConflicts:{type:Object,default:()=>({})}},emits:["cell-click","edit","clear"],setup(a,{emit:b}){s(l=>({f2acd9ae:$.length}));const{t:D}=e(),P=a,g=b,j=[{value:1,label:D("weeklyPlans.fullDays.1"),short:D("weeklyPlans.shortDays.1")},{value:2,label:D("weeklyPlans.fullDays.2"),short:D("weeklyPlans.shortDays.2")},{value:3,label:D("weeklyPlans.fullDays.3"),short:D("weeklyPlans.shortDays.3")},{value:4,label:D("weeklyPlans.fullDays.4"),short:D("weeklyPlans.shortDays.4")},{value:5,label:D("weeklyPlans.fullDays.5"),short:D("weeklyPlans.shortDays.5")},{value:6,label:D("weeklyPlans.fullDays.6"),short:D("weeklyPlans.shortDays.6")},{value:7,label:D("weeklyPlans.fullDays.7"),short:D("weeklyPlans.shortDays.7")}].filter(l=>6!==l.value&&7!==l.value),$=[1,2,3,4,5,6,7,8],C=r(()=>{const l={};return P.schedules.forEach(e=>{const a=`${e.day}-${e.period_number}`;l[a]=e}),l}),_=(l,e)=>C.value[`${l}-${e}`]||null,T=l=>P.periodTimes[l]||"",x=l=>{g("edit",l)},O=l=>{g("clear",l)};return(e,a)=>(i(),t("div",{class:"timetable-grid",dir:"ar"===e.$i18n.locale?"rtl":"ltr"},[o("div",v,[a[0]||(a[0]=o("div",{class:"grid-cell day-header"},null,-1)),(i(),t(d,null,c($,l=>o("div",{key:l,class:"grid-cell period-header"},[o("div",f,n(l),1),o("div",p,n(T(l)),1)])),64))]),(i(!0),t(d,null,c(y(j),e=>(i(),t("div",{key:e.value,class:"grid-row"},[o("div",m,[o("span",k,n(e.label),1),o("span",w,n(e.short),1)]),(i(),t(d,null,c($,a=>{return o("div",{key:`${e.value}-${a}`,class:"grid-cell schedule-cell"},[u(l,{schedule:_(e.value,a),"conflict-info":(s=_(e.value,a),(null==s?void 0:s.id)&&P.teacherConflicts[s.id]||null),onClick:l=>((l,e)=>{const a=_(l,e);g("cell-click",{day:l,period:e,schedule:a})})(e.value,a),onEdit:x,onClear:O},null,8,["schedule","conflict-info","onClick"])]);var s}),64))]))),128))],8,h))}},[["__scopeId","data-v-5410a345"]]);export{b as default};
