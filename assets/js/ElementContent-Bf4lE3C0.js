import{u as e}from"./presentationStore-C7haoY-W.js";import t from"./youtube_VideoPlayer-C8B9whEL.js";import l from"./VideoPlayer-Cx26lLAD.js";import n from"./text_el-B_wSBhvr.js";import{o}from"./app-B77gjd5a.js";import{f as i,a,k as d,n as r,M as s,Q as u,J as v,I as p,N as c,U as m,W as y,y as h,ac as b,a2 as g,V as f,b as w,S as x}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const k={key:0,class:"video-wrapper"},C={key:0,class:"video-display-section"},U={key:1,class:"video-controls-wrapper"},j={class:"video-controls"},S={class:"video-type-tabs"},z={class:"video-input-container"},V={class:"input-group"},T=["placeholder"],I=["disabled"],M={class:"button-text"},E={key:0,class:"video-placeholder"},H={key:1,class:"text-content"},L=o({__name:"ElementContent",props:{element:{type:Object,required:!0,default:{type:"text",content:"",visible:!0,style:{color:"#000000",backgroundColor:"#ffffff",fontSize:"16px"}}},readonly:{type:Boolean,default:!1}},emits:["update:element"],setup(o,{emit:L}){const _=e(),B=i(""),W=i(""),Y=i(null),P=o;a(()=>!P.readonly&&"video"!==P.element.type);const R=L,A=i(!1),$=e=>!!e&&(e.includes("youtube.com")||e.includes("youtu.be"));d(()=>{var e;return null==(e=P.element)?void 0:e.videoUrl},e=>{e&&(B.value=e,W.value=$(e)?"youtube":"regular")},{immediate:!0});const q=e=>{W.value=e,B.value=""},F=()=>{if(!B.value.trim())return;let e=B.value.trim();if($(e)){const t={...P.element,videoUrl:e,videoType:"youtube"};return t.id&&_.currentSlide&&_.updateElementInCurrentSlide(t.id,t),void R("update:element",t)}e.startsWith("http")||e.startsWith("//")||(e=`/storage/${e.replace(/^\/+/,"")}`);const t={...P.element,videoUrl:e,videoType:"regular"};t.id&&_.currentSlide&&_.updateElementInCurrentSlide(t.id,t),R("update:element",t)},J=e=>{console.log("handleContentInput in ElementContent",{elementId:P.element.id,newContent:e});const t={...P.element,content:e};P.element.id&&_.currentSlide&&_.updateElementInCurrentSlide(P.element.id,t),R("update:element",t)};d(()=>{var e;return null==(e=P.element)?void 0:e.content},async e=>{var t;if(await r(),Y.value&&"video"!==(null==(t=P.element)?void 0:t.type)){const t=e||"";Y.value.innerHTML!==t&&(Y.value.innerHTML=t)}},{immediate:!0,deep:!0});const K=a(()=>!P.readonly||P.element.visible);return(e,i)=>{var a,d,r;return K.value?(v(),s("div",{key:0,class:m(["element-content",{"element-hidden":!(null==(a=o.element)?void 0:a.visible)&&!o.readonly,"video-element":"video"===o.element.type,"presentation-mode":o.readonly,"text-element":"text"===o.element.type,"hover-effect":!o.readonly,"is-editing":A.value}]),style:x({...o.element.style,opacity:(null==(d=o.element)?void 0:d.visible)||o.readonly?"1":"0.3",filter:(null==(r=o.element)?void 0:r.visible)||o.readonly?"none":"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:o.element.height?`${o.element.height}px`:"auto",minWidth:"text"===o.element.type?"50px":"320px",minHeight:"text"===o.element.type?"30px":"180px",display:"text"===o.element.type?"inline-block":"block"})},["video"===o.element.type?(v(),s("div",k,[o.element.videoUrl?(v(),s("div",C,[$(o.element.videoUrl)?(v(),p(t,{key:0,"video-url":o.element.videoUrl,controls:!0,muted:!1,autoplay:!1,width:o.readonly?"100%":"640",height:o.readonly?"100%":"360",class:"video-player"},null,8,["video-url","width","height"])):(v(),p(l,{key:1,"video-url":o.element.videoUrl,poster:o.element.poster||"/images/preview.jpg",width:o.readonly?"100%":"640",height:o.readonly?"100%":"360",class:"video-player"},null,8,["video-url","poster","width","height"]))])):u("",!0),o.readonly?u("",!0):(v(),s("div",U,[c("div",j,[c("div",S,[c("button",{onClick:i[0]||(i[0]=e=>q("youtube")),class:m(["tab-button",{active:"youtube"===W.value}])},i[3]||(i[3]=[c("svg",{class:"icon youtube",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[c("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})],-1),y(" YouTube ")]),2),c("button",{onClick:i[1]||(i[1]=e=>q("regular")),class:m(["tab-button",{active:"regular"===W.value}])},i[4]||(i[4]=[c("svg",{class:"icon video",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[c("path",{d:"M4 8h16v12H4zm16-2a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h3l2-2h6l2 2h3z"})],-1),y(" Video File ")]),2)]),c("div",z,[c("div",V,[h(c("input",{type:"text","onUpdate:modelValue":i[2]||(i[2]=e=>B.value=e),placeholder:"youtube"===W.value?"Paste YouTube URL...":"Enter video URL or path...",class:m(["video-url-input",W.value]),onKeyup:g(F,["enter"])},null,42,T),[[b,B.value]]),c("button",{onClick:F,class:m(["submit-button",W.value]),disabled:!B.value.trim()},[c("span",M,"Add "+f("youtube"===W.value?"YouTube Video":"Video"),1),i[5]||(i[5]=c("svg",{class:"arrow-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],10,I)])])]),o.element.videoUrl?u("",!0):(v(),s("div",E,i[6]||(i[6]=[c("div",{class:"placeholder-content"},[c("div",{class:"icon-container"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"placeholder-icon"},[c("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})])]),c("h3",null,"Add Video Content"),c("p",null,"Supports YouTube and video file URLs")],-1)])))]))])):(v(),s("div",H,[w(n,{content:o.element.content,readonly:o.readonly,"element-id":o.element.id,"onUpdate:content":J},null,8,["content","readonly","element-id"]),y(" element.content:"+f(o.element.content),1)]))],6)):u("",!0)}}},[["__scopeId","data-v-96adcfd7"]]);export{L as default};
