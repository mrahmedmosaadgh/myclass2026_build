import{_ as e}from"./PrimaryButton-BUJknf5C.js";import{_ as s}from"./LucideIcon-kaM68_Rv.js";import{l as t}from"./ui-BP0GJNn5.js";import"./app-BXm70mdJ.js";import{f as a,L as r,I as o,M as l,O as i,x as n,b as c,V as d,ab as u,U as p,F as m,Q as v,J as b}from"./vendor-DNM7Y6Xn.js";import"./createLucideIcon-DNsKNLPq.js";import"./align-right-BV65b6MB.js";import"./underline-BaO36zfI.js";import"./image-D9BEVhOC.js";import"./printer-DEjU2fo9.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";const f={class:"space-y-4"},g={class:"border-2 border-dashed border-gray-300 rounded-lg p-4"},y={class:"flex items-center gap-2 mb-4"},h={key:0,class:"space-y-4"},x={class:"text-lg font-semibold"},j={class:"space-y-2"},k={class:"flex justify-between items-start"},w={class:"font-medium"},C=["onClick"],q={class:"mt-1"},I=["innerHTML"],_={class:"ml-4 mt-2"},D={class:"flex justify-end mt-4"},L={__name:"BulkQuestionImport2",emits:["close","questions-imported"],setup(L,{emit:P}){const Q=P,$=a(""),A=a([]),F=a(!1),M=e=>{e.preventDefault();const s=e.clipboardData.getData("text");$.value=s,B(s)},T=async()=>{try{const e=await navigator.clipboard.readText();$.value=e,B(e)}catch(e){t.error("Failed to read from clipboard")}},B=e=>{try{const s=e.split(/(?=\d+\))/).map(e=>e.replace(/^\d+\)\s*/,"")).filter(e=>e.trim()).map(e=>{const s=e.match(/(.*?)(?=\s*A\))/s),t=s?s[1].trim():"",a=/([A-D]\))\s*(.*?)(?=(?:\s*[A-D]\)|$))/gs,r=[];let o;for(;null!==(o=a.exec(e));)r.push({option:o[2].trim(),feedback:"",isCorrect:!1});return{title:`Question ${A.value.length+1}`,body:t,options:r,type:"mcq",score:1,difficulty:"medium",explanation:[]}});A.value=s,t.success(`${s.length} questions parsed successfully`)}catch(s){t.error("Error parsing questions"),console.error(s)}},H=()=>{$.value="",A.value=[]},U=async()=>{try{F.value=!0,Q("questions-imported",A.value),t.success("Questions imported successfully"),H()}catch(e){t.error("Failed to import questions")}finally{F.value=!1}};return(t,a)=>(o(),r("div",f,[l("div",g,[l("div",y,[l("button",{onClick:T,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors flex items-center gap-2"},[c(s,{name:"clipboard",class:"w-4 h-4"}),a[1]||(a[1]=d(" Paste from Clipboard "))]),l("button",{onClick:H,class:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors flex items-center gap-2"},[c(s,{name:"trash-2",class:"w-4 h-4"}),a[2]||(a[2]=d(" Clear "))])]),n(l("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),class:"w-full h-48 p-4 border rounded-lg",placeholder:"Paste your questions here...",onPaste:M},null,544),[[u,$.value]])]),A.value.length?(o(),r("div",h,[l("h3",x,"Preview ("+p(A.value.length)+" questions)",1),l("div",j,[(o(!0),r(m,null,v(A.value,(e,t)=>(o(),r("div",{key:t,class:"border rounded-lg p-4 bg-gray-50"},[l("div",k,[l("span",w,p(t+1),1),l("button",{onClick:e=>(e=>{A.value.splice(e,1)})(t),class:"text-red-500 hover:text-red-700"},[c(s,{name:"x",class:"w-4 h-4"})],8,C)]),l("div",q,[l("div",{innerHTML:e.body},null,8,I),l("div",_,[(o(!0),r(m,null,v(e.options,(e,s)=>(o(),r("div",{key:s,class:"mt-1"},p(String.fromCharCode(65+s))+") "+p(e.option),1))),128))])])]))),128))]),l("div",D,[c(e,{onClick:U,disabled:F.value,class:"flex items-center gap-2"},{default:b(()=>[c(s,{name:"upload",class:"w-4 h-4"}),d(" "+p(F.value?"Importing...":"Import Questions"),1)]),_:1},8,["disabled"])])])):i("",!0)]))}};export{L as default};
