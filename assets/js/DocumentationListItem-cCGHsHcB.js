import{o as e,u as t,A as o,C as a,d as n,Q as i,aj as r,g as c,aP as s,h as d,i as l,c as u,m}from"./app-Buylb2AA.js";import{Q as p}from"./QBadge-Dt5ch-CZ.js";import{H as f,I as g,J as y,b,M as v,U as _,V as h,L as w,O as x,x as k}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const q={class:"col-auto q-mr-md"},z={class:"col"},C={class:"row items-center q-mb-xs"},D={class:"text-h6 text-weight-bold q-mr-md"},L={class:"text-body2 text-grey-7 q-mb-sm"},j={class:"row items-center text-caption text-grey-6"},M={key:0,class:"q-mr-md"},B={key:1,class:"q-mr-md"},E={key:2},A={class:"col-auto"},I={class:"row q-gutter-sm"},O={class:"status-indicators"},Q=e({__name:"DocumentationListItem",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:Q}){const N=t(),S=e,V=()=>{var e;if("file"===S.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=S.document.type)?void 0:e.toLowerCase()]||"description"},$=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=S.document.category)?void 0:e.toLowerCase()]||"description"},G=()=>{var e;return{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(e=S.document.category)?void 0:e.toLowerCase()]||"primary"},H=()=>{if(S.document.excerpt)return S.document.excerpt;if(S.document.content){if("string"==typeof S.document.content)return S.document.content.substring(0,200)+"...";if(Array.isArray(S.document.content)){return S.document.content.map(e=>e.content||"").join(" ").substring(0,200)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},K=()=>{if(S.document.created_at){const e=new Date(S.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},P=()=>{N.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},R=()=>{N.notify({type:"info",message:"Export functionality coming soon",position:"top"})},U=()=>{N.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,Q)=>(g(),f(m,{class:"documentation-list-item"},{default:y(()=>[b(u,{class:"row items-center q-pa-md"},{default:y(()=>{return[v("div",q,[b(o,{color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(u=S.document.type)?void 0:u.toLowerCase()]||"primary","text-color":"white",icon:V(),size:"48px"},null,8,["color","icon"])]),v("div",z,[v("div",C,[v("div",D,_(e.document.title),1),b(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:y(()=>[h(_(e.document.source),1)]),_:1},8,["color","icon"]),b(a,{color:G(),"text-color":"white",size:"sm",icon:$(),class:"q-ml-xs"},{default:y(()=>[h(_(e.document.category),1)]),_:1},8,["color","icon"])]),v("div",L,_(H()),1),v("div",j,[e.document.author?(g(),w("div",M,[b(n,{name:"person",size:"xs",class:"q-mr-xs"}),h(" "+_(e.document.author.name),1)])):x("",!0),e.document.created_at||e.document.modified?(g(),w("div",B,[b(n,{name:"schedule",size:"xs",class:"q-mr-xs"}),h(" "+_(S.document.created_at?new Date(S.document.created_at).toLocaleDateString():S.document.modified?new Date(1e3*S.document.modified).toLocaleDateString():""),1)])):x("",!0),e.document.size?(g(),w("div",E,[b(n,{name:"description",size:"xs",class:"q-mr-xs"}),h(" "+_(J(e.document.size)),1)])):x("",!0)])]),v("div",A,[v("div",I,[b(i,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:Q[0]||(Q[0]=o=>t.$emit("view",e.document)),size:"sm"}),"database"===e.document.source?(g(),f(i,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:Q[1]||(Q[1]=o=>t.$emit("edit",e.document)),size:"sm"})):x("",!0),b(i,{flat:"",round:"",color:"grey-6",icon:"more_vert",size:"sm"},{default:y(()=>[b(r,null,{default:y(()=>[b(c,{style:{"min-width":"100px"}},{default:y(()=>[k((g(),f(d,{clickable:"",onClick:P},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"link"})]),_:1}),b(l,null,{default:y(()=>Q[2]||(Q[2]=[h("Copy Link")])),_:1})]),_:1})),[[s]]),k((g(),f(d,{clickable:"",onClick:R},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"download"})]),_:1}),b(l,null,{default:y(()=>Q[3]||(Q[3]=[h("Export")])),_:1})]),_:1})),[[s]]),"file"===e.document.source?k((g(),f(d,{key:0,clickable:"",onClick:U},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"code"})]),_:1}),b(l,null,{default:y(()=>Q[4]||(Q[4]=[h("Open in Editor")])),_:1})]),_:1})),[[s]]):x("",!0)]),_:1})]),_:1})]),_:1})])]),v("div",O,["draft"===e.document.status?(g(),f(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:y(()=>Q[5]||(Q[5]=[h(" Draft ")])),_:1})):x("",!0),"archived"===e.document.status?(g(),f(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:y(()=>Q[6]||(Q[6]=[h(" Archived ")])),_:1})):x("",!0),K()?(g(),f(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:y(()=>Q[7]||(Q[7]=[h(" New ")])),_:1})):x("",!0)])];var u}),_:1})]),_:1}))}},[["__scopeId","data-v-26b5a0c1"]]);export{Q as default};
