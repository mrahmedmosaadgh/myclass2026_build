import e from"./youtube_VideoPlayer-BeSmgKpK.js";import{r as l}from"./app-DlLesFGi.js";import{f as t,a as o,k as a,N as u,O as n,J as i,R as s,V as d,U as r,W as p,b as c,y as v,ac as m,ab as b,ae as y,F as h,Q as g,a0 as w}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const k={class:"settings-section"},f={key:0,class:"settings-section"},U={class:"video-source-tabs"},x={key:0,class:"video-source-content"},V=["value"],C={key:0,class:"video-preview"},T={class:"video-container"},A={key:1,class:"video-source-content"},S={class:"video-attributes"},$={class:"attributes-grid"},L={class:"video-options"},j={class:"checkbox-label"},R={class:"checkbox-label"},P={class:"checkbox-label"},Y={class:"checkbox-label"},E={class:"video-sources"},M={class:"source-row"},I={class:"source-url"},_=["onUpdate:modelValue"],z={class:"source-type"},F=["onUpdate:modelValue"],O=["onClick"],W={class:"fallback-text"},B={key:0,class:"video-preview"},G={class:"video-container"},H=["width","height","controls","autoplay","muted","loop","poster","preload"],N=["src","type"],q={key:1,class:"settings-section"},J=["value"],Q=["value"],D=["value"],K=["value"],X={class:"modal-footer"},Z=l({__name:"ElementSettingsModal",props:{modelValue:Boolean,element:{type:Object,required:!0,default:()=>({type:"text",style:{color:"#000000",backgroundColor:"#ffffff",fontSize:"16px"},videoUrl:"",videoType:"youtube",videoAttributes:{width:640,height:360,controls:!0,autoplay:!1,muted:!1,loop:!1,poster:"",preload:"auto",fallbackText:"Your browser does not support the video tag."},videoSources:[{src:"",type:"video/mp4"}]})}},emits:["update:modelValue","updateStyle","update:element"],setup(l,{emit:Z}){var ee,le,te,oe,ae,ue,ne,ie,se,de;const re=l,pe=t(re.element.videoType||"youtube"),ce=t({width:(null==(ee=re.element.videoAttributes)?void 0:ee.width)||640,height:(null==(le=re.element.videoAttributes)?void 0:le.height)||360,controls:!1!==(null==(te=re.element.videoAttributes)?void 0:te.controls),autoplay:(null==(oe=re.element.videoAttributes)?void 0:oe.autoplay)||!1,muted:(null==(ae=re.element.videoAttributes)?void 0:ae.muted)||!1,loop:(null==(ue=re.element.videoAttributes)?void 0:ue.loop)||!1,poster:(null==(ne=re.element.videoAttributes)?void 0:ne.poster)||"",preload:(null==(ie=re.element.videoAttributes)?void 0:ie.preload)||"auto",fallbackText:(null==(se=re.element.videoAttributes)?void 0:se.fallbackText)||"Your browser does not support the video tag."}),ve=t((null==(de=re.element.videoSources)?void 0:de.length)?[...re.element.videoSources]:[{src:"",type:"video/mp4"}]),me=o(()=>ve.value.some(e=>e.src)),be=o(()=>ve.value.filter(e=>e.src)),ye=t(re.element.videoUrl?xe(re.element.videoUrl):""),he=Z,ge=(e,l)=>{he("updateStyle",{property:e,value:l})},we=e=>{const l=e.target.value;ye.value=l?xe(l):""},ke=()=>{ve.value.push({src:"",type:"video/mp4"}),fe()},fe=()=>{const e={...re.element,videoType:"html5",videoAttributes:{...ce.value},videoSources:[...ve.value]},l=Ue();e.content=`<div class="video-embed-container">${l}</div>`,he("update:element",e)},Ue=()=>{const e=ce.value;let l="<video";return e.width&&(l+=` width="${e.width}"`),e.height&&(l+=` height="${e.height}"`),e.controls&&(l+=" controls"),e.autoplay&&(l+=" autoplay"),e.muted&&(l+=" muted"),e.loop&&(l+=" loop"),e.poster&&(l+=` poster="${e.poster}"`),e.preload&&(l+=` preload="${e.preload}"`),l+=">\n",ve.value.forEach(e=>{e.src&&(l+=`  <source src="${e.src}" type="${e.type}">\n`)}),l+=`  ${e.fallbackText}\n`,l+="</video>",l};a(()=>re.element.videoUrl,e=>{ye.value=e?xe(e):""}),a(pe,e=>{"html5"===e&&me.value&&fe()});const xe=e=>{var l,t;let o="";if(e.includes("youtube.com/watch")){o=new URLSearchParams(new URL(e).search).get("v")}else e.includes("youtu.be/")?o=null==(l=e.split("youtu.be/")[1])?void 0:l.split("?")[0]:e.includes("youtube.com/embed/")&&(o=null==(t=e.split("youtube.com/embed/")[1])?void 0:t.split("?")[0]);return o?`https://www.youtube.com/embed/${o}?enablejsapi=1&rel=0&modestbranding=1&controls=1`:""},Ve=e=>{var l,t;if(!e)return"";if(e.includes("youtube.com")||e.includes("youtu.be")){let o="";if(e.includes("youtube.com/watch")){o=new URLSearchParams(new URL(e).search).get("v")}else e.includes("youtu.be/")?o=null==(l=e.split("youtu.be/")[1])?void 0:l.split("?")[0]:e.includes("youtube.com/embed/")&&(o=null==(t=e.split("youtube.com/embed/")[1])?void 0:t.split("?")[0]);return o?`<div class="video-embed-wrapper">\n      <div class="youtube-player-container">\n        <iframe\n          src="https://www.youtube.com/embed/${o}?enablejsapi=1&rel=0&modestbranding=1&controls=1"\n          width="100%"\n          height="100%"\n          frameborder="0"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n          allowfullscreen\n        ></iframe>\n      </div>\n    </div>`:""}return"html5"===pe.value?Ue():""};return(t,o)=>l.modelValue&&l.element?(i(),u("div",{key:0,class:"modal-backdrop",onClick:o[18]||(o[18]=e=>t.$emit("update:modelValue",!1))},[s("div",{class:"settings-modal",onClick:o[17]||(o[17]=w(()=>{},["stop"]))},[o[43]||(o[43]=s("h3",null,"Element Settings",-1)),s("div",k,[s("h4",null,d(l.element.type.charAt(0).toUpperCase()+l.element.type.slice(1))+" Element",1)]),"video"===l.element.type?(i(),u("div",f,[s("div",U,[s("button",{onClick:o[0]||(o[0]=e=>pe.value="youtube"),class:r([{active:"youtube"===pe.value},"tab-button"])}," YouTube ",2),s("button",{onClick:o[1]||(o[1]=e=>pe.value="html5"),class:r([{active:"html5"===pe.value},"tab-button"])}," HTML5 Video ",2)]),"youtube"===pe.value?(i(),u("div",x,[s("p",null,[s("label",null,[o[19]||(o[19]=p(" YouTube URL: ")),s("input",{type:"text",value:l.element.videoUrl||"",placeholder:"https://www.youtube.com/watch?v=...",onInput:we,onChange:o[2]||(o[2]=e=>(e=>{const l={...re.element,videoUrl:e,videoType:"youtube"};l.content=e?`<div class="video-embed-container">${Ve(e)}</div>`:'<div class="video-placeholder">Enter YouTube URL</div>',he("update:element",l)})(e.target.value)),class:"full-width-input"},null,40,V)])]),o[21]||(o[21]=s("p",{class:"help-text"},"Enter a YouTube video URL to embed it in your presentation.",-1)),l.element.videoUrl?(i(),u("div",C,[o[20]||(o[20]=s("p",null,"Video Preview:",-1)),s("div",T,[c(e,{"video-url":l.element.videoUrl,controls:!0,muted:!0,autoplay:!1},null,8,["video-url"])])])):n("",!0)])):n("",!0),"html5"===pe.value?(i(),u("div",A,[s("div",S,[o[31]||(o[31]=s("h5",null,"Video Attributes",-1)),s("div",$,[s("div",null,[s("label",null,[o[22]||(o[22]=p(" Width: ")),v(s("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=e=>ce.value.width=e),placeholder:"640",class:"attribute-input"},null,512),[[m,ce.value.width]])])]),s("div",null,[s("label",null,[o[23]||(o[23]=p(" Height: ")),v(s("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=e=>ce.value.height=e),placeholder:"360",class:"attribute-input"},null,512),[[m,ce.value.height]])])]),s("div",null,[s("label",null,[o[24]||(o[24]=p(" Poster Image URL: ")),v(s("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=e=>ce.value.poster=e),placeholder:"thumbnail.jpg",class:"attribute-input"},null,512),[[m,ce.value.poster]])])]),s("div",null,[s("label",null,[o[26]||(o[26]=p(" Preload: ")),v(s("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>ce.value.preload=e),class:"attribute-input"},o[25]||(o[25]=[s("option",{value:"auto"},"Auto",-1),s("option",{value:"metadata"},"Metadata",-1),s("option",{value:"none"},"None",-1)]),512),[[b,ce.value.preload]])])])]),s("div",L,[s("label",j,[v(s("input",{type:"checkbox","onUpdate:modelValue":o[7]||(o[7]=e=>ce.value.controls=e)},null,512),[[y,ce.value.controls]]),o[27]||(o[27]=p(" Controls "))]),s("label",R,[v(s("input",{type:"checkbox","onUpdate:modelValue":o[8]||(o[8]=e=>ce.value.autoplay=e)},null,512),[[y,ce.value.autoplay]]),o[28]||(o[28]=p(" Autoplay "))]),s("label",P,[v(s("input",{type:"checkbox","onUpdate:modelValue":o[9]||(o[9]=e=>ce.value.muted=e)},null,512),[[y,ce.value.muted]]),o[29]||(o[29]=p(" Muted "))]),s("label",Y,[v(s("input",{type:"checkbox","onUpdate:modelValue":o[10]||(o[10]=e=>ce.value.loop=e)},null,512),[[y,ce.value.loop]]),o[30]||(o[30]=p(" Loop "))])])]),s("div",E,[o[35]||(o[35]=s("h5",null,"Video Sources",-1)),(i(!0),u(h,null,g(ve.value,(e,l)=>(i(),u("div",{key:l,class:"source-input"},[s("div",M,[s("div",I,[s("label",null,[o[32]||(o[32]=p(" URL: ")),v(s("input",{type:"text","onUpdate:modelValue":l=>e.src=l,placeholder:"video.mp4",class:"full-width-input",onChange:fe},null,40,_),[[m,e.src]])])]),s("div",z,[s("label",null,[o[34]||(o[34]=p(" Type: ")),v(s("select",{"onUpdate:modelValue":l=>e.type=l,onChange:fe},o[33]||(o[33]=[s("option",{value:"video/mp4"},"MP4",-1),s("option",{value:"video/webm"},"WebM",-1),s("option",{value:"video/ogg"},"OGG",-1)]),40,F),[[b,e.type]])])]),ve.value.length>1?(i(),u("button",{key:0,onClick:e=>(e=>{ve.value.splice(e,1),fe()})(l),class:"remove-source-btn"}," âœ• ",8,O)):n("",!0)])]))),128)),s("button",{onClick:ke,class:"add-source-btn"},"+ Add Source")]),s("div",W,[s("label",null,[o[36]||(o[36]=p(" Fallback Text: ")),v(s("input",{type:"text","onUpdate:modelValue":o[11]||(o[11]=e=>ce.value.fallbackText=e),placeholder:"Your browser does not support the video tag.",class:"full-width-input",onChange:fe},null,544),[[m,ce.value.fallbackText]])])]),me.value?(i(),u("div",B,[o[37]||(o[37]=s("p",null,"Video Preview:",-1)),s("div",G,[s("video",{width:ce.value.width||640,height:ce.value.height||360,controls:ce.value.controls,autoplay:ce.value.autoplay,muted:ce.value.muted,loop:ce.value.loop,poster:ce.value.poster,preload:ce.value.preload},[(i(!0),u(h,null,g(be.value,(e,l)=>(i(),u("source",{key:l,src:e.src,type:e.type},null,8,N))),128)),p(" "+d(ce.value.fallbackText),1)],8,H)])])):n("",!0)])):n("",!0)])):n("",!0),"video"!==l.element.type?(i(),u("div",q,[s("p",null,[s("label",null,[o[38]||(o[38]=p(" Content: ")),s("textarea",{value:l.element.content,onInput:o[12]||(o[12]=e=>(e=>{const l={...re.element,content:e};he("update:element",l)})(e.target.value)),class:"content-input"},null,40,J)])]),s("p",null,[s("label",null,[o[39]||(o[39]=p(" Text Color: ")),s("input",{type:"color",value:l.element.style.color,onChange:o[13]||(o[13]=e=>ge("color",e.target.value))},null,40,Q)])]),s("p",null,[s("label",null,[o[40]||(o[40]=p(" Background Color: ")),s("input",{type:"color",value:l.element.style.backgroundColor,onChange:o[14]||(o[14]=e=>ge("backgroundColor",e.target.value))},null,40,D)])]),s("p",null,[s("label",null,[o[41]||(o[41]=p(" Font Size: ")),s("input",{type:"number",value:parseInt(l.element.style.fontSize),min:"8",max:"72",step:"1",style:{width:"60px"},onChange:o[15]||(o[15]=e=>ge("fontSize",e.target.value+"px"))},null,40,K),o[42]||(o[42]=p(" px "))])])])):n("",!0),s("div",X,[s("button",{onClick:o[16]||(o[16]=e=>t.$emit("update:modelValue",!1)),class:"close-button"},"Close")])])])):n("",!0)}},[["__scopeId","data-v-723675a0"]]);export{Z as default};
