import{p as e,e as t,Q as r,R as s,j as a,k as l,i,ao as n,h as o,q as d}from"./app-DXXarK7I.js";import{Q as c}from"./QBadge-ZjTd_Ty8.js";import{L as u,I as p,M as b,b as x,J as g,F as m,Q as f,S as y,x as v,H as h,V as w,U as S,K as _,O as k,$ as j,A as $}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const z={class:"px-5 py-4 border-b border-gray-100 bg-white shrink-0"},C={class:"flex items-center justify-between"},q={class:"flex items-center gap-3"},D={class:"bg-blue-50 p-2 rounded-lg"},Q={class:"flex-1 flex flex-col overflow-y-auto p-3 custom-scrollbar"},A={class:"flex items-center gap-2"},B={key:0,class:"bg-gray-50/50 border-t border-gray-100/50 p-3 pl-4"},E={class:"bg-gray-100 group-hover:bg-blue-100 rounded-full p-0.5 transition-colors"},I={class:"space-y-2 pl-1 border-l-2 border-gray-200 ml-1.5"},L=["onClick"],O={class:"flex justify-between items-center mb-1.5"},M={key:0,class:"ml-2 text-center py-6 text-gray-400 text-xs italic bg-gray-50 rounded-lg border border-dashed border-gray-200"},N=e({__name:"LessonSidebar copy 3",props:{sections:{type:Array,required:!0},currentSection:{type:String,required:!0},slides:{type:Array,default:()=>[]},showDrawer:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},activeSlide:{type:Object,default:null}},emits:["update:currentSection","update:currentSection_data","update:showDrawer","addSlide","selectSlide"],setup(e,{emit:N}){const P=e,F=e=>P.slides.filter(t=>t.section===e),H=e=>P.slides.indexOf(e),J=e=>!!P.activeSlide&&(e===P.activeSlide||e.id&&e.id===P.activeSlide.id),K=e=>{var t,r,s;if("text"===e.slide_type){const r=(null==(t=e.slide_content)?void 0:t.text)||"";return r.replace(/<[^>]*>/g,"").substring(0,30)+(r.length>30?"...":"")}if("question"===e.slide_type){const t=(null==(s=null==(r=e.slide_content)?void 0:r.questions)?void 0:s.length)||0;return`${t} Question${1!==t?"s":""}`}return`${e.slide_type} content`};return(N,P)=>(p(),u("div",null,[b("div",{class:y(["max-[1200px]:fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out min-[1200px]:translate-x-0 min-[1200px]:static min-[1200px]:inset-auto min-[1200px]:z-auto flex flex-col h-full shadow-2xl min-[1200px]:shadow-none",e.showDrawer?"translate-x-0":"-translate-x-full min-[1200px]:translate-x-0 "])},[b("div",z,[b("div",C,[b("div",q,[b("div",D,[x(t,{name:"view_sidebar",size:"20px",class:"text-blue-600"})]),P[3]||(P[3]=b("div",null,[b("h2",{class:"text-base font-bold text-gray-800 leading-tight"}," Lesson Plan "),b("p",{class:"text-[10px] text-gray-500 font-medium mt-0.5"}," Manage sections & slides ")],-1))]),x(r,{flat:"",dense:"",round:"",icon:"close",size:"sm",color:"grey-6",onClick:P[0]||(P[0]=e=>N.$emit("update:showDrawer",!1)),class:"min-[1200px]:hidden"})])]),b("div",Q,[x(o,{separator:""},{default:g(()=>[(p(!0),u(m,null,f(e.sections,r=>(p(),u("div",{key:r.id,class:y(["mb-1 overflow-hidden transition-all duration-200",e.currentSection===r.id?"bg-blue-50/50":"bg-transparent"])},[v((p(),h(i,{clickable:"",onClick:e=>{N.$emit("update:currentSection",r.id),N.$emit("update:currentSection_data",r)},class:y(["py-3 px-4 border-l-4 transition-all duration-200",e.currentSection===r.id?"border-blue-500 bg-blue-50":"border-transparent hover:bg-gray-50"])},{default:g(()=>[x(a,{avatar:"",class:"min-w-0 pr-3"},{default:g(()=>[b("div",{class:y(["w-8 h-8 rounded-full flex items-center justify-center transition-colors duration-200",e.currentSection===r.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"])},[x(t,{name:r.qIcon||r.icon,size:"16px"},null,8,["name"])],2)]),_:2},1024),x(a,null,{default:g(()=>[x(l,{class:y(["font-semibold text-sm transition-colors duration-200",e.currentSection===r.id?"text-gray-900":"text-gray-600"])},{default:g(()=>[w(S(r.title),1)]),_:2},1032,["class"]),x(l,{caption:"",class:"text-[10px] text-gray-400 font-medium"},{default:g(()=>{return[w(S((e=r.id,F(e).length))+" slide(s) ",1)];var e}),_:2},1024)]),_:2},1024),x(a,{side:""},{default:g(()=>[b("div",A,[_(N.$slots,"section-status",{section:r},void 0,!0),x(t,{name:e.currentSection===r.id?"expand_less":"expand_more",size:"16px",class:y(e.currentSection===r.id?"text-blue-500":"text-gray-400")},null,8,["name","class"])])]),_:2},1024)]),_:2},1032,["onClick","class"])),[[s]]),x(n,null,{default:g(()=>[e.currentSection===r.id?(p(),u("div",B,[e.canEdit?(p(),u("button",{key:0,type:"button",onClick:P[1]||(P[1]=j(e=>N.$emit("addSlide"),["stop"])),class:"w-full py-2 px-3 mb-3 border-2 border-dashed border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-gray-400 hover:text-blue-600 rounded-lg text-xs font-bold uppercase tracking-wide transition-all duration-200 flex items-center justify-center gap-2 group"},[b("div",E,[x(t,{name:"add",size:"12px"})]),P[4]||(P[4]=b("span",null,"Add Slide",-1))])):k("",!0),b("div",I,[(p(!0),u(m,null,f(F(r.id),(e,t)=>(p(),u("div",{key:e.id||t,onClick:j(t=>N.$emit("selectSlide",e),["stop"]),class:y(["ml-2 p-2.5 rounded-lg cursor-pointer border transition-all duration-200 group relative",J(e)?"bg-white border-blue-500 shadow-sm ring-1 ring-blue-500/20 z-10":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"])},[b("div",O,[b("span",{class:y(["font-bold text-[11px] uppercase tracking-wider",J(e)?"text-blue-700":"text-gray-500"])}," Slide "+S(H(e)+1),3),x(c,{color:J(e)?"blue":"grey-4","text-color":J(e)?"white":"grey-8",size:"xs",class:"font-medium px-1.5 py-0.5"},{default:g(()=>[w(S(e.slide_type),1)]),_:2},1032,["color","text-color"])]),b("div",{class:y(["text-[11px] text-gray-500 truncate pl-2 border-l-2",J(e)?"border-blue-200":"border-gray-100"])},S(K(e)),3)],10,L))),128)),0===F(r.id).length?(p(),u("div",M,S(e.canEdit?"No slides yet":"No content"),1)):k("",!0)])])):k("",!0)]),_:2},1024)],2))),128))]),_:3})])],2),x($,{name:"slide-up"},{default:g(()=>[e.showDrawer?k("",!0):(p(),h(r,{key:0,round:"",color:"primary",icon:"menu",class:"fixed bottom-6 left-6 z-50 min-[1200px]:hidden shadow-lg",onClick:P[2]||(P[2]=e=>N.$emit("update:showDrawer",!0))},{default:g(()=>[x(d,null,{default:g(()=>P[5]||(P[5]=[w("Show Sections")])),_:1})]),_:1}))]),_:1})]))}},[["__scopeId","data-v-38516646"]]);export{N as default};
