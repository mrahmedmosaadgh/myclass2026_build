import{l as e}from"./ui-DFn3cvMd.js";import{k as r}from"./katex-BXKQVcz-.js";import"./app-DTyzyps1.js";import o from"./purify.es-C2Ba6vpb.js";import{f as t,k as s,N as n,J as a,O as i,Q as l,y as u,ac as c,F as d,R as g,V as p}from"./vendor-BJyC5yAd.js";import"./offline-BzIlwqNM.js";import"./i18n-BDgsCcB6.js";const f={class:"p-6 bg-white rounded-lg shadow"},m={class:"mb-6"},y={key:0,class:"mb-6"},b={class:"bg-gray-50 p-4 rounded-lg"},v=["innerHTML"],x={key:1,class:"space-y-4"},h={class:"bg-gray-50 p-4 rounded-lg"},w=["innerHTML"],k={class:"space-y-2"},C={class:"font-medium"},T=["innerHTML"],O={key:0,class:"text-green-600 ml-2"},P={class:"bg-gray-800 text-white p-4 rounded-lg overflow-x-auto"},M={__name:"QuestionParser",setup(M){const S=t(""),j=t(null),E=t(""),J=e=>{try{let o=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return o=o.replace(/\\\((.*?)\\\)/g,(e,o)=>{try{return r.renderToString(o.trim(),{throwOnError:!1,displayMode:!1,strict:!1})}catch(t){return console.warn("KaTeX rendering error:",t),e}}),o=o.replace(/\n/g,"<br>"),o}catch(o){return console.error("Error in renderKaTeX:",o),e}};s(S,e=>{if(e){const r=J(e);E.value=o.sanitize(r)}else E.value=""});const L=()=>{try{if(!S.value.trim())return void e.error("Please enter question text");const r=S.value.match(/(.*?)(?=\s*\*\*A\)\*\*)/s),o=r?r[1].trim():"",t=/\*\*([A-D])\)\*\*\s*(.*?)(?=\s*\*\*[A-D]\)\*\*|$)/gs,s=[];let n;for(;null!==(n=t.exec(S.value));)s.push({option:n[2].trim(),feedback:"",isCorrect:!1});if(!o)throw new Error("Could not extract question body");if(0===s.length)throw new Error("Could not extract any options");const a={body:o,options:s};j.value=a,e.success("Question parsed successfully")}catch(r){console.error("Error parsing question:",r),e.error(r.message||"Error parsing question. Please check the format.")}},N=()=>{S.value="",j.value=null},Q=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(j.value,null,2)),e.success("JSON copied to clipboard")}catch(r){e.error("Failed to copy to clipboard")}};return(e,r)=>(a(),n("div",f,[r[7]||(r[7]=i("h2",{class:"text-xl font-semibold mb-4"},"Question Text to JSON Parser",-1)),i("div",m,[r[1]||(r[1]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Paste Formatted Question Text ",-1)),u(i("textarea",{"onUpdate:modelValue":r[0]||(r[0]=e=>S.value=e),class:"w-full h-48 p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500 font-mono text-sm",placeholder:"Paste your formatted question here...\nExample:\nSarah baked \\( 2 \\frac{1}{3} \\) cakes on Monday...\n\n**A)** \\( 3 \\frac{1}{8} \\)\n**B)** \\( 3 \\frac{11}{15} \\)\n..."},null,512),[[c,S.value]])]),S.value?(a(),n("div",y,[r[2]||(r[2]=i("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Live Preview:",-1)),i("div",b,[i("div",{innerHTML:E.value,class:"katex-preview prose max-w-none"},null,8,v)])])):l("",!0),i("div",{class:"flex gap-4 mb-6"},[i("button",{onClick:L,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Parse Question "),i("button",{onClick:N,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"}," Clear ")]),j.value?(a(),n("div",x,[r[6]||(r[6]=i("h3",{class:"text-lg font-medium text-gray-900"},"Parsed Result:",-1)),i("div",h,[r[3]||(r[3]=i("h4",{class:"font-medium text-gray-700 mb-2"},"Question Body:",-1)),i("div",{class:"mb-4",innerHTML:J(j.value.body)},null,8,w),r[4]||(r[4]=i("h4",{class:"font-medium text-gray-700 mb-2"},"Options:",-1)),i("div",k,[(a(!0),n(d,null,g(j.value.options,(e,r)=>(a(),n("div",{key:r,class:"flex items-center gap-2"},[i("span",C,p(["A","B","C","D"][r])+")",1),i("div",{innerHTML:J(e.option)},null,8,T),e.isCorrect?(a(),n("span",O,"(Correct)")):l("",!0)]))),128))])]),i("div",null,[r[5]||(r[5]=i("h4",{class:"font-medium text-gray-700 mb-2"},"JSON Output:",-1)),i("pre",P,p(JSON.stringify(j.value,null,2)),1)]),i("button",{onClick:Q,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"}," Copy JSON to Clipboard ")])):l("",!0)]))}};export{M as default};
