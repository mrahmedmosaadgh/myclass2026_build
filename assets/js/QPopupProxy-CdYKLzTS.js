import{I as e,aB as a,aC as t,aw as o,e as n,ao as s}from"./app-DTyzyps1.js";import{f as u,a as r,k as l,p as i,h as p}from"./vendor-BJyC5yAd.js";const v=e({name:"QPopupProxy",props:{...a,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:a,emit:v,attrs:h}){const{proxy:c}=i(),{$q:g}=c,m=u(!1),d=u(null),f=r(()=>parseInt(e.breakpoint,10)),{canShow:w}=t({showing:m});function x(){return g.screen.width<f.value||g.screen.height<f.value?"dialog":"menu"}const b=u(x()),j=r(()=>"menu"===b.value?{maxHeight:"99vh"}:{});function y(e){m.value=!0,v("show",e)}function P(e){m.value=!1,b.value=x(),v("hide",e)}return l(()=>x(),e=>{!0!==m.value&&(b.value=e)}),Object.assign(c,{show(e){!0===w(e)&&d.value.show(e)},hide(e){d.value.hide(e)},toggle(e){d.value.toggle(e)}}),o(c,"currentComponent",()=>({type:b.value,ref:d.value})),()=>{const t={ref:d,...j.value,...h,onShow:y,onHide:P};let o;return"dialog"===b.value?o=n:(o=s,Object.assign(t,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),p(o,t,a.default)}}});export{v as Q};
