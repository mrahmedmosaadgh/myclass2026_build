import{f as e,Q as l}from"./app-BwCflFkV.js";import{Q as o}from"./QTd-DftUN1Nv.js";import{Q as a}from"./QTable-C_EQBQcS.js";import{f as r,L as s,I as t,b as i,M as n,J as d,H as u,F as m,V as p,U as c,a1 as f}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./QMarkupTable-CFmFAA-C.js";import"./QSelect-Cyosk05W.js";import"./rtl-Cr6c3OOr.js";import"./QLinearProgress-BKKQOFX1.js";import"./use-fullscreen-X4x-6n9-.js";const b={class:"q-pa-md"},w={class:"q-mt-md"},v={class:"q-mt-md"},j={__name:"ArrayEditor",props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]}},emits:["update:rows"],setup(j,{emit:g}){const y=j,Q=g,V=r({label:""}),k=r(""),q=r({page:1,rowsPerPage:5});function U(){if(""!==V.value.label.trim()){const e={id:Date.now().toString(),label:V.value.label},l=[...y.rows,e];Q("update:rows",l),V.value.label=""}}function A(){const e=y.rows.filter(e=>e.selected).map(e=>e.id),l=y.rows.filter(l=>!e.includes(l.id));Q("update:rows",l)}function P({pagination:e,filter:l}){console.log("Pagination:",e,"Filter:",l)}return(r,g)=>(t(),s("div",b,[i(a,{rows:j.rows,columns:j.columns,"row-key":"id",filter:k.value,pagination:q.value,onRequest:P},{"body-cell":d(l=>[i(o,{props:l},{default:d(()=>["label"===l.col.name?(t(),u(e,{key:0,modelValue:l.row.label,"onUpdate:modelValue":e=>l.row.label=e,dense:"",autofocus:"",debounce:"300",onBlur:e=>{return o=l.row,void console.log(`Updated label for item with id ${o.id}: ${o.label}`);var o}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):(t(),s(m,{key:1},[p(c(l.row[l.col.field]),1)],64))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"]),n("div",w,[i(e,{modelValue:V.value.label,"onUpdate:modelValue":g[0]||(g[0]=e=>V.value.label=e),label:"New Item",dense:"",onKeyup:f(U,["enter"])},null,8,["modelValue"]),i(l,{label:"Add Item",color:"primary",onClick:U})]),n("div",v,[i(l,{label:"Remove Selected",color:"negative",onClick:A})])]))}};export{j as default};
