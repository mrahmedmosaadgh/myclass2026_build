import{r as e,u as t,f as l,b as a,c as s,d as o,h as r,G as i,i as d,j as n,k as c,Q as u,l as m}from"./app-DlLesFGi.js";import{Q as v}from"./QSelect-BTh0khse.js";import{Q as f}from"./QForm-CDvMxBSt.js";import{r as p,f as b,a as g,I as y,J as x,K as _,R as h,b as q,V as j,O as V,W as w,N as L,Q as k,F as O,$ as C}from"./vendor-BWKGNkNB.js";import{_ as S}from"./AppLayout-B3PyevP7.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./rtl-Cr6c3OOr.js";const A={class:"q-pa-md"},Q={class:"row items-center justify-between"},U={class:"text-subtitle2"},F={class:"row q-col-gutter-md"},z={class:"col-12 col-md-8"},B={class:"q-mb-md"},I={class:"q-mb-md"},D={class:"q-mb-md"},E={class:"row q-col-gutter-md"},$={class:"col-12 col-md-6"},G={class:"col-12 col-md-6"},M={class:"q-mt-md"},N={class:"col-12 col-md-4"},P={class:"section-context"},T={class:"text-h6 text-primary"},W={class:"text-caption text-grey-7 q-mt-xs"},J={class:"text-caption text-grey-7"},K={class:"q-mt-md"},R={class:"lesson-preview"},H={class:"text-subtitle1 text-primary"},X={key:0,class:"text-caption text-grey-7 q-mt-xs"},Y={key:1,class:"q-mt-md row q-col-gutter-xs"},Z={key:0,class:"col-auto"},ee={key:1,class:"col-auto"},te={class:"text-caption text-grey-7 q-mt-sm"},le={class:"row justify-end q-gutter-sm"},ae=e({__name:"Create",props:{section:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(e){const ae=e,se=t(),oe=p({title:"",text:"",order:null,duration:null,difficulty:null}),re=b(""),ie=b(!1),de=[{label:"Beginner",value:"beginner"},{label:"Intermediate",value:"intermediate"},{label:"Advanced",value:"advanced"}],ne=g(()=>re.value?re.value.split("\n").map(e=>e.trim()).filter(e=>e.length>0):[]),ce=e=>({beginner:"green-8",intermediate:"orange-8",advanced:"red-8"}[e]||"grey-8"),ue=()=>{ie.value=!0;const e={title:oe.title,text:oe.text,order:oe.order,data:{}};oe.duration&&(e.data.duration=oe.duration),oe.difficulty&&(e.data.difficulty=oe.difficulty),ne.value.length>0&&(e.data.objectives=ne.value),C.post(route("course-management.sections.lessons.store",ae.section.id),e,{onSuccess:()=>{se.notify({type:"positive",message:"Lesson created successfully!",icon:"check_circle"})},onError:e=>{se.notify({type:"negative",message:"Please check the form for errors.",icon:"error"})},onFinish:()=>{ie.value=!1}})};return(t,p)=>(x(),y(S,{title:"Create Lesson"},{default:_(()=>[h("div",A,[q(o,{flat:"",bordered:""},{default:_(()=>[q(l,null,{default:_(()=>[h("div",Q,[h("div",null,[p[8]||(p[8]=h("div",{class:"text-h6"},"Create New Lesson",-1)),h("div",U,'Add a new lesson to "'+j(e.section.title)+'"',1)]),q(a,{flat:"",color:"grey-7",icon:"arrow_back",label:"Back to Section",onClick:p[0]||(p[0]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))})])]),_:1}),q(s),q(f,{onSubmit:ue,class:"q-pa-md"},{default:_(()=>[h("div",F,[h("div",z,[q(o,{flat:"",bordered:""},{default:_(()=>[q(l,null,{default:_(()=>[p[9]||(p[9]=h("div",{class:"text-subtitle1 q-mb-md"},"Lesson Information",-1)),h("div",B,[q(r,{modelValue:oe.title,"onUpdate:modelValue":p[1]||(p[1]=e=>oe.title=e),label:"Lesson Title *",outlined:"",error:!!e.errors.title,"error-message":e.errors.title,placeholder:"e.g., What is a Fraction?, Basic Addition"},null,8,["modelValue","error","error-message"])]),h("div",I,[q(r,{modelValue:oe.text,"onUpdate:modelValue":p[2]||(p[2]=e=>oe.text=e),label:"Lesson Description",outlined:"",type:"textarea",rows:"3",error:!!e.errors.text,"error-message":e.errors.text,placeholder:"Brief description of what this lesson covers..."},null,8,["modelValue","error","error-message"])]),h("div",D,[q(r,{modelValue:oe.order,"onUpdate:modelValue":p[3]||(p[3]=e=>oe.order=e),modelModifiers:{number:!0},label:"Order (Optional)",outlined:"",type:"number",min:"0",error:!!e.errors.order,"error-message":e.errors.order,hint:"Leave empty to add at the end"},null,8,["modelValue","error","error-message"])])]),_:1})]),_:1}),q(o,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[q(l,null,{default:_(()=>[p[10]||(p[10]=h("div",{class:"text-subtitle1 q-mb-md"},"Lesson Settings (Optional)",-1)),h("div",E,[h("div",$,[q(r,{modelValue:oe.duration,"onUpdate:modelValue":p[4]||(p[4]=e=>oe.duration=e),modelModifiers:{number:!0},label:"Duration (minutes)",outlined:"",type:"number",min:"1",placeholder:"30"},null,8,["modelValue"])]),h("div",G,[q(v,{modelValue:oe.difficulty,"onUpdate:modelValue":p[5]||(p[5]=e=>oe.difficulty=e),options:de,outlined:"",label:"Difficulty Level","emit-value":"","map-options":"",clearable:""},null,8,["modelValue"])])]),h("div",M,[q(r,{modelValue:re.value,"onUpdate:modelValue":p[6]||(p[6]=e=>re.value=e),label:"Learning Objectives",outlined:"",type:"textarea",rows:"3",placeholder:"Enter each objective on a new line...",hint:"One objective per line"},null,8,["modelValue"])])]),_:1})]),_:1})]),h("div",N,[q(o,{flat:"",bordered:""},{default:_(()=>[q(l,null,{default:_(()=>{var t,l,a;return[p[11]||(p[11]=h("div",{class:"text-subtitle1 q-mb-md"},"Section Context",-1)),h("div",P,[h("div",T,j(e.section.title),1),h("div",W,' Section in "'+j(null==(t=e.section.level)?void 0:t.title)+'" ',1),h("div",J,' Course: "'+j(null==(a=null==(l=e.section.level)?void 0:l.course)?void 0:a.name)+'" ',1),h("div",K,[q(i,{size:"sm",color:"orange-1","text-color":"orange-8",icon:"school"},{default:_(()=>{var t;return[w(j((null==(t=e.section.lessons)?void 0:t.length)||0)+" Existing Lessons ",1)]}),_:1})])])]}),_:1})]),_:1}),q(o,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[q(l,null,{default:_(()=>{return[p[12]||(p[12]=h("div",{class:"text-subtitle1 q-mb-md"},"Lesson Preview",-1)),h("div",R,[h("div",H,j(oe.title||"Lesson Title"),1),oe.text?(x(),L("div",X,j(oe.text),1)):V("",!0),oe.duration||oe.difficulty?(x(),L("div",Y,[oe.duration?(x(),L("div",Z,[q(i,{size:"sm",color:"blue-1","text-color":"blue-8",icon:"schedule"},{default:_(()=>[w(j(oe.duration)+" min ",1)]),_:1})])):V("",!0),oe.difficulty?(x(),L("div",ee,[q(i,{size:"sm",color:(e=oe.difficulty,{beginner:"green-1",intermediate:"orange-1",advanced:"red-1"}[e]||"grey-1"),"text-color":ce(oe.difficulty),icon:"trending_up"},{default:_(()=>[w(j(oe.difficulty),1)]),_:1},8,["color","text-color"])])):V("",!0)])):V("",!0),h("div",te," Order: "+j(oe.order||"Auto"),1)])];var e}),_:1})]),_:1}),ne.value.length>0?(x(),y(o,{key:0,flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[q(l,null,{default:_(()=>[p[13]||(p[13]=h("div",{class:"text-subtitle1 q-mb-md"},"Learning Objectives",-1)),q(d,{dense:""},{default:_(()=>[(x(!0),L(O,null,k(ne.value,(e,t)=>(x(),y(n,{key:t},{default:_(()=>[q(c,{avatar:""},{default:_(()=>[q(u,{name:"check_circle",color:"positive",size:"sm"})]),_:1}),q(c,null,{default:_(()=>[q(m,{class:"text-caption"},{default:_(()=>[w(j(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):V("",!0)])]),q(s,{class:"q-my-md"}),h("div",le,[q(a,{flat:"",label:"Cancel",color:"grey-7",onClick:p[7]||(p[7]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))}),q(a,{type:"submit",label:"Create Lesson",color:"primary",icon:"add",loading:ie.value},null,8,["loading"])])]),_:1})]),_:1})])]),_:1}))}},[["__scopeId","data-v-dca8642c"]]);export{ae as default};
