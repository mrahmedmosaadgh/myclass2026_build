import l from"./NameAbbreviator2-D09UMF4a.js";import{aN as e,aO as a,f as o,a as s,N as t,J as u,O as r,Q as n,F as i,R as d,S as c,U as v,V as p,y as m,Y as b,aR as f,b as _}from"./vendor-nQjeLEvd.js";import"./app-tFXAu5dG.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const y={class:"mb-2 absolute flex gap-2 scale-75"},g=["onClick"],x={class:"flex flex-wrap justify-center w-full"},j=["onClick"],h={class:"period-badge bg-black px-2 rounded-full text-white scale-50 absolute"},k=["name","value"],w={class:"p-0"},C={class:"bg-blue-800 px-2 rounded-full scale-75 text-white"},$={__name:"RadioButtonGroup",props:e({name:{type:String,required:!0},my_class:{type:String,default:""},options:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:e(["filter-change","set_data"],["update:modelValue"]),setup(e,{emit:$}){const R=a(e,"modelValue"),V=o(null),I=e,N=$,S=s(()=>{const l=I.options.map(l=>{var e;return null==(e=l.cst)?void 0:e.subject}).filter(l=>l);return[...new Map(l.map(l=>[l.id,l])).values()]}),q=s(()=>V.value?I.options.filter(l=>{var e,a;return null!=l&&(null==(a=null==(e=l.cst)?void 0:e.subject)?void 0:a.id)===V.value.id}):I.options.filter(l=>null!=l)),A=()=>{V.value=null,N("filter-change",{subjectId:null})};return(a,o)=>(u(),t("div",{class:v(["_controlGroup_19yuc_175 relative overflow-visible",e.my_class])},[o[1]||(o[1]=r("div",{class:"h-6"},null,-1)),r("div",y,[(u(!0),t(i,null,d(S.value,l=>{var e;return u(),t("button",{key:l.id,onClick:e=>(l=>{V.value=l,N("filter-change",{subjectId:l.id})})(l),class:v(["px-2 py-1 rounded-full text-xs",[(null==(e=V.value)?void 0:e.id)===l.id?"ring-2 ring-offset-1":""]]),style:c(`background-color: ${l.color_bg}; color: ${l.color_text}`)},p(l.name),15,g)}),128)),V.value?(u(),t("button",{key:0,onClick:A,class:"px-2 py-1 rounded-full text-xs bg-gray-200 hover:bg-gray-300"}," Clear ")):n("",!0)]),r("div",x,[(u(!0),t(i,null,d(q.value,(s,n)=>{var i,d,v,y,g,x,$,V,I,N;return m((u(),t("label",{key:n,onClick:l=>a.$emit("set_data",s),class:"relative"},[r("span",h,p(null==s?void 0:s.period_order),1),m(r("input",{class:"_hiddenRadioInput_u1tst_155 sf-hidden",type:"radio","onUpdate:modelValue":o[0]||(o[0]=l=>R.value=l),name:e.name,value:s.value},null,8,k),[[f,R.value]]),r("div",{class:"_boxRadioButton_19yuc_202 w-18 h-18 !border-4 border-solid",style:c(`background-color: ${null==(d=null==(i=null==s?void 0:s.cst)?void 0:i.subject)?void 0:d.color_bg};color:${null==(y=null==(v=null==s?void 0:s.cst)?void 0:v.subject)?void 0:y.color_text};${R.value?"border-color:green":"border-color:white"};`)},[r("span",w,p(null==(x=null==(g=null==s?void 0:s.cst)?void 0:g.classroom)?void 0:x.name),1),r("div",C,p(null==(V=null==($=null==s?void 0:s.cst)?void 0:$.subject)?void 0:V.name),1),_(l,{class:"scale-75","full-name":null==(N=null==(I=null==s?void 0:s.cst)?void 0:I.teacher)?void 0:N.name,separator:" ",letters_count:2},null,8,["full-name"])],4)],8,j)),[[b,!(null==s?void 0:s.day)||!(null==s?void 0:s.period_number)]])}),128))])],2))}};export{$ as default};
