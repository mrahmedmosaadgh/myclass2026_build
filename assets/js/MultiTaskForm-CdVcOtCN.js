import{Q as a}from"./QSpace-CfcdpSpD.js";import{o as e,c as l,aP as s,Q as t,f as o,d as n,C as d,l as i,m as u,b as r}from"./app-BB4Fw2oM.js";import{Q as p}from"./QSelect-BImwntZk.js";import{Q as m}from"./QDate-B2T8MIPr.js";import{Q as c}from"./QPopupProxy-vIS-EZda.js";import{aN as f,aO as v,f as k,k as V,I as b,J as _,K as j,b as T,N as y,y as Q,M as h,Q as w,W as x,V as g}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";import"./use-render-cache-CmTcazfP.js";import"./use-datetime-scH7jWW4.js";import"./date-BcHEbKQH.js";const C={class:"row q-mt-md"},q={class:"row items-center justify-end"},O={key:0,class:"row q-mt-md"},P={class:"col-12"},U=e({__name:"MultiTaskForm",props:f({parentTask:{type:Object,default:null},classificationOptions:{type:Array,default:()=>[]}},{modelValue:{},modelModifiers:{}}),emits:f(["update:is-open","update:parent-task","add-tasks"],["update:modelValue"]),setup(e,{emit:f}){const U=v(e,"modelValue"),M=e,A=f,D=k(""),I=k(null),N=k(""),S=k(!1);V(()=>M.isOpen,a=>{a&&(D.value="",I.value=null,N.value="")});const E=()=>{if(!D.value.trim())return;S.value=!0;const a=D.value.split("\n").map(a=>a.trim()).filter(a=>a.length>0).map(a=>({title:a,classification:I.value,due_date:N.value||null,parent_id:M.parentTask?M.parentTask.id:null}));A("add-tasks",a),A("update:is-open",!1),S.value=!1};return(f,v)=>(_(),b(r,{modelValue:U.value,"onUpdate:modelValue":v[5]||(v[5]=a=>U.value=a),persistent:""},{default:j(()=>[T(u,{style:{"min-width":"500px"}},{default:j(()=>[T(l,{class:"row items-center"},{default:j(()=>[v[6]||(v[6]=y("div",{class:"text-h6"},"Add Multiple Tasks",-1)),T(a),Q(T(t,{icon:"close",flat:"",round:"",dense:""},null,512),[[s]])]),_:1}),T(l,null,{default:j(()=>[v[7]||(v[7]=y("p",{class:"text-caption q-mb-sm"},"Enter one task per line. Each line will be created as a separate task.",-1)),T(o,{modelValue:D.value,"onUpdate:modelValue":v[0]||(v[0]=a=>D.value=a),type:"textarea",rows:"10",outlined:"",placeholder:"Task 1\nTask 2\nTask 3",autofocus:""},null,8,["modelValue"]),y("div",C,[T(p,{modelValue:I.value,"onUpdate:modelValue":v[1]||(v[1]=a=>I.value=a),options:e.classificationOptions,label:"Classification",outlined:"",dense:"",class:"col-12 col-md-6 q-pr-md-sm",clearable:""},null,8,["modelValue","options"]),T(o,{modelValue:N.value,"onUpdate:modelValue":v[3]||(v[3]=a=>N.value=a),label:"Due Date",outlined:"",dense:"",class:"col-12 col-md-6 q-pl-md-sm"},{append:j(()=>[T(n,{name:"event",class:"cursor-pointer"},{default:j(()=>[T(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:j(()=>[T(m,{modelValue:N.value,"onUpdate:modelValue":v[2]||(v[2]=a=>N.value=a)},{default:j(()=>[y("div",q,[Q(T(t,{label:"Close",color:"primary",flat:""},null,512),[[s]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e.parentTask?(_(),h("div",O,[y("div",P,[T(d,null,{default:j(()=>[x(" Parent Task: "+g(e.parentTask.title)+" ",1),T(t,{flat:"",round:"",dense:"",icon:"close",size:"xs",onClick:v[4]||(v[4]=a=>f.$emit("update:parent-task",null))})]),_:1})])])):w("",!0)]),_:1}),T(i,{align:"right"},{default:j(()=>[Q(T(t,{flat:"",label:"Cancel",color:"negative"},null,512),[[s]]),T(t,{flat:"",label:"Add Tasks",color:"positive",onClick:E,loading:S.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},[["__scopeId","data-v-a92c92aa"]]);export{U as default};
