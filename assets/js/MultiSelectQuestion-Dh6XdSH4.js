import{d as e,f as s,a,N as i,J as t,O as l,Q as n,F as o,R as r,W as c,V as d,U as u}from"./vendor-nQjeLEvd.js";import{o as p}from"./app-ggGwxJON.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const v={class:"multi-select-question"},b=["aria-label"],h=["onClick"],k={class:"checkbox-container"},f=["id","checked","disabled","aria-label","aria-checked","aria-describedby","onChange"],w=["for"],x={class:"option-text"},m=["id"],y={key:0,class:"correct-icon","aria-label":"Correct answer selected"},C={key:1,class:"missed-icon","aria-label":"Correct answer not selected"},q={key:2,class:"incorrect-icon","aria-label":"Incorrect answer selected"},g={key:1,class:"rationale"},$={class:"rationale-text"},A=["disabled","aria-label"],O={key:0,class:"selected-count","aria-hidden":"true"},S={key:1,class:"feedback-section",role:"alert","aria-live":"polite"},j={class:"score-icon"},F={class:"score-text"},Q={class:"score-detail"},_={key:0,class:"explanation-panel"},I={class:"explanation-text"},N=p(e({__name:"MultiSelectQuestion",props:{question:{},selectedIndex:{},isAnswered:{type:Boolean},showFeedback:{type:Boolean}},emits:["select"],setup(e,{emit:p}){const N=e,B=p,E=s([]),P=a(()=>N.question.answerOptions.filter(e=>e.isCorrect).length),J=a(()=>E.value.filter(e=>N.question.answerOptions[e].isCorrect).length),M=a(()=>{const e=N.question.answerOptions.map((e,s)=>e.isCorrect?s:-1).filter(e=>-1!==e);return e.length===E.value.length&&e.every(e=>E.value.includes(e))}),R=e=>String.fromCharCode(65+e),U=e=>{if(!N.isAnswered)return{selected:E.value.includes(e)};const s=N.question.answerOptions[e],a=E.value.includes(e);return{correct:s.isCorrect&&a,incorrect:!s.isCorrect&&a,missed:s.isCorrect&&!a,disabled:!0}},V=e=>{if(N.isAnswered)return;const s=E.value.indexOf(e);s>-1?E.value.splice(s,1):E.value.push(e)},W=()=>{0===E.value.length||N.isAnswered||B("select",[...E.value])};return(e,s)=>(t(),i("div",v,[s[2]||(s[2]=l("div",{class:"instructions",role:"note","aria-label":"Question instructions"},[l("span",{class:"instructions-icon","aria-hidden":"true"},"â„¹ï¸"),l("span",{class:"instructions-text"},"Select all correct answers")],-1)),l("div",{class:"options-container",role:"group","aria-label":`Question ${e.question.questionNumber}: Select all that apply`},[(t(!0),i(o,null,r(e.question.answerOptions,(a,o)=>(t(),i("div",{key:a.id,class:u(["checkbox-option",U(o)]),onClick:e=>V(o)},[l("div",k,[l("input",{id:`option-${e.question.id}-${o}`,type:"checkbox",checked:E.value.includes(o),disabled:e.isAnswered,class:"checkbox-input","aria-label":`Option ${R(o)}: ${a.text}`,"aria-checked":E.value.includes(o),"aria-describedby":e.isAnswered?`option-feedback-${e.question.id}-${o}`:void 0,role:"checkbox",onChange:e=>V(o)},null,40,f),l("label",{for:`option-${e.question.id}-${o}`,class:"checkbox-label","aria-hidden":"true"},d(R(o)),9,w)]),l("div",x,d(a.text),1),e.isAnswered?(t(),i("div",{key:0,class:"feedback-icon",id:`option-feedback-${e.question.id}-${o}`,role:"status","aria-live":"polite"},[a.isCorrect&&E.value.includes(o)?(t(),i("span",y,"âœ“")):a.isCorrect&&!E.value.includes(o)?(t(),i("span",C,"â—‹")):!a.isCorrect&&E.value.includes(o)?(t(),i("span",q,"âœ—")):n("",!0)],8,m)):n("",!0),e.isAnswered&&e.showFeedback&&a.rationale?(t(),i("div",g,[s[0]||(s[0]=l("div",{class:"rationale-label"},"Explanation:",-1)),l("div",$,d(a.rationale),1)])):n("",!0)],10,h))),128))],8,b),e.isAnswered?n("",!0):(t(),i("button",{key:0,type:"button",class:"submit-button",disabled:0===E.value.length,"aria-label":`Submit ${E.value.length} selected answer${1!==E.value.length?"s":""} for question ${e.question.questionNumber}`,onClick:W},[c(" Submit Answer"+d(E.value.length>1?"s":"")+" ",1),E.value.length>0?(t(),i("span",O," ("+d(E.value.length)+" selected) ",1)):n("",!0)],8,A)),e.isAnswered&&e.showFeedback?(t(),i("div",S,[l("div",{class:u(["score-display",{perfect:M.value,partial:!M.value}])},[l("span",j,d(M.value?"âœ“":"âš "),1),l("span",F,d(M.value?"Perfect!":"Partial Credit"),1),l("span",Q,d(J.value)+" of "+d(P.value)+" correct answers selected ",1)],2),e.question.explanation?(t(),i("div",_,[s[1]||(s[1]=l("div",{class:"explanation-label"},"ðŸ“š Explanation:",-1)),l("div",I,d(e.question.explanation),1)])):n("",!0)])):n("",!0)]))}}),[["__scopeId","data-v-95e1f31f"]]);export{N as default};
