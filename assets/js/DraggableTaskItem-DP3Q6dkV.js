import{r as e}from"./app-YpH5vqWh.js";import{f as a,N as r,J as t,L as d,a0 as s,U as n}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const o=e({__name:"DraggableTaskItem",props:{task:{type:Object,required:!0},index:{type:Number,required:!0},parentId:{type:[Number,String],default:null}},emits:["reorder"],setup(e,{emit:o}){const i=e,p=o,l=a(!1),g=e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify({id:i.task.id,index:i.index,parentId:i.parentId})),e.target.classList.add("dragging")},f=e=>{e.dataTransfer.dropEffect="move",l.value=!0},m=()=>{l.value=!1},u=e=>{l.value=!1;const a=JSON.parse(e.dataTransfer.getData("text/plain")),r=a.index,t=i.index,d=a.parentId,s=i.parentId;r===t&&d===s||p("reorder",{fromIndex:r,toIndex:t,fromParentId:d,toParentId:s})},v=e=>{e.target.classList.remove("dragging"),l.value=!1};return(e,a)=>(t(),r("div",{class:n(["draggable-task-item",{"drag-over":l.value}]),draggable:"true",onDragstart:g,onDragover:s(f,["prevent"]),onDragleave:m,onDrop:s(u,["prevent"]),onDragend:v},[d(e.$slots,"default",{},void 0,!0)],34))}},[["__scopeId","data-v-91e62c68"]]);export{o as default};
