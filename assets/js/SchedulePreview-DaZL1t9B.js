import{p as e,l as o}from"./app-BXm70mdJ.js";import{Q as s}from"./QSelect-CnZtzPIC.js";import{a,Q as t}from"./QTable-rnEofRem.js";import{Q as l}from"./QTr-CHmCMIZo.js";import{Q as r}from"./QTd-BIxMTYzb.js";import{f as d,a as i,k as p,o as u,L as n,I as m,M as c,b as f,J as v,V as b,U as y,F as _,Q as w}from"./vendor-DNM7Y6Xn.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-Dmg3C5Wm.js";import"./QLinearProgress-Cix0cchl.js";import"./use-fullscreen-FlxrEg_V.js";const g={class:"schedule-preview"},j={class:"mb-4 bg-grey-2 p-4 rounded-borders"},S={class:"flex items-center justify-between"},h={class:"flex gap-2"},Q={class:"schedule-grid q-pa-md"},T="schedule-preview-slots",L=e({__name:"SchedulePreview",props:{timing:{type:Object,required:!0},timeSlots:{type:Array,required:!0}},setup(e){const L=e,V=["Sunday","Monday","Tuesday","Wednesday","Thursday"],k=d([0]),x=i(()=>Array.from({length:L.timeSlots.length},(e,o)=>o)),O=i(()=>{const e=[];return(L.timing.d1||[]).forEach(o=>{e.push({period_code:o.period_code,...V.reduce((e,s,a)=>{var t;const l=`d${a+1}`,r=null==(t=L.timing[l])?void 0:t.find(e=>e.period_code===o.period_code);return e[s.toLowerCase()]=r,e},{})})}),e}),q=i(()=>[{name:"period",label:"Period",field:"period_code",align:"left"},...V.map(e=>({name:e.toLowerCase(),label:e,field:e.toLowerCase(),align:"left"}))]),C=(e,o)=>{const s=e[o];return(null==s?void 0:s.timeSlots)?s.timeSlots.filter(e=>e.active):[]};return p(k,()=>{localStorage.setItem(T,JSON.stringify(k.value))},{deep:!0}),u(()=>{(()=>{const e=localStorage.getItem(T);e&&(k.value=JSON.parse(e))})()}),(e,d)=>(m(),n("div",g,[c("div",j,[c("div",S,[d[2]||(d[2]=c("h5",{class:"text-subtitle1 q-my-none"},"Time Slot Display Options",-1)),c("div",h,[f(s,{modelValue:k.value,"onUpdate:modelValue":d[1]||(d[1]=e=>k.value=e),options:x.value,multiple:"",dense:"","options-dense":"",label:"Select Time Slots",style:{"min-width":"200px"}},{option:v(({opt:e})=>[f(o,{modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=e=>k.value=e),val:e},{default:v(()=>[b(" Slot "+y(e+1),1)]),_:2},1032,["modelValue","val"])]),_:1},8,["modelValue","options"])])])]),c("div",Q,[f(t,{flat:"",rows:O.value,columns:q.value,"row-key":"period_code",dense:""},{header:v(e=>[f(l,{props:e},{default:v(()=>[f(a,{"auto-width":""},{default:v(()=>d[3]||(d[3]=[b("Period")])),_:1}),(m(),n(_,null,w(V,e=>f(a,{key:e},{default:v(()=>[b(y(e),1)]),_:2},1024)),64))]),_:2},1032,["props"])]),body:v(e=>[f(l,{props:e},{default:v(()=>[f(r,{"auto-width":""},{default:v(()=>[b(y(e.row.period_code),1)]),_:2},1024),(m(),n(_,null,w(V,o=>f(r,{key:o},{default:v(()=>[(m(!0),n(_,null,w(C(e.row,o.toLowerCase()),e=>(m(),n("div",{key:e.from},y((e=>e.from&&e.to?`${e.from} - ${e.to}`:"")(e)),1))),128))]),_:2},1024)),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])]))}},[["__scopeId","data-v-7ccb2ccd"]]);export{L as default};
