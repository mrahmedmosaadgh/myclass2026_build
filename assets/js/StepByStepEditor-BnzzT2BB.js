import{o as e,p as l,Q as t,f as o,ba as a}from"./app-DOc39CFu.js";import{Q as s}from"./QSelect-Dkiz84LX.js";import{R as d}from"./RichTextEditor-GKfLp6JO.js";import{M as i,J as r,N as n,b as m,F as p,R as u,V as c,K as b,W as v,Q as h}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";import"./QColor-CEDfwM6j.js";import"./QSlider-XDiT4A1X.js";import"./QTabs-CQbEg8iR.js";import"./QTab-Dldfuhzv.js";import"./QTabPanels-D4WV1jNy.js";import"./use-panel-Ddka6S_L.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-C5l4w7rK.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-Ce7MGnlH.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-BCn9eoEl.js";import"./QBadge-Dz6oAuer.js";const V={class:"step-by-step-editor q-pa-md bg-grey-1 rounded-borders"},x={class:"row items-center justify-between q-mb-sm"},w={class:"text-subtitle2 text-primary"},g={class:"q-gutter-y-sm"},y={class:"row q-col-gutter-sm"},f={class:"col-12 col-sm-6"},j={key:0},k={key:1},_=e({__name:"StepByStepEditor",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:_}){const q=e,Q=_,S=[{label:"Short Answer",value:"short_answer"},{label:"Multiple Choice",value:"single_choice"}],U=()=>{Q("update:modelValue",[...q.modelValue,{text:"",type:"short_answer",correct_answer:"",options:[{id:"o1",text:""},{id:"o2",text:""}],feedback:""}])},C=(e,l,t)=>{const o=[...q.modelValue];o[e]={...o[e],[l]:t},Q("update:modelValue",o)};return 0===q.modelValue.length&&U(),(_,A)=>(r(),i("div",V,[A[4]||(A[4]=n("div",{class:"text-subtitle1 q-mb-sm text-weight-bold"},"Steps Configuration",-1)),(r(!0),i(p,null,u(e.modelValue,(V,_)=>(r(),i("div",{key:_,class:"q-mb-md bg-white q-pa-sm rounded-borders shadow-1"},[n("div",x,[n("div",w,"Step "+c(_+1),1),m(t,{flat:"",dense:"",round:"",color:"negative",icon:"delete",size:"sm",onClick:e=>(e=>{const l=[...q.modelValue];l.splice(e,1),Q("update:modelValue",l)})(_),disable:e.modelValue.length<=1},{default:b(()=>[m(l,null,{default:b(()=>A[0]||(A[0]=[v("Remove Step")])),_:1})]),_:2},1032,["onClick","disable"])]),n("div",g,[n("div",null,[A[1]||(A[1]=n("label",{class:"text-caption text-grey-7"},"Step Instruction / Question",-1)),m(d,{modelValue:V.text,"onUpdate:modelValue":e=>C(_,"text",e),placeholder:"e.g., First, calculate the area of the base..."},null,8,["modelValue","onUpdate:modelValue"])]),n("div",y,[n("div",f,[m(s,{"model-value":V.type,"onUpdate:modelValue":e=>C(_,"type",e),options:S,label:"Answer Type",dense:"",outlined:"","emit-value":"","map-options":"","bg-color":"white"},null,8,["model-value","onUpdate:modelValue"])])]),"short_answer"===V.type?(r(),i("div",j,[m(o,{"model-value":V.correct_answer,"onUpdate:modelValue":e=>C(_,"correct_answer",e),label:"Correct Answer",dense:"",outlined:"","bg-color":"white",placeholder:"Exact match required"},null,8,["model-value","onUpdate:modelValue"])])):h("",!0),"single_choice"===V.type?(r(),i("div",k,[A[2]||(A[2]=n("div",{class:"text-caption text-grey-7 q-mb-xs"},"Options",-1)),(r(!0),i(p,null,u(V.options,(e,l)=>(r(),i("div",{key:l,class:"row items-center q-mb-xs"},[m(a,{"model-value":V.correct_answer,"onUpdate:modelValue":e=>C(_,"correct_answer",e),val:e.text,dense:"",size:"sm"},null,8,["model-value","onUpdate:modelValue","val"]),m(o,{"model-value":e.text,"onUpdate:modelValue":e=>((e,l,t)=>{const o=[...q.modelValue],a=[...o[e].options];a[l]={...a[l],text:t},o[e].options=a,Q("update:modelValue",o)})(_,l,e),dense:"",outlined:"",class:"col q-mx-sm","bg-color":"white",placeholder:"Option text"},null,8,["model-value","onUpdate:modelValue"]),m(t,{flat:"",dense:"",round:"",color:"grey-6",icon:"close",size:"xs",onClick:e=>((e,l)=>{const t=[...q.modelValue];t[e].options.splice(l,1),Q("update:modelValue",t)})(_,l),disable:V.options.length<=2},null,8,["onClick","disable"])]))),128)),m(t,{flat:"",dense:"",size:"sm",color:"primary",icon:"add",label:"Add Option",onClick:e=>(e=>{const l=[...q.modelValue];l[e].options.push({id:`o${Date.now()}`,text:""}),Q("update:modelValue",l)})(_),class:"q-mt-xs"},null,8,["onClick"])])):h("",!0),n("div",null,[A[3]||(A[3]=n("label",{class:"text-caption text-grey-7"},"Feedback / Explanation (Optional)",-1)),m(o,{"model-value":V.feedback,"onUpdate:modelValue":e=>C(_,"feedback",e),dense:"",outlined:"",autogrow:"","bg-color":"white",placeholder:"Shown after answering..."},null,8,["model-value","onUpdate:modelValue"])])])]))),128)),m(t,{outline:"",color:"primary",icon:"add",label:"Add Next Step",class:"full-width q-mt-sm",onClick:U})]))}},[["__scopeId","data-v-aa7c720a"]]);export{_ as default};
