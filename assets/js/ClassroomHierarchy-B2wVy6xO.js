import{r as e,u as a,f as l,Q as s,i as t,d as r,b as o,o as d,e as u,be as i,j as n,k as c,s as m,l as _,aS as f,G as y}from"./app-CCwy2VVq.js";import{Q as p}from"./QBadge-BmqcVL7P.js";import{Q as b}from"./QSpace-B14M_epf.js";import{f as g,N as v,J as x,b as h,K as k,R as j,I as q,F as C,Q as w,O as N,y as Q,V as A,z,W as S,S as V}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const B={key:0,class:"text-center q-pa-xl"},H={class:"text-h6"},I={class:"q-mb-md"},$={class:"text-h6"},F={class:"q-mb-md"},G={class:"text-subtitle2 text-grey-7 q-mb-sm"},J={class:"row q-col-gutter-xs"},K=e({__name:"ClassroomHierarchy",props:{hierarchy:{type:Array,required:!0},assignments:{type:Array,required:!0}},setup(e){const K=a(),O=e,R=g(!1),U=g(null);return(a,g)=>(x(),v("div",null,[h(r,{flat:"",bordered:""},{default:k(()=>[h(l,null,{default:k(()=>[g[4]||(g[4]=j("div",{class:"text-h6 q-mb-md"},"Classroom Hierarchy",-1)),0===e.hierarchy.length?(x(),v("div",B,[h(s,{name:"folder_open",size:"64px",color:"grey-5"}),g[1]||(g[1]=j("div",{class:"text-body1 text-grey-7 q-mt-md"},"No stages found",-1))])):(x(),q(t,{key:1,bordered:"",separator:""},{default:k(()=>[(x(!0),v(C,null,w(e.hierarchy,e=>(x(),q(i,{key:e.id,label:e.name,icon:"account_tree","header-class":"text-primary text-weight-bold","expand-separator":""},{default:k(()=>[h(r,{flat:""},{default:k(()=>[0===e.grades.length?(x(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[2]||(g[2]=[S(" No grades in this stage ")])),_:1})):(x(),q(t,{key:1},{default:k(()=>[(x(!0),v(C,null,w(e.grades,e=>(x(),q(i,{key:e.id,label:e.name,icon:"grade","header-class":"text-secondary",dense:""},{default:k(()=>[h(r,{flat:""},{default:k(()=>[0===e.classrooms.length?(x(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[3]||(g[3]=[S(" No classrooms in this grade ")])),_:1})):(x(),q(t,{key:1,dense:""},{default:k(()=>[(x(!0),v(C,null,w(e.classrooms,e=>(x(),q(n,{key:e.id,clickable:"",onClick:a=>(e=>{U.value=e,R.value=!0})(e)},{default:k(()=>[h(c,{avatar:""},{default:k(()=>[h(m,{color:"accent","text-color":"white",icon:"class"})]),_:1}),h(c,null,{default:k(()=>[h(_,null,{default:k(()=>[S(A(e.name),1)]),_:2},1024),h(_,{caption:""},{default:k(()=>[S(" Capacity: "+A(e.capacity||"N/A"),1)]),_:2},1024)]),_:2},1024),h(c,{side:""},{default:k(()=>[h(p,{color:"primary",label:`${e.assignments_count} assignments`},null,8,["label"])]),_:2},1024),h(c,{side:""},{default:k(()=>[h(s,{name:"chevron_right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}))]),_:1})]),_:1}),h(u,{modelValue:R.value,"onUpdate:modelValue":g[0]||(g[0]=e=>R.value=e),maximized:z(K).screen.lt.md},{default:k(()=>[h(r,{style:{"min-width":"500px"}},{default:k(()=>[h(l,{class:"row items-center q-pb-none"},{default:k(()=>{var e;return[j("div",H,A(null==(e=U.value)?void 0:e.name),1),h(b),Q(h(o,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])]}),_:1}),U.value?(x(),q(l,{key:0},{default:k(()=>[j("div",I,[g[5]||(g[5]=j("div",{class:"text-subtitle2 text-grey-7"},"Capacity",-1)),j("div",$,A(U.value.capacity||"N/A"),1)]),j("div",F,[j("div",G,"Subjects ("+A(U.value.subjects.length)+")",1),j("div",J,[(x(!0),v(C,null,w(U.value.subjects,(e,a)=>(x(),v("div",{key:a,class:"col-auto"},[h(y,{color:"primary","text-color":"white",icon:"menu_book"},{default:k(()=>[S(A(e),1)]),_:2},1024)]))),128))])]),j("div",null,[g[6]||(g[6]=j("div",{class:"text-subtitle2 text-grey-7 q-mb-sm"},"Assignments",-1)),h(t,{dense:"",bordered:"",separator:""},{default:k(()=>{return[(x(!0),v(C,null,w((e=U.value.id,O.assignments.filter(a=>a.classroom_id===e)),e=>(x(),q(n,{key:e.id},{default:k(()=>[h(c,{avatar:""},{default:k(()=>[h(m,{style:V({backgroundColor:e.subject_color_bg,color:e.subject_color_text}),icon:"menu_book"},null,8,["style"])]),_:2},1024),h(c,null,{default:k(()=>[h(_,null,{default:k(()=>[S(A(e.subject_name),1)]),_:2},1024),h(_,{caption:""},{default:k(()=>[S(A(e.teacher_name),1)]),_:2},1024)]),_:2},1024),h(c,{side:""},{default:k(()=>[h(p,{color:"primary",label:`${e.classes_per_week} classes/week`},null,8,["label"])]),_:2},1024)]),_:2},1024))),128))];var e}),_:1})])]),_:1})):N("",!0),h(d,{align:"right"},{default:k(()=>[Q(h(o,{flat:"",label:"Close",color:"primary"},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]))}},[["__scopeId","data-v-6fa3250c"]]);export{K as default};
