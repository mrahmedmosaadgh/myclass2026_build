import{u as e,c as l,a,f as o,aP as t,Q as s,l as d,m as i}from"./app-BB4Fw2oM.js";import{Q as u}from"./QSelect-BImwntZk.js";import{f as n,k as m,o as r,I as p,J as v,K as c,b as f,N as V,V as b,y as _,_ as k}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";const y={class:"text-h6"},j={__name:"SkillForm",props:{model:Object},emits:["saved"],setup(j,{emit:S}){const g=j,h=S,U=e(),q=n({name:"",description:"",level_id:null,order:null}),x=n([]);function N(){const e=g.model?`/qdrat/skills/${g.model.id}`:"/qdrat/skills",l=g.model?"put":"post";k[l](e,q.value).then(()=>{U.notify({type:"positive",message:"Saved successfully"}),h("saved")}).catch(()=>{U.notify({type:"negative",message:"Failed to save"})})}return m(()=>g.model,e=>{q.value=e?{...e}:{name:"",description:"",level_id:null,order:null}},{immediate:!0}),r(function(){k.get("/qdrat/skill-levels").then(e=>x.value=e.data)}),(e,n)=>(v(),p(i,null,{default:c(()=>[f(l,null,{default:c(()=>[V("div",y,b(g.model?"Edit Skill":"Add Skill"),1)]),_:1}),f(a),f(l,null,{default:c(()=>[f(o,{modelValue:q.value.name,"onUpdate:modelValue":n[0]||(n[0]=e=>q.value.name=e),label:"Skill Name"},null,8,["modelValue"]),f(o,{modelValue:q.value.description,"onUpdate:modelValue":n[1]||(n[1]=e=>q.value.description=e),label:"Description",type:"textarea"},null,8,["modelValue"]),f(u,{modelValue:q.value.level_id,"onUpdate:modelValue":n[2]||(n[2]=e=>q.value.level_id=e),label:"Level",options:x.value,"option-value":"id","option-label":"name"},null,8,["modelValue","options"]),f(o,{modelValue:q.value.order,"onUpdate:modelValue":n[3]||(n[3]=e=>q.value.order=e),type:"number",label:"Order"},null,8,["modelValue"])]),_:1}),f(d,{align:"right"},{default:c(()=>[_(f(s,{flat:"",label:"Cancel"},null,512),[[t]]),f(s,{color:"primary",label:"Save",onClick:N})]),_:1})]),_:1}))}};export{j as default};
