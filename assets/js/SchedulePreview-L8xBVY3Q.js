import{o as e,k as o}from"./app-Buylb2AA.js";import{Q as s}from"./QSelect-CcTxzM62.js";import{a,Q as t}from"./QTable-BmRSX4cl.js";import{Q as l}from"./QTr-BofNiUbU.js";import{Q as r}from"./QTd-B6OVqMbX.js";import{f as d,a as i,k as p,o as u,L as n,I as m,M as c,b as f,J as v,V as y,U as _,F as b,Q as g}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-Cd9X66xB.js";import"./QLinearProgress-B7jHdoB9.js";import"./use-fullscreen-DO2N8akv.js";const w={class:"schedule-preview"},j={class:"mb-4 bg-grey-2 p-4 rounded-borders"},S={class:"flex items-center justify-between"},h={class:"flex gap-2"},Q={class:"schedule-grid q-pa-md"},T="schedule-preview-slots",k=e({__name:"SchedulePreview",props:{timing:{type:Object,required:!0},timeSlots:{type:Array,required:!0}},setup(e){const k=e,V=["Sunday","Monday","Tuesday","Wednesday","Thursday"],L=d([0]),x=i(()=>Array.from({length:k.timeSlots.length},(e,o)=>o)),O=i(()=>{const e=[];return(k.timing.d1||[]).forEach(o=>{e.push({period_code:o.period_code,...V.reduce((e,s,a)=>{var t;const l=`d${a+1}`,r=null==(t=k.timing[l])?void 0:t.find(e=>e.period_code===o.period_code);return e[s.toLowerCase()]=r,e},{})})}),e}),q=i(()=>[{name:"period",label:"Period",field:"period_code",align:"left"},...V.map(e=>({name:e.toLowerCase(),label:e,field:e.toLowerCase(),align:"left"}))]),C=(e,o)=>{const s=e[o];return(null==s?void 0:s.timeSlots)?s.timeSlots.filter(e=>e.active):[]};return p(L,()=>{localStorage.setItem(T,JSON.stringify(L.value))},{deep:!0}),u(()=>{(()=>{const e=localStorage.getItem(T);e&&(L.value=JSON.parse(e))})()}),(e,d)=>(m(),n("div",w,[c("div",j,[c("div",S,[d[2]||(d[2]=c("h5",{class:"text-subtitle1 q-my-none"},"Time Slot Display Options",-1)),c("div",h,[f(s,{modelValue:L.value,"onUpdate:modelValue":d[1]||(d[1]=e=>L.value=e),options:x.value,multiple:"",dense:"","options-dense":"",label:"Select Time Slots",style:{"min-width":"200px"}},{option:v(({opt:e})=>[f(o,{modelValue:L.value,"onUpdate:modelValue":d[0]||(d[0]=e=>L.value=e),val:e},{default:v(()=>[y(" Slot "+_(e+1),1)]),_:2},1032,["modelValue","val"])]),_:1},8,["modelValue","options"])])])]),c("div",Q,[f(t,{flat:"",rows:O.value,columns:q.value,"row-key":"period_code",dense:""},{header:v(e=>[f(l,{props:e},{default:v(()=>[f(a,{"auto-width":""},{default:v(()=>d[3]||(d[3]=[y("Period")])),_:1}),(m(),n(b,null,g(V,e=>f(a,{key:e},{default:v(()=>[y(_(e),1)]),_:2},1024)),64))]),_:2},1032,["props"])]),body:v(e=>[f(l,{props:e},{default:v(()=>[f(r,{"auto-width":""},{default:v(()=>[y(_(e.row.period_code),1)]),_:2},1024),(m(),n(b,null,g(V,o=>f(r,{key:o},{default:v(()=>[(m(!0),n(b,null,g(C(e.row,o.toLowerCase()),e=>(m(),n("div",{key:e.from},_((e=>e.from&&e.to?`${e.from} - ${e.to}`:"")(e)),1))),128))]),_:2},1024)),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])]))}},[["__scopeId","data-v-7ccb2ccd"]]);export{k as default};
