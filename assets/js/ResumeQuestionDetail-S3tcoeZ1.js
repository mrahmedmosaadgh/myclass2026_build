import{f as e,o as a,L as s,I as t,M as n,U as l,x as i,ab as u,$ as o,F as r,Q as d,O as p,Z as m}from"./vendor-EI0FRBVb.js";const c={class:"mb-4"},v={key:0},f=["src"],w=["src"],b=["href"],y={__name:"ResumeQuestionDetail",props:{questionId:[String,Number],initialQuestion:Object},setup(y){const h=y,_=e(h.initialQuestion||{answers:[]}),g=e({answer:"",file:null});async function k(){if(!h.questionId)return;const e=await m.get(`/api/resume-questions/${h.questionId}`);_.value=e.data}function $(e){g.value.file=e.target.files[0]}async function I(){const e=new FormData;e.append("answer",g.value.answer),g.value.file&&e.append("file",g.value.file),await m.post(`/api/resume-answers/${_.value.id}`,e),g.value={answer:"",file:null},k()}return a(()=>{h.initialQuestion||k()}),(e,a)=>(t(),s("div",null,[n("h2",null,l(_.value.title),1),n("div",c,l(_.value.body),1),n("form",{onSubmit:o(I,["prevent"]),class:"mb-4"},[i(n("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>g.value.answer=e),placeholder:"Your answer...",class:"block mb-2"},null,512),[[u,g.value.answer]]),n("input",{type:"file",ref:"fileInput",onChange:$,accept:"audio/*,video/*",class:"mb-2"},null,544),a[1]||(a[1]=n("button",{type:"submit"},"Submit Answer",-1))],32),n("div",null,[a[2]||(a[2]=n("h3",null,"Answers",-1)),n("ul",null,[(t(!0),s(r,null,d(_.value.answers,e=>(t(),s("li",{key:e.id},[n("div",null,l(e.answer),1),e.media_path?(t(),s("div",v,[e.media_type&&e.media_type.startsWith("audio")?(t(),s("audio",{key:0,src:`/storage/${e.media_path}`,controls:""},null,8,f)):e.media_type&&e.media_type.startsWith("video")?(t(),s("video",{key:1,src:`/storage/${e.media_path}`,controls:"",width:"200"},null,8,w)):(t(),s("a",{key:2,href:`/storage/${e.media_path}`,target:"_blank"},"Download",8,b))])):p("",!0)]))),128))])])]))}};export{y as default};
