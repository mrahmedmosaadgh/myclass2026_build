import{f as e,o as t,L as l,I as s,M as n,U as r,V as i,S as a,F as o,Q as d,O as u,Z as p,n as c}from"./vendor-EI0FRBVb.js";const m={class:"text-2xl font-bold text-gray-900"},x={class:"text-4xl font-bold text-gray-900 mb-4"},y={class:"text-xl text-gray-600"},b={class:"mt-4 text-sm text-gray-500"},g=["onClick"],v={class:"flex items-center justify-between mb-6 border-b border-gray-100 pb-2 print:border-gray-300"},f={class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},w={class:"text-xs text-gray-400 uppercase"},h={class:"slide-content"},_=["innerHTML"],k={key:1,class:"flex flex-col items-center"},T={key:0,class:"text-lg font-medium mb-4"},L=["src"],M={key:2,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},j={class:"text-sm text-gray-600"},H={key:3,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},S={class:"text-sm text-gray-600"},B={key:4,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},D={class:"text-sm text-gray-600"},P={key:5,class:"mt-2 text-sm text-gray-500 italic"},A={key:2,class:"space-y-8"},F=["innerHTML"],q={class:"ml-6 space-y-3"},C={key:0,class:"flex gap-8 text-lg"},I={key:1,class:"space-y-3"},N=["innerHTML"],V={__name:"LessonPrintView",props:{presentationId:{type:[Number,String],required:!0}},setup(V){const $=V,z=e({}),O=e([]),Q=e(0),U=e(!1),Z=(e="")=>{if(!e||"string"!=typeof e)return"";const t={"⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9"};return e.replace(/\^(\d+|[n\-+])/g,(e,t)=>"n"===t?"<sup>n</sup>":t.split("").map(e=>/[0-9]/.test(e)?`<sup>${e}</sup>`:("-+".includes(e),e)).join("")).replace(/[\u00B2\u00B3\u2070-\u2079]/g,e=>`<sup>${t[e]||e}</sup>`).replace(/(\d)([\u2070-\u2079\u00B2\u00B3\u207B\u207A])/g,(e,l,s)=>l+"<sup>"+(t[s]||s)+"</sup>")},E=()=>{U.value=!1,setTimeout(()=>window.print(),100)},G=async e=>{U.value=!0,Q.value=e,await c(),setTimeout(()=>{window.print(),setTimeout(()=>{U.value=!1},800)},150)};return t(()=>{(async()=>{try{const e=await p.get(route("lesson-presentation.show",{id:$.presentationId}));z.value=e.data,O.value=e.data.slides||[]}catch(e){console.error("Failed to load lesson:",e)}})()}),(e,t)=>{var p,c;return s(),l("div",{class:a([U.value?"":"min-h-screen p-8 print:p-0","bg-white"])},[n("div",{class:a([U.value?"no-print":"print:hidden","max-w-4xl mx-auto mb-8 flex justify-between items-center"])},[n("h1",m,r(z.value.name),1),n("button",{onClick:E,class:"no-print inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[0]||(t[0]=[n("i",{class:"fas fa-print mr-2"},null,-1),i(" Print Lesson ")]))],2),n("div",{class:a(U.value?"":"max-w-4xl mx-auto space-y-8 print:w-full print:max-w-none print:space-y-8")},[n("div",{class:a([U.value?"no-print":"","text-center border-b-2 border-gray-200 pb-8 mb-12 print:border-b print:pb-8 print:mb-12"])},[n("h1",x,r(z.value.name),1),n("p",y,r(z.value.description),1),n("div",b,[n("p",null,"Teacher: "+r((null==(p=z.value.teacher)?void 0:p.name)||"N/A"),1),n("p",null,"Subject: "+r((null==(c=z.value.subject)?void 0:c.name)||"N/A"),1),n("p",null,"Date: "+r((new Date).toLocaleDateString()),1)])],2),(s(!0),l(o,null,d(O.value,(e,p)=>{var c,m,x,y,b,V,$,z;return s(),l("div",{key:e.id||p,class:a([U.value&&p!==Q.value?"no-print":"","slide-container relative break-inside-avoid border border-gray-200 rounded-lg p-8 print:border-0 print:p-0 print:rounded-none print:mb-12 group"])},[n("button",{onClick:e=>(e=>{Q.value=e,G(e)})(p),class:"absolute no-print top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 print:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-2 shadow-lg flex items-center gap-2 text-sm font-medium z-10",title:"Print this slide"},t[1]||(t[1]=[n("i",{class:"fas fa-print"},null,-1),n("span",null,"Print Slide",-1)]),8,g),n("div",v,[n("span",f,"Slide "+r(p+1),1),n("span",w,r(e.slide_type),1)]),n("div",h,["text"===e.slide_type?(s(),l("div",{key:0,class:"prose max-w-none",innerHTML:Z(null==(c=e.slide_content)?void 0:c.text)},null,8,_)):["image","video","audio","pdf"].includes(e.slide_type)?(s(),l("div",k,[(null==(m=e.slide_content)?void 0:m.title)?(s(),l("h3",T,r(e.slide_content.title),1)):u("",!0),"image"===e.slide_type&&(null==(x=e.slide_content)?void 0:x.url)?(s(),l("img",{key:1,src:e.slide_content.url,class:"max-w-full h-auto rounded-lg shadow-sm print:shadow-none"},null,8,L)):"video"===e.slide_type?(s(),l("div",M,[t[2]||(t[2]=n("i",{class:"fas fa-video text-4xl text-gray-400 mb-2"},null,-1)),n("p",j,"Video: "+r(null==(y=e.slide_content)?void 0:y.url),1)])):"audio"===e.slide_type?(s(),l("div",H,[t[3]||(t[3]=n("i",{class:"fas fa-volume-up text-4xl text-gray-400 mb-2"},null,-1)),n("p",S,"Audio: "+r(null==(b=e.slide_content)?void 0:b.url),1)])):"pdf"===e.slide_type?(s(),l("div",B,[t[4]||(t[4]=n("i",{class:"fas fa-file-pdf text-4xl text-gray-400 mb-2"},null,-1)),n("p",D,"PDF Document: "+r(null==(V=e.slide_content)?void 0:V.url),1)])):u("",!0),(null==($=e.slide_content)?void 0:$.caption)?(s(),l("p",P,r(e.slide_content.caption),1)):u("",!0)])):"question"===e.slide_type?(s(),l("div",A,[(s(!0),l(o,null,d((null==(z=e.slide_content)?void 0:z.questions)||[],(e,r)=>(s(),l("div",{key:r,class:"pl-4 border-l-4 border-blue-100 print:border-gray-300"},[n("div",{class:"font-medium text-gray-900 mb-3",innerHTML:Z(e.text)},null,8,F),n("div",q,["true_false"===e.type?(s(),l("div",C,t[5]||(t[5]=[n("div",{class:"flex items-center"},[n("div",{class:"w-5 h-5 border-2 border-gray-400 rounded-full mr-3"}),i(" True")],-1),n("div",{class:"flex items-center"},[n("div",{class:"w-5 h-5 border-2 border-gray-400 rounded-full mr-3"}),i(" False")],-1)]))):"multiple_choice"===e.type||"single_choice"===e.type?(s(),l("div",I,[(s(!0),l(o,null,d(e.options,t=>(s(),l("div",{key:t.id,class:"flex items-start text-base"},[n("div",{class:a(["w-5 h-5 border-2 border-gray-400 mr-3 mt-0.5 flex-shrink-0","single_choice"===e.type?"rounded-full":"rounded"])},null,2),n("span",{innerHTML:Z(t.text)},null,8,N)]))),128))])):u("",!0)])]))),128))])):u("",!0)])],2)}),128))],2)],2)}}};export{V as default};
