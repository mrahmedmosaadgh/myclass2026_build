import{p as e,u as a,d as t,a as l,g as o,Q as s,n as r}from"./app-DXXarK7I.js";import{f as i,k as n,a as d,L as u,I as c,b as p,J as m,M as y,U as f}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const v={class:"q-pa-md"},g={class:"q-mt-md flex justify-between"},b={class:"q-mt-md"},S={class:"bg-grey-2 q-pa-sm q-mt-sm"},x=e({__name:"RoadmapEditor",props:{nodes:{type:[Array,String],default:()=>[]}},emits:["update:nodes"],setup(e,{emit:x}){const J=a(),_=e,N=x,O=i(""),j=i([]);function h(e){try{return Array.isArray(e)?e:JSON.parse(e||"[]")}catch(a){return console.warn("Invalid JSON detected:",a),[]}}function q(){const e=h(O.value);j.value=e,N("update:nodes",e),J.notify({message:"Roadmap updated successfully âœ…",color:"green",icon:"check"})}function w(){navigator.clipboard.writeText(JSON.stringify(j.value,null,2)),J.notify({message:"Copied to clipboard ðŸ“‹",color:"primary",icon:"content_copy"})}j.value=h(_.nodes),O.value=JSON.stringify(j.value,null,2),n(()=>_.nodes,e=>{j.value=h(e),O.value=JSON.stringify(j.value,null,2)},{immediate:!0});const k=d(()=>JSON.stringify(j.value,null,2));return(e,a)=>(c(),u("div",v,[p(r,{flat:"",bordered:"",class:"bg-grey-1"},{default:m(()=>[p(t,null,{default:m(()=>a[1]||(a[1]=[y("div",{class:"text-h6"},"ðŸ§­ LMS Roadmap Editor",-1),y("div",{class:"text-caption text-grey"},"Modify your roadmap tree nodes safely.",-1)])),_:1}),p(l),p(t,null,{default:m(()=>[p(o,{modelValue:O.value,"onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),type:"textarea",autogrow:"",filled:"",label:"Edit JSON Tree Data",placeholder:'[ { "label": "Root", "children": [] } ]'},null,8,["modelValue"]),y("div",g,[p(s,{color:"primary",icon:"save",label:"Save",onClick:q}),p(s,{color:"secondary",icon:"content_copy",label:"Copy JSON",onClick:w})]),y("div",b,[a[2]||(a[2]=y("div",{class:"text-subtitle2 text-primary"},"Preview Tree:",-1)),y("pre",S,f(k.value),1)])]),_:1})]),_:1})]))}},[["__scopeId","data-v-a8020420"]]);export{x as default};
