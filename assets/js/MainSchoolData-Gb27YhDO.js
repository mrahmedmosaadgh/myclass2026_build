import{o as s,c as e,d as a,p as l,Q as o,m as t}from"./app-B77gjd5a.js";import{Q as c}from"./QBadge-ZkvAqPBD.js";import{a3 as d,f as i,k as m,o as r,M as n,J as p,b as h,K as u,N as x,z as g,V as y,I as f,Q as q,W as v,F as _}from"./vendor-DuKqz2x4.js";import{u as b}from"./schoolData-BRFwL7u7.js";import j from"./SchoolSettingsDialog-CzZH-_bR.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./QSelect-DB_tK-Lk.js";import"./rtl-Cr6c3OOr.js";import"./QForm-BQsH4F1U.js";const w={class:"row items-center no-wrap"},S={class:"col-12 col-md-8"},k={class:"row items-center q-mb-sm"},I={key:0,class:"text-h6 text-weight-bold ellipsis",style:{"max-width":"300px"}},N={key:1,class:"text-subtitle1 text-grey"},C={class:"q-gutter-sm"},z={class:"text-weight-medium"},Q={class:"text-weight-medium"},A={class:"text-weight-medium"},V={class:"absolute-top-right"},D={class:"row justify-end"},M=s({__name:"MainSchoolData",setup(s){const M=b();d(M);const F=i(!1);m(()=>M.schoolId,s=>{}),r(async()=>{0===M.schools.length?await M.fetchSchools():!M.schoolId&&M.schools.length>0&&M.setSchool(M.schools[0].id)});const J=()=>{F.value=!0},Y=()=>{F.value=!1},B=()=>{F.value=!1};return(s,d)=>(p(),n(_,null,[h(t,{flat:"",bordered:"",class:"q-mb-md bg-grey-1"},{default:u(()=>[h(e,{class:"q-pa-md"},{default:u(()=>[x("div",w,[x("div",S,[x("div",k,[h(a,{name:"school",color:"primary",size:"1.5em",class:"q-mr-md"}),d[1]||(d[1]=x("div",{class:"text-h6 text-primary q-mr-md"},"Current School:",-1)),g(M).schoolName?(p(),n("div",I,y(g(M).schoolName),1)):(p(),n("div",N," No school selected "))]),x("div",C,[g(M).academicYearId?(p(),f(c,{key:0,color:"blue-6",class:"q-px-md q-py-xs",style:{height:"32px"}},{default:u(()=>[h(a,{name:"calendar_month",size:"16px",class:"q-mr-xs"}),x("span",z,y(g(M).academicYearName||"N/A"),1)]),_:1})):q("",!0),g(M).semesterId?(p(),f(c,{key:1,color:"indigo-6",class:"q-px-md q-py-xs",style:{height:"32px"}},{default:u(()=>[h(a,{name:"event",size:"16px",class:"q-mr-xs"}),x("span",Q,y(g(M).semesterName||"N/A"),1)]),_:1})):q("",!0),g(M).scheduleCopyId?(p(),f(c,{key:2,color:"teal-6",class:"q-px-md q-py-xs",style:{height:"32px"}},{default:u(()=>[h(a,{name:"schedule",size:"16px",class:"q-mr-xs"}),x("span",A,y(g(M).scheduleCopyName||"N/A"),1)]),_:1})):q("",!0),!g(M).hasAllContext&&g(M).schoolId?(p(),f(c,{key:3,color:"orange",class:"q-px-md q-py-xs",style:{height:"32px"}},{default:u(()=>[h(a,{name:"warning",size:"16px",class:"q-mr-xs"}),d[2]||(d[2]=x("span",{class:"text-weight-medium"},"Incomplete settings",-1))]),_:1})):q("",!0)])]),x("div",V,[x("div",D,[g(M).schoolId?(p(),f(o,{key:0,icon:"settings",flat:"",round:"",onClick:J},{default:u(()=>[h(l,null,{default:u(()=>d[3]||(d[3]=[v("Configure Settings")])),_:1})]),_:1})):(p(),f(o,{key:1,icon:"school",color:"primary",round:"",onClick:J},{default:u(()=>[h(l,null,{default:u(()=>d[4]||(d[4]=[v("Select School")])),_:1})]),_:1}))])])])]),_:1})]),_:1}),h(j,{modelValue:F.value,"onUpdate:modelValue":d[0]||(d[0]=s=>F.value=s),"school-id":g(M).schoolId,onSaved:Y,onCancel:B},null,8,["modelValue","school-id"])],64))}},[["__scopeId","data-v-74dda485"]]);export{M as default};
