import{D as e,S as t,aI as a,d as l,aJ as o,aK as n,aL as r,g as s,G as i,az as c,aM as u,aA as d,T as v,U as p,aN as g,k as b,as as f,Q as m,a as y}from"./app-tFXAu5dG.js";import{h as S,p as w,f as _,a as P,k as h,u as C,o as q,H as x,D as k,A as R,n as F}from"./vendor-nQjeLEvd.js";import{Q as O}from"./QMarkupTable-Cof6YCqy.js";import{u as L,a as B,c as j,Q as A}from"./QSelect-CmlFFsWs.js";import{Q as M}from"./QLinearProgress-D4JaekYN.js";import{u as I,a as T,b as V}from"./use-fullscreen-COCl0uwf.js";const D=e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:o,emit:n}){const r=w(),{proxy:{$q:s}}=r,i=e=>{n("click",e)};return()=>{if(void 0===e.props)return S("th",{class:!0===e.autoWidth?"q-table--col-auto-width":"",onClick:i},t(o.default));let n,c;const u=r.vnode.key;if(u){if(n=e.props.colsMap[u],void 0===n)return}else n=e.props.col;if(!0===n.sortable){const e="right"===n.align?"unshift":"push";c=a(o.default,[]),c[e](S(l,{class:n.__iconClass,name:s.iconSet.table.arrowUp}))}else c=t(o.default);const d={class:n.__thClass+(!0===e.autoWidth?" q-table--col-auto-width":""),style:n.headerStyle,onClick:t=>{!0===n.sortable&&e.props.sort(n),i(t)}};return S("th",d,c)}}});function N(e,t){return S("div",e,[S("table",{class:"q-table"},t)])}const E={list:s,table:O},$=["list","table","__qtable"],z=e({name:"QVirtualScroll",props:{...L,type:{type:String,default:"list",validator:e=>$.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:o},setup(e,{slots:t,attrs:a}){let l;const o=_(null),s=P(()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:c,localResetVirtualScroll:u,padVirtualScroll:d,onVirtualScrollEvt:v}=B({virtualScrollLength:s,getVirtualScrollTarget:function(){return l},getVirtualScrollEl:f}),p=P(()=>{if(0===s.value)return[];const t=(e,t)=>({index:c.value.from+t,item:e});return void 0===e.itemsFn?e.items.slice(c.value.from,c.value.to).map(t):e.itemsFn(c.value.from,c.value.to-c.value.from).map(t)}),g=P(()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll")),b=P(()=>void 0!==e.scrollTarget?{}:{tabindex:0});function f(){return o.value.$el||o.value}function m(){l=n(f(),e.scrollTarget),l.addEventListener("scroll",v,r.passive)}function y(){void 0!==l&&(l.removeEventListener("scroll",v,r.passive),l=void 0)}function w(){let a=d("list"===e.type?"div":"tbody",p.value.map(t.default));return void 0!==t.before&&(a=t.before().concat(a)),i(t.after,a)}return h(s,()=>{u()}),h(()=>e.scrollTarget,()=>{y(),m()}),C(()=>{u()}),q(()=>{m()}),x(()=>{m()}),k(()=>{y()}),R(()=>{y()}),()=>{if(void 0!==t.default)return"__qtable"===e.type?N({ref:o,class:"q-table__middle "+g.value},w()):S(E[e.type],{...a,ref:o,class:[a.class,g.value],...b.value},w);console.error("QVirtualScroll: default scoped slot is required for rendering")}}});const H={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>"ad"===e||"da"===e,default:"ad"}};function Q(e,t,a,l){return{columnToSort:P(()=>{const{sortBy:e}=t.value;return e&&a.value.find(t=>t.name===e)||null}),computedSortMethod:P(()=>void 0!==e.sortMethod?e.sortMethod:(e,t,l)=>{const o=a.value.find(e=>e.name===t);if(void 0===o||void 0===o.field)return e;const n=!0===l?-1:1,r="function"==typeof o.field?e=>o.field(e):e=>e[o.field];return e.sort((e,t)=>{let a=r(e),l=r(t);return void 0!==o.rawSort?o.rawSort(a,l,e,t)*n:null==a?-1*n:null==l?1*n:void 0!==o.sort?o.sort(a,l,e,t)*n:!0===c(a)&&!0===c(l)?(a-l)*n:!0===u(a)&&!0===u(l)?function(e,t){return new Date(e)-new Date(t)}(a,l)*n:"boolean"==typeof a&&"boolean"==typeof l?(a-l)*n:([a,l]=[a,l].map(e=>(e+"").toLocaleString().toLowerCase()),a<l?-1*n:a===l?0:n)})}),sort:function(o){let n=e.columnSortOrder;if(!0===d(o))o.sortOrder&&(n=o.sortOrder),o=o.name;else{const e=a.value.find(e=>e.name===o);(null==e?void 0:e.sortOrder)&&(n=e.sortOrder)}let{sortBy:r,descending:s}=t.value;r!==o?(r=o,s="da"===n):!0===e.binaryStateSort?s=!s:!0===s?"ad"===n?r=null:s=!1:"ad"===n?s=!0:r=null,l({sortBy:r,descending:s,page:1})}}}const U={filter:[String,Object],filterMethod:Function};function K(e){return e.page<1&&(e.page=1),void 0!==e.rowsPerPage&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const W={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};const G={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}};function J(e){return Array.isArray(e)?e.slice():[]}const X={expanded:Array};const Y={visibleColumns:Array};const Z="q-table__bottom row items-center",ee={};j.forEach(e=>{ee[e]={}});const te=e({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...ee,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...v,...T,...Y,...U,...W,...X,...G,...H},emits:["request","virtualScroll",...I,"update:expanded","update:selected","selection"],setup(e,{slots:t,emit:a}){const o=w(),{proxy:{$q:n}}=o,r=p(e,n),{inFullscreen:s,toggleFullscreen:i}=V(),u=P(()=>"function"==typeof e.rowKey?e.rowKey:t=>t[e.rowKey]),d=_(null),v=_(null),C=P(()=>!0!==e.grid&&!0===e.virtualScroll),q=P(()=>" q-table__card"+(!0===r.value?" q-table__card--dark q-dark":"")+(!0===e.square?" q-table--square":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")),x=P(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(!0===e.grid?" q-table--grid":q.value)+(!0===r.value?" q-table--dark":"")+(!0===e.dense?" q-table--dense":"")+(!1===e.wrapCells?" q-table--no-wrap":"")+(!0===s.value?" fullscreen scroll":"")),k=P(()=>x.value+(!0===e.loading?" q-table--loading":""));h(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+x.value,()=>{var e;!0===C.value&&(null==(e=v.value)||e.reset())});const{innerPagination:R,computedPagination:O,isServerSide:L,requestServerInteraction:B,setPagination:I}=function(e,t){const{props:a,emit:l}=e,o=_(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:0!==a.rowsPerPageOptions.length?a.rowsPerPageOptions[0]:5},a.pagination)),n=P(()=>K(void 0!==a["onUpdate:pagination"]?{...o.value,...a.pagination}:o.value)),r=P(()=>void 0!==n.value.rowsNumber);function s(e){i({pagination:e,filter:a.filter})}function i(e={}){F(()=>{l("request",{pagination:e.pagination||n.value,filter:e.filter||a.filter,getCellValue:t})})}return{innerPagination:o,computedPagination:n,isServerSide:r,requestServerInteraction:i,setPagination:function(e,t){const i=K({...n.value,...e});!0!==function(e,t){for(const a in t)if(t[a]!==e[a])return!1;return!0}(n.value,i)?!0!==r.value?void 0!==a.pagination&&void 0!==a["onUpdate:pagination"]?l("update:pagination",i):o.value=i:s(i):!0===r.value&&!0===t&&s(i)}}}(o,Ae),{computedFilterMethod:T}=function(e,t){const a=P(()=>void 0!==e.filterMethod?e.filterMethod:(e,t,a,l)=>{const o=t?t.toLowerCase():"";return e.filter(e=>a.some(t=>{const a=l(t,e)+"";return-1!==("undefined"===a||"null"===a?"":a.toLowerCase()).indexOf(o)}))});return h(()=>e.filter,()=>{F(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}(e,I),{isRowExpanded:E,setExpanded:$,updateExpanded:H}=function(e,t){const a=_(J(e.expanded));function l(l){void 0!==e.expanded?t("update:expanded",l):a.value=l}return h(()=>e.expanded,e=>{a.value=J(e)}),{isRowExpanded:function(e){return a.value.includes(e)},setExpanded:l,updateExpanded:function(e,t){const o=a.value.slice(),n=o.indexOf(e);!0===t?-1===n&&(o.push(e),l(o)):-1!==n&&(o.splice(n,1),l(o))}}}(e,a),U=P(()=>{let t=e.rows;if(!0===L.value||0===t.length)return t;const{sortBy:a,descending:l}=O.value;return e.filter&&(t=T.value(t,e.filter,ie.value,Ae)),null!==de.value&&(t=ve.value(e.rows===t?t.slice():t,a,l)),t}),W=P(()=>U.value.length),G=P(()=>{let t=U.value;if(!0===L.value)return t;const{rowsPerPage:a}=O.value;return 0!==a&&(0===ge.value&&e.rows!==t?t.length>be.value&&(t=t.slice(0,be.value)):t=t.slice(ge.value,be.value)),t}),{hasSelectionMode:X,singleSelection:Y,multipleSelection:ee,allRowsSelected:te,someRowsSelected:ae,rowsSelectedNumber:le,isRowSelected:oe,clearSelection:ne,updateSelection:re}=function(e,t,a,l){const o=P(()=>{const t={};return e.selected.map(l.value).forEach(e=>{t[e]=!0}),t}),n=P(()=>"none"!==e.selection),r=P(()=>"single"===e.selection),s=P(()=>"multiple"===e.selection),i=P(()=>0!==a.value.length&&a.value.every(e=>!0===o.value[l.value(e)])),c=P(()=>!0!==i.value&&a.value.some(e=>!0===o.value[l.value(e)])),u=P(()=>e.selected.length);return{hasSelectionMode:n,singleSelection:r,multipleSelection:s,allRowsSelected:i,someRowsSelected:c,rowsSelectedNumber:u,isRowSelected:function(e){return!0===o.value[e]},clearSelection:function(){t("update:selected",[])},updateSelection:function(a,o,n,s){t("selection",{rows:o,added:n,keys:a,evt:s});const i=!0===r.value?!0===n?o:[]:!0===n?e.selected.concat(o):e.selected.filter(e=>!1===a.includes(l.value(e)));t("update:selected",i)}}}(e,a,G,u),{colList:se,computedCols:ie,computedColsMap:ce,computedColspan:ue}=function(e,t,a){const l=P(()=>{if(void 0!==e.columns)return e.columns;const t=e.rows[0];return void 0!==t?Object.keys(t).map(e=>({name:e,label:e.toUpperCase(),field:e,align:c(t[e])?"right":"left",sortable:!0})):[]}),o=P(()=>{const{sortBy:a,descending:o}=t.value;return(void 0!==e.visibleColumns?l.value.filter(t=>!0===t.required||!0===e.visibleColumns.includes(t.name)):l.value).map(e=>{const t=e.align||"right",l=`text-${t}`;return{...e,align:t,__iconClass:`q-table__sort-icon q-table__sort-icon--${t}`,__thClass:l+(void 0!==e.headerClasses?" "+e.headerClasses:"")+(!0===e.sortable?" sortable":"")+(e.name===a?" sorted "+(!0===o?"sort-desc":""):""),__tdStyle:void 0!==e.style?"function"!=typeof e.style?()=>e.style:e.style:()=>null,__tdClass:void 0!==e.classes?"function"!=typeof e.classes?()=>l+" "+e.classes:t=>l+" "+e.classes(t):()=>l}})}),n=P(()=>{const e={};return o.value.forEach(t=>{e[t.name]=t}),e}),r=P(()=>void 0!==e.tableColspan?e.tableColspan:o.value.length+(!0===a.value?1:0));return{colList:l,computedCols:o,computedColsMap:n,computedColspan:r}}(e,O,X),{columnToSort:de,computedSortMethod:ve,sort:pe}=Q(e,O,se,I),{firstRowIndex:ge,lastRowIndex:be,isFirstPage:fe,isLastPage:me,pagesNumber:ye,computedRowsPerPageOptions:Se,computedRowsNumber:we,firstPage:_e,prevPage:Pe,nextPage:he,lastPage:Ce}=function(e,t,a,l,o,n){const{props:r,emit:s,proxy:{$q:i}}=e,c=P(()=>!0===l.value?a.value.rowsNumber||0:n.value),u=P(()=>{const{page:e,rowsPerPage:t}=a.value;return(e-1)*t}),d=P(()=>{const{page:e,rowsPerPage:t}=a.value;return e*t}),v=P(()=>1===a.value.page),p=P(()=>0===a.value.rowsPerPage?1:Math.max(1,Math.ceil(c.value/a.value.rowsPerPage))),g=P(()=>0===d.value||a.value.page>=p.value),b=P(()=>(r.rowsPerPageOptions.includes(t.value.rowsPerPage)?r.rowsPerPageOptions:[t.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(e=>({label:0===e?i.lang.table.allRows:""+e,value:e})));return h(p,(e,t)=>{if(e===t)return;const l=a.value.page;e&&!l?o({page:1}):e<l&&o({page:e})}),void 0!==r["onUpdate:pagination"]&&s("update:pagination",{...a.value}),{firstRowIndex:u,lastRowIndex:d,isFirstPage:v,isLastPage:g,pagesNumber:p,computedRowsPerPageOptions:b,computedRowsNumber:c,firstPage:function(){o({page:1})},prevPage:function(){const{page:e}=a.value;e>1&&o({page:e-1})},nextPage:function(){const{page:e,rowsPerPage:t}=a.value;d.value>0&&e*t<c.value&&o({page:e+1})},lastPage:function(){o({page:p.value})}}}(o,R,O,L,I,W),qe=P(()=>0===G.value.length),xe=P(()=>{const t={};return j.forEach(a=>{t[a]=e[a]}),void 0===t.virtualScrollItemSize&&(t.virtualScrollItemSize=!0===e.dense?28:48),t});function ke(){if(!0===e.grid)return function(){const l=void 0!==t.item?t.item:l=>{const o=l.cols.map(e=>S("div",{class:"q-table__grid-item-row"},[S("div",{class:"q-table__grid-item-title"},[e.label]),S("div",{class:"q-table__grid-item-value"},[e.value])]));if(!0===X.value){const a=t["body-selection"],n=void 0!==a?a(l):[S(b,{modelValue:l.selected,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{re([l.key],[l.row],e,t)}})];o.unshift(S("div",{class:"q-table__grid-item-row"},n),S(y,{dark:r.value}))}const n={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};if(void 0!==e.cardStyleFn&&(n.style=[n.style,e.cardStyleFn(l.row)]),void 0!==e.cardClassFn){const t=e.cardClassFn(l.row);t&&(n.class[0]+=` ${t}`)}return void 0===e.onRowClick&&void 0===e.onRowDblclick&&void 0===e.onRowContextmenu||(n.class[0]+=" cursor-pointer",void 0!==e.onRowClick&&(n.onClick=e=>{a("RowClick",e,l.row,l.pageIndex)}),void 0!==e.onRowDblclick&&(n.onDblclick=e=>{a("RowDblclick",e,l.row,l.pageIndex)}),void 0!==e.onRowContextmenu&&(n.onContextmenu=e=>{a("rowContextmenu",e,l.row,l.pageIndex)})),S("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(!0===l.selected?" q-table__grid-item--selected":"")},[S("div",n,o)])};return S("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},G.value.map((e,t)=>l(Be({key:u.value(e),row:e,pageIndex:t}))))}();const l=!0!==e.hideHeader?Ve:null;if(!0===C.value){const a=t["top-row"],o=t["bottom-row"],n={default:e=>Oe(e.item,t.body,e.index)};if(void 0!==a){const e=S("tbody",a({cols:ie.value}));n.before=null===l?()=>e:()=>[l()].concat(e)}else null!==l&&(n.before=l);return void 0!==o&&(n.after=()=>S("tbody",o({cols:ie.value}))),S(z,{ref:v,class:e.tableClass,style:e.tableStyle,...xe.value,scrollTarget:e.virtualScrollTarget,items:G.value,type:"__qtable",tableColspan:ue.value,onVirtualScroll:Re},n)}const o=[Le()];return null!==l&&o.unshift(l()),N({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},o)}function Re(e){a("virtualScroll",e)}function Fe(){return[S(M,{class:"q-table__linear-progress",color:e.color,dark:r.value,indeterminate:!0,trackColor:"transparent"})]}function Oe(l,o,n){const s=u.value(l),i=oe(s);if(void 0!==o){const t={key:s,row:l,pageIndex:n,__trClass:i?"selected":""};if(void 0!==e.tableRowStyleFn&&(t.__trStyle=e.tableRowStyleFn(l)),void 0!==e.tableRowClassFn){const a=e.tableRowClassFn(l);a&&(t.__trClass=`${a} ${t.__trClass}`)}return o(Be(t))}const c=t["body-cell"],d=ie.value.map(e=>{const a=t[`body-cell-${e.name}`],o=void 0!==a?a:c;return void 0!==o?o(function(e){return je(e),f(e,"value",()=>Ae(e.col,e.row)),e}({key:s,row:l,pageIndex:n,col:e})):S("td",{class:e.__tdClass(l),style:e.__tdStyle(l)},Ae(e,l))});if(!0===X.value){const a=t["body-selection"],o=void 0!==a?a(function(e){return je(e),e}({key:s,row:l,pageIndex:n})):[S(b,{modelValue:i,color:e.color,dark:r.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{re([s],[l],e,t)}})];d.unshift(S("td",{class:"q-table--col-auto-width"},o))}const v={key:s,class:{selected:i}};if(void 0!==e.onRowClick&&(v.class["cursor-pointer"]=!0,v.onClick=e=>{a("rowClick",e,l,n)}),void 0!==e.onRowDblclick&&(v.class["cursor-pointer"]=!0,v.onDblclick=e=>{a("rowDblclick",e,l,n)}),void 0!==e.onRowContextmenu&&(v.class["cursor-pointer"]=!0,v.onContextmenu=e=>{a("rowContextmenu",e,l,n)}),void 0!==e.tableRowStyleFn&&(v.style=e.tableRowStyleFn(l)),void 0!==e.tableRowClassFn){const t=e.tableRowClassFn(l);t&&(v.class[t]=!0)}return S("tr",v,d)}function Le(){const e=t.body,a=t["top-row"],l=t["bottom-row"];let o=G.value.map((t,a)=>Oe(t,e,a));return void 0!==a&&(o=a({cols:ie.value}).concat(o)),void 0!==l&&(o=o.concat(l({cols:ie.value}))),S("tbody",o)}function Be(e){return je(e),e.cols=e.cols.map(t=>f({...t},"value",()=>Ae(t,e.row))),e}function je(t){Object.assign(t,{cols:ie.value,colsMap:ce.value,sort:pe,rowIndex:ge.value+t.pageIndex,color:e.color,dark:r.value,dense:e.dense}),!0===X.value&&f(t,"selected",()=>oe(t.key),(e,a)=>{re([t.key],[t.row],e,a)}),f(t,"expand",()=>E(t.key),e=>{H(t.key,e)})}function Ae(e,t){const a="function"==typeof e.field?e.field(t):t[e.field];return void 0!==e.format?e.format(a,t):a}const Me=P(()=>({pagination:O.value,pagesNumber:ye.value,isFirstPage:fe.value,isLastPage:me.value,firstPage:_e,prevPage:Pe,nextPage:he,lastPage:Ce,inFullscreen:s.value,toggleFullscreen:i}));function Ie(){const a=t.top,l=t["top-left"],o=t["top-right"],n=t["top-selection"],r=!0===X.value&&void 0!==n&&le.value>0,s="q-table__top relative-position row items-center";if(void 0!==a)return S("div",{class:s},[a(Me.value)]);let i;return!0===r?i=n(Me.value).slice():(i=[],void 0!==l?i.push(S("div",{class:"q-table__control"},[l(Me.value)])):e.title&&i.push(S("div",{class:"q-table__control"},[S("div",{class:["q-table__title",e.titleClass]},e.title)]))),void 0!==o&&(i.push(S("div",{class:"q-table__separator col"})),i.push(S("div",{class:"q-table__control"},[o(Me.value)]))),0!==i.length?S("div",{class:s},i):void 0}const Te=P(()=>!0===ae.value?null:te.value);function Ve(){const a=function(){const a=t.header,l=t["header-cell"];if(void 0!==a)return a(De({header:!0})).slice();const o=ie.value.map(e=>{const a=t[`header-cell-${e.name}`],o=void 0!==a?a:l,n=De({col:e});return void 0!==o?o(n):S(D,{key:e.name,props:n},()=>e.label)});if(!0===Y.value&&!0!==e.grid)o.unshift(S("th",{class:"q-table--col-auto-width"}," "));else if(!0===ee.value){const a=t["header-selection"],l=void 0!==a?a(De({})):[S(b,{color:e.color,modelValue:Te.value,dark:r.value,dense:e.dense,"onUpdate:modelValue":Ne})];o.unshift(S("th",{class:"q-table--col-auto-width"},l))}return[S("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},o)]}();return!0===e.loading&&void 0===t.loading&&a.push(S("tr",{class:"q-table__progress"},[S("th",{class:"relative-position",colspan:ue.value},Fe())])),S("thead",a)}function De(t){return Object.assign(t,{cols:ie.value,sort:pe,colsMap:ce.value,color:e.color,dark:r.value,dense:e.dense}),!0===ee.value&&f(t,"selected",()=>Te.value,Ne),t}function Ne(e){!0===ae.value&&(e=!1),re(G.value.map(u.value),G.value,e)}const Ee=P(()=>{const t=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return!0===n.lang.rtl?t.reverse():t});function $e(){if(!0===e.hideBottom)return;if(!0===qe.value){if(!0===e.hideNoData)return;const a=!0===e.loading?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,o=t["no-data"],r=void 0!==o?[o({message:a,icon:n.iconSet.table.warning,filter:e.filter})]:[S(l,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),a];return S("div",{class:Z+" q-table__bottom--nodata"},r)}const a=t.bottom;if(void 0!==a)return S("div",{class:Z},[a(Me.value)]);const o=!0!==e.hideSelectedBanner&&!0===X.value&&le.value>0?[S("div",{class:"q-table__control"},[S("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(le.value)])])]:[];return!0!==e.hidePagination?S("div",{class:Z+" justify-end"},function(a){let l;const{rowsPerPage:o}=O.value,s=e.paginationLabel||n.lang.table.pagination,i=t.pagination,c=e.rowsPerPageOptions.length>1;if(a.push(S("div",{class:"q-table__separator col"})),!0===c&&a.push(S("div",{class:"q-table__control"},[S("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),S(A,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:o,options:Se.value,displayValue:0===o?n.lang.table.allRows:o,dark:r.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ze})])),void 0!==i)l=i(Me.value);else if(l=[S("span",0!==o?{class:"q-table__bottom-item"}:{},[o?s(ge.value+1,Math.min(be.value,we.value),we.value):s(1,W.value,we.value)])],0!==o&&ye.value>1){const t={color:e.color,round:!0,dense:!0,flat:!0};!0===e.dense&&(t.size="sm"),ye.value>2&&l.push(S(m,{key:"pgFirst",...t,icon:Ee.value[0],disable:fe.value,ariaLabel:n.lang.pagination.first,onClick:_e})),l.push(S(m,{key:"pgPrev",...t,icon:Ee.value[1],disable:fe.value,ariaLabel:n.lang.pagination.prev,onClick:Pe}),S(m,{key:"pgNext",...t,icon:Ee.value[2],disable:me.value,ariaLabel:n.lang.pagination.next,onClick:he})),ye.value>2&&l.push(S(m,{key:"pgLast",...t,icon:Ee.value[3],disable:me.value,ariaLabel:n.lang.pagination.last,onClick:Ce}))}return a.push(S("div",{class:"q-table__control"},l)),a}(o)):0!==o.length?S("div",{class:Z},o):void 0}function ze(e){I({page:1,rowsPerPage:e.value})}return Object.assign(o.proxy,{requestServerInteraction:B,setPagination:I,firstPage:_e,prevPage:Pe,nextPage:he,lastPage:Ce,isRowSelected:oe,clearSelection:ne,isRowExpanded:E,setExpanded:$,sort:pe,resetVirtualScroll:function(){!0===C.value&&v.value.reset()},scrollTo:function(t,l){if(null!==v.value)return void v.value.scrollTo(t,l);t=parseInt(t,10);const o=d.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(null!==o){const l=d.value.querySelector(".q-table__middle.scroll"),n=o.offsetTop-e.virtualScrollStickySizeStart,r=n<l.scrollTop?"decrease":"increase";l.scrollTop=n,a("virtualScroll",{index:t,from:0,to:R.value.rowsPerPage-1,direction:r})}},getCellValue:Ae}),g(o.proxy,{filteredSortedRows:()=>U.value,computedRows:()=>G.value,computedRowsNumber:()=>we.value}),()=>{const a=[Ie()],l={ref:d,class:k.value};return!0===e.grid?a.push(function(){const a=!0===e.gridHeader?[S("table",{class:"q-table"},[Ve()])]:!0===e.loading&&void 0===t.loading?Fe():void 0;return S("div",{class:"q-table__middle"},a)}()):Object.assign(l,{class:[l.class,e.cardClass],style:e.cardStyle}),a.push(ke(),$e()),!0===e.loading&&void 0!==t.loading&&a.push(t.loading()),S("div",l,a)}}});export{te as Q,D as a};
