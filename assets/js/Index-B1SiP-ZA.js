import{f as e,a,ae as s,L as r,I as t,b as l,M as d,F as i,Q as o,O as n,U as c,x as u,ab as g,_ as x}from"./vendor-CUZ9QTQV.js";const y={class:"py-12"},m={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},v={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},k={class:"p-6"},f={class:"flex flex-col md:flex-row gap-6"},p={class:"w-full md:w-1/3"},b={key:0,class:"text-gray-500 dark:text-gray-400"},h={key:1,class:"space-y-3"},w=["onClick"],_={class:"flex items-center"},C={class:"flex-shrink-0"},U=["src"],L={class:"ml-4 flex-1"},N={class:"flex items-center justify-between"},j={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},A={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"},I={key:0,class:"text-sm text-gray-500 dark:text-gray-400 truncate"},P={key:1,class:"text-sm text-gray-400 dark:text-gray-500 italic"},F={class:"w-full md:w-2/3 mt-6 md:mt-0"},H={class:"flex justify-between items-center mb-4"},M={class:"relative"},O={key:0,class:"text-center py-8"},Q={key:0,class:"text-gray-500 dark:text-gray-400"},R={key:1,class:"text-gray-500 dark:text-gray-400"},S={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},V=["onClick"],q={class:"flex items-center"},z={class:"flex-shrink-0"},B=["src"],D={class:"ml-4"},E={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},G={class:"text-sm text-gray-500 dark:text-gray-400"},J={__name:"Index",props:{users:Array,conversations:Array},setup(J){const K=J,T=e(""),W=a(()=>{if(!T.value)return K.users;const e=T.value.toLowerCase();return K.users.filter(a=>a.name.toLowerCase().includes(e)||a.email.toLowerCase().includes(e))}),X=e=>{x.visit(route("private-chat.chat",e))};return(e,a)=>{const x=s("Head");return t(),r(i,null,[l(x,{title:"Private Chat"}),a[3]||(a[3]=d("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Private Chat ",-1)),d("div",y,[d("div",m,[d("div",v,[d("div",k,[d("div",f,[d("div",p,[a[1]||(a[1]=d("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Recent Conversations ",-1)),0===J.conversations.length?(t(),r("div",b," No recent conversations ")):(t(),r("div",h,[(t(!0),r(i,null,o(J.conversations,e=>(t(),r("div",{key:e.id,class:"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition",onClick:a=>X(e.user.id)},[d("div",_,[d("div",C,[d("img",{src:e.user.profile_photo_url,alt:"User avatar",class:"h-10 w-10 rounded-full"},null,8,U)]),d("div",L,[d("div",N,[d("h4",j,c(e.user.name),1),e.unread_count>0?(t(),r("span",A,c(e.unread_count),1)):n("",!0)]),e.latest_message?(t(),r("p",I,c(e.latest_message.body),1)):(t(),r("p",P," No messages yet "))])])],8,w))),128))]))]),d("div",F,[d("div",H,[a[2]||(a[2]=d("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," All Users ",-1)),d("div",M,[u(d("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>T.value=e),type:"text",placeholder:"Search users...",class:"rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm"},null,512),[[g,T.value]])])]),0===W.value.length?(t(),r("div",O,[T.value?(t(),r("p",Q,' No users found matching "'+c(T.value)+'" ',1)):(t(),r("p",R," No users available "))])):(t(),r("div",S,[(t(!0),r(i,null,o(W.value,e=>(t(),r("div",{key:e.id,class:"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition",onClick:a=>X(e.id)},[d("div",q,[d("div",z,[d("img",{src:e.profile_photo_url,alt:"User avatar",class:"h-10 w-10 rounded-full"},null,8,B)]),d("div",D,[d("h4",E,c(e.name),1),d("p",G,c(e.email),1)])])],8,V))),128))]))])])])])])])],64)}}};export{J as default};
