import{Q as e}from"./QSpinnerDots-D98lP8We.js";import{o as s,d as t,c as l,A as o,Q as a,aj as r,g as i,aP as c,i as n,h as d,C as u,l as m,m as y,b as g}from"./app-C-WHvmzS.js";import{Q as p}from"./QSpace-B9GNNHOj.js";import h from"./UserDetailsDialog-CQvse7-y.js";import{f as _,N as v,J as x,b as f,O as k,V as b,F as w,R as q,K as j,y as z,I as C,W as Q,Q as S}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const V={class:"users-list"},D={key:0,class:"text-center q-py-xl"},N={key:1,class:"text-center q-py-xl"},R={class:"text-h6 text-grey-7 q-mt-md"},U={key:2,class:"q-pa-md"},A={class:"row q-gutter-md"},F={class:"row items-center"},I={class:"col-auto q-mr-md"},L={class:"col"},M={class:"text-h6 text-weight-bold"},$={class:"text-caption text-grey-7"},B={class:"text-caption text-primary"},J={class:"col-auto"},K={key:0,class:"teacher-info"},O={key:0,class:"q-mb-sm"},P={class:"q-gutter-xs"},T={key:1,class:"q-mb-sm"},W={class:"q-gutter-xs"},E={key:1,class:"student-info"},G={class:"row q-gutter-sm"},H={key:0,class:"col-12"},X={key:1,class:"col-auto"},Y={key:2,class:"col-auto"},Z={key:2,class:"parent-info"},ee={key:0,class:"q-mb-sm"},se={key:1,class:"q-mb-sm"},te={class:"q-gutter-xs"},le={class:"roles-section q-mt-sm"},oe={key:0,class:"q-gutter-xs"},ae={key:1,class:"text-caption text-grey-6"},re=s({__name:"UsersList",props:{users:{type:Array,default:()=>[]},type:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["manage-roles"],setup(s,{emit:re}){const ie=_(!1),ce=_(null),ne=e=>({teacher:"school",student:"person",parent:"family_restroom",other:"people_outline"}[e]||"person"),de=e=>{ce.value=e,ie.value=!0},ue=()=>{ie.value=!1,ce.value=null};return(_,re)=>(x(),v("div",V,[s.loading?(x(),v("div",D,[f(e,{size:"3rem",color:"primary"}),re[1]||(re[1]=k("div",{class:"text-subtitle1 q-mt-md"},"Loading users...",-1))])):s.users&&0!==s.users.length?(x(),v("div",U,[k("div",A,[(x(!0),v(w,null,q(s.users,e=>(x(),v("div",{key:e.id,class:"col-12 col-sm-6 col-lg-4"},[f(y,{class:"user-card"},{default:j(()=>[f(l,{class:"user-header"},{default:j(()=>{return[k("div",F,[k("div",I,[f(o,{color:(l=s.type,{teacher:"green",student:"blue",parent:"orange",other:"grey"}[l]||"grey"),"text-color":"white",icon:ne(s.type),size:"48px"},null,8,["color","icon"])]),k("div",L,[k("div",M,b(e.name),1),k("div",$,b(e.email),1),k("div",B,b(e.school_name||"No School"),1)]),k("div",J,[f(a,{round:"",flat:"",icon:"more_vert",size:"sm"},{default:j(()=>[f(r,null,{default:j(()=>[f(i,{style:{"min-width":"150px"}},{default:j(()=>[z((x(),C(d,{clickable:"",onClick:s=>_.$emit("manage-roles",e)},{default:j(()=>[f(n,{avatar:""},{default:j(()=>[f(t,{name:"admin_panel_settings"})]),_:1}),f(n,null,{default:j(()=>re[3]||(re[3]=[Q("Manage Roles")])),_:1})]),_:2},1032,["onClick"])),[[c]]),z((x(),C(d,{clickable:"",onClick:s=>de(e)},{default:j(()=>[f(n,{avatar:""},{default:j(()=>[f(t,{name:"visibility"})]),_:1}),f(n,null,{default:j(()=>re[4]||(re[4]=[Q("View Details")])),_:1})]),_:2},1032,["onClick"])),[[c]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])])];var l}),_:2},1024),f(l,{class:"user-content"},{default:j(()=>["teacher"===s.type?(x(),v("div",K,[e.subjects&&e.subjects.length?(x(),v("div",O,[re[5]||(re[5]=k("div",{class:"text-caption text-weight-bold text-grey-8"},"Subjects:",-1)),k("div",P,[(x(!0),v(w,null,q(e.subjects.slice(0,3),e=>(x(),C(u,{key:e,size:"sm",color:"green","text-color":"white"},{default:j(()=>[Q(b(e),1)]),_:2},1024))),128)),e.subjects.length>3?(x(),C(u,{key:0,size:"sm",color:"grey","text-color":"white"},{default:j(()=>[Q(" +"+b(e.subjects.length-3)+" more ",1)]),_:2},1024)):S("",!0)])])):S("",!0),e.classrooms&&e.classrooms.length?(x(),v("div",T,[re[6]||(re[6]=k("div",{class:"text-caption text-weight-bold text-grey-8"},"Classrooms:",-1)),k("div",W,[(x(!0),v(w,null,q(e.classrooms.slice(0,2),e=>(x(),C(u,{key:e,size:"sm",color:"blue","text-color":"white"},{default:j(()=>[Q(b(e),1)]),_:2},1024))),128)),e.classrooms.length>2?(x(),C(u,{key:0,size:"sm",color:"grey","text-color":"white"},{default:j(()=>[Q(" +"+b(e.classrooms.length-2)+" more ",1)]),_:2},1024)):S("",!0)])])):S("",!0)])):S("",!0),"student"===s.type?(x(),v("div",E,[k("div",G,[e.classroom_name?(x(),v("div",H,[f(u,{color:"blue","text-color":"white",icon:"class"},{default:j(()=>[Q(b(e.classroom_name),1)]),_:2},1024)])):S("",!0),e.grade_name?(x(),v("div",X,[f(u,{color:"purple","text-color":"white",icon:"grade",size:"sm"},{default:j(()=>[Q(b(e.grade_name),1)]),_:2},1024)])):S("",!0),e.stage_name?(x(),v("div",Y,[f(u,{color:"orange","text-color":"white",icon:"school",size:"sm"},{default:j(()=>[Q(b(e.stage_name),1)]),_:2},1024)])):S("",!0)])])):S("",!0),"parent"===s.type?(x(),v("div",Z,[e.children_count?(x(),v("div",ee,[f(u,{color:"orange","text-color":"white",icon:"child_care"},{default:j(()=>[Q(b(e.children_count)+" "+b(1===e.children_count?"Child":"Children"),1)]),_:2},1024)])):S("",!0),e.children_classrooms&&e.children_classrooms.length?(x(),v("div",se,[re[7]||(re[7]=k("div",{class:"text-caption text-weight-bold text-grey-8"},"Children's Classrooms:",-1)),k("div",te,[(x(!0),v(w,null,q(e.children_classrooms.slice(0,2),e=>(x(),C(u,{key:e,size:"sm",color:"blue","text-color":"white"},{default:j(()=>[Q(b(e),1)]),_:2},1024))),128)),e.children_classrooms.length>2?(x(),C(u,{key:0,size:"sm",color:"grey","text-color":"white"},{default:j(()=>[Q(" +"+b(e.children_classrooms.length-2)+" more ",1)]),_:2},1024)):S("",!0)])])):S("",!0)])):S("",!0),k("div",le,[re[8]||(re[8]=k("div",{class:"text-caption text-weight-bold text-grey-8 q-mb-xs"},"Current Roles:",-1)),e.roles&&e.roles.length?(x(),v("div",oe,[(x(!0),v(w,null,q(e.roles,e=>(x(),C(u,{key:e.id,size:"sm",color:"indigo","text-color":"white",icon:"security"},{default:j(()=>[Q(b(e.name),1)]),_:2},1024))),128))])):(x(),v("div",ae," No roles assigned "))])]),_:2},1024),f(m,{class:"user-actions"},{default:j(()=>[f(a,{color:"primary",icon:"admin_panel_settings",label:"Manage Roles",onClick:s=>_.$emit("manage-roles",e),size:"sm",outline:""},null,8,["onClick"]),f(p),f(a,{color:"grey-7",icon:"visibility",onClick:s=>de(e),size:"sm",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])])):(x(),v("div",N,[f(t,{name:"people_outline",size:"4rem",color:"grey-5"}),k("div",R,"No "+b(s.type)+"s found",1),re[2]||(re[2]=k("div",{class:"text-body2 text-grey-6 q-mt-sm"}," Try adjusting your search criteria or filters ",-1))])),f(g,{modelValue:ie.value,"onUpdate:modelValue":re[0]||(re[0]=e=>ie.value=e),maximized:""},{default:j(()=>[f(h,{user:ce.value,type:s.type,onClose:ue},null,8,["user","type"])]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-62b226f9"]]);export{re as default};
