import{r as e,u as t,s as o,G as a,Q as n,b as i,ao as r,i as s,aS as c,j as d,k as l,f as u,d as m}from"./app-CmR0nRZC.js";import{Q as p}from"./QBadge-BkyG8a2n.js";import{I as f,J as g,K as y,b,R as v,V as _,W as h,N as w,O as k,y as x}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const q={class:"col-auto q-mr-md"},z={class:"col"},C={class:"row items-center q-mb-xs"},D={class:"text-h6 text-weight-bold q-mr-md"},j={class:"text-body2 text-grey-7 q-mb-sm"},L={class:"row items-center text-caption text-grey-6"},M={key:0,class:"q-mr-md"},B={key:1,class:"q-mr-md"},E={key:2},A={class:"col-auto"},I={class:"row q-gutter-sm"},N={class:"status-indicators"},O=e({__name:"DocumentationListItem",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:O}){const Q=t(),S=e,G=()=>{var e;if("file"===S.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=S.document.type)?void 0:e.toLowerCase()]||"description"},K=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=S.document.category)?void 0:e.toLowerCase()]||"description"},V=()=>{var e;return{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(e=S.document.category)?void 0:e.toLowerCase()]||"primary"},$=()=>{if(S.document.excerpt)return S.document.excerpt;if(S.document.content){if("string"==typeof S.document.content)return S.document.content.substring(0,200)+"...";if(Array.isArray(S.document.content)){return S.document.content.map(e=>e.content||"").join(" ").substring(0,200)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},R=()=>{if(S.document.created_at){const e=new Date(S.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},W=()=>{Q.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},F=()=>{Q.notify({type:"info",message:"Export functionality coming soon",position:"top"})},H=()=>{Q.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,O)=>(g(),f(m,{class:"documentation-list-item"},{default:y(()=>[b(u,{class:"row items-center q-pa-md"},{default:y(()=>{return[v("div",q,[b(o,{color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(u=S.document.type)?void 0:u.toLowerCase()]||"primary","text-color":"white",icon:G(),size:"48px"},null,8,["color","icon"])]),v("div",z,[v("div",C,[v("div",D,_(e.document.title),1),b(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:y(()=>[h(_(e.document.source),1)]),_:1},8,["color","icon"]),b(a,{color:V(),"text-color":"white",size:"sm",icon:K(),class:"q-ml-xs"},{default:y(()=>[h(_(e.document.category),1)]),_:1},8,["color","icon"])]),v("div",j,_($()),1),v("div",L,[e.document.author?(g(),w("div",M,[b(n,{name:"person",size:"xs",class:"q-mr-xs"}),h(" "+_(e.document.author.name),1)])):k("",!0),e.document.created_at||e.document.modified?(g(),w("div",B,[b(n,{name:"schedule",size:"xs",class:"q-mr-xs"}),h(" "+_(S.document.created_at?new Date(S.document.created_at).toLocaleDateString():S.document.modified?new Date(1e3*S.document.modified).toLocaleDateString():""),1)])):k("",!0),e.document.size?(g(),w("div",E,[b(n,{name:"description",size:"xs",class:"q-mr-xs"}),h(" "+_(J(e.document.size)),1)])):k("",!0)])]),v("div",A,[v("div",I,[b(i,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:O[0]||(O[0]=o=>t.$emit("view",e.document)),size:"sm"}),"database"===e.document.source?(g(),f(i,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:O[1]||(O[1]=o=>t.$emit("edit",e.document)),size:"sm"})):k("",!0),b(i,{flat:"",round:"",color:"grey-6",icon:"more_vert",size:"sm"},{default:y(()=>[b(r,null,{default:y(()=>[b(s,{style:{"min-width":"100px"}},{default:y(()=>[x((g(),f(d,{clickable:"",onClick:W},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"link"})]),_:1}),b(l,null,{default:y(()=>O[2]||(O[2]=[h("Copy Link")])),_:1})]),_:1})),[[c]]),x((g(),f(d,{clickable:"",onClick:F},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"download"})]),_:1}),b(l,null,{default:y(()=>O[3]||(O[3]=[h("Export")])),_:1})]),_:1})),[[c]]),"file"===e.document.source?x((g(),f(d,{key:0,clickable:"",onClick:H},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"code"})]),_:1}),b(l,null,{default:y(()=>O[4]||(O[4]=[h("Open in Editor")])),_:1})]),_:1})),[[c]]):k("",!0)]),_:1})]),_:1})]),_:1})])]),v("div",N,["draft"===e.document.status?(g(),f(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:y(()=>O[5]||(O[5]=[h(" Draft ")])),_:1})):k("",!0),"archived"===e.document.status?(g(),f(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:y(()=>O[6]||(O[6]=[h(" Archived ")])),_:1})):k("",!0),R()?(g(),f(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:y(()=>O[7]||(O[7]=[h(" New ")])),_:1})):k("",!0)])];var u}),_:1})]),_:1}))}},[["__scopeId","data-v-26b5a0c1"]]);export{O as default};
