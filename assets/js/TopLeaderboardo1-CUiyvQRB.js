import{o as t,c as e,m as a,A as l}from"./app-ggGwxJON.js";import{a as s,N as r,Q as o,J as n,b as i,K as d,O as c,F as u,R as f,U as p,V as x}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const m={key:0,class:"text-center py-16"},v={key:1,class:"flex flex-col md:flex-row justify-center items-end gap-4 md:gap-8 min-h-[500px]"},h={class:"text-center mb-4 relative"},w={key:0,class:"text-8xl animate-bounce-slow drop-shadow-2xl filter brightness-125"},g={key:1,class:"text-7xl drop-shadow-xl opacity-90"},b={class:"p-6 text-center text-white relative z-10 flex flex-col justify-between flex-1"},y={class:"text-3xl font-black italic tracking-wider mb-1 drop-shadow-md"},k={class:"flex-1 overflow-y-auto custom-scrollbar max-h-40 space-y-2 mt-4"},_=["src"],j={class:"text-left overflow-hidden min-w-0 flex-1"},z={class:"font-bold text-sm truncate text-white"},A={class:"text-xs opacity-80 text-yellow-200"},T=t({__name:"TopLeaderboardo1",props:{students:{type:Array,default:()=>[]},studentBehaviors:{type:Object,default:()=>({})}},setup(t){const T=t,$=s(()=>{var t;if(!(null==(t=T.students)?void 0:t.length))return[];const e=T.students.map(t=>{const e=T.studentBehaviors[t.id]||{},a=(e.points_plus||0)-(e.points_minus||0);return{...t,total:a}}).filter(t=>t.total>0).sort((t,e)=>e.total-t.total);if(0===e.length)return[];const a=[];let l={rank:1,total:e[0].total,students:[e[0]]};for(let s=1;s<e.length;s++)e[s].total===l.total?l.students.push(e[s]):(a.push(l),l={rank:a.length+1,total:e[s].total,students:[e[s]]});return a.push(l),a.slice(0,3)}),B=s(()=>{const t=$.value,e=t.find(t=>1===t.rank);return[t.find(t=>2===t.rank),e,t.find(t=>3===t.rank)].filter(Boolean)});function R(t){switch(t){case 1:return"bg-gradient-to-b from-yellow-400 via-yellow-500 to-yellow-700 border-yellow-300 shadow-yellow-500/50";case 2:return"bg-gradient-to-b from-gray-300 via-gray-400 to-gray-600 border-gray-200 shadow-gray-500/50";case 3:return"bg-gradient-to-b from-orange-400 via-orange-500 to-orange-700 border-orange-300 shadow-orange-500/50";default:return""}}function C(t){const e=["TH","ST","ND","RD"],a=t%100;return t+(e[(a-20)%10]||e[a]||e[0])}function I(t){const e=(t||"S").split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase();return`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><rect width="40" height="40" fill="#e2e8f0"/><text x="20" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#64748b">${e}</text></svg>`)}`}return(s,T)=>t.students.length?(n(),r("div",{key:`leaderboard-${t.students.length}`,class:"mb-6"},[i(a,{class:"shadow-2xl rounded-3xl overflow-hidden bg-gray-900 border-4 border-yellow-500 relative"},{default:d(()=>[T[4]||(T[4]=c("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[c("div",{class:"stars-layer layer-1"}),c("div",{class:"stars-layer layer-2"}),c("div",{class:"stars-layer layer-3"})],-1)),i(e,{class:"relative z-10 text-center py-8 bg-gradient-to-b from-transparent to-black/50"},{default:d(()=>T[0]||(T[0]=[c("h1",{class:"text-5xl md:text-7xl font-black tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-100 to-yellow-500 drop-shadow-lg animate-shine"}," ðŸ† CHAMPIONS ðŸ† ",-1),c("p",{class:"text-xl text-yellow-200 mt-2 font-bold tracking-widest uppercase opacity-80"},"Top 3 Ranks",-1)])),_:1}),i(e,{class:"p-4 md:p-8 relative z-10"},{default:d(()=>[0===$.value.length?(n(),r("div",m,T[1]||(T[1]=[c("p",{class:"text-3xl text-yellow-400 font-bold animate-pulse"}," The arena is empty... Who will rise? âš”ï¸ ",-1)]))):(n(),r("div",v,[(n(!0),r(u,null,f(B.value,(t,e)=>{return n(),r(u,{key:`podium-${t.rank}-${t.total}`},[t?(n(),r("div",{key:0,class:p(["w-full md:w-1/3 flex flex-col transition-all duration-700 podium-card",{"mb-40 z-20":1===t.rank,"order-1 z-10":2===t.rank,"order-3 z-10":3===t.rank}])},[c("div",h,[1===t.rank?(n(),r("div",w,"ðŸ‘‘")):(n(),r("div",g,x((a=t.rank,1===a?"ðŸ¥‡":2===a?"ðŸ¥ˆ":3===a?"ðŸ¥‰":"")),1))]),c("div",{class:p(["relative rounded-2xl overflow-hidden border-4 shadow-2xl backdrop-blur-md flex-1 flex flex-col",R(t.rank)])},[T[3]||(T[3]=c("div",{class:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/20 to-white/0 w-[200%] h-full animate-shine-move pointer-events-none"},null,-1)),c("div",b,[c("div",null,[c("h2",y,x(C(t.rank)),1),T[2]||(T[2]=c("div",{class:"h-1 w-16 mx-auto bg-white/50 rounded-full mb-4"},null,-1))]),c("div",k,[(n(!0),r(u,null,f(t.students,t=>(n(),r("div",{key:t.id,class:"flex items-center gap-3 bg-white/10 rounded-lg p-2 backdrop-blur-sm hover:bg-white/20 transition-all"},[i(l,{size:"32px",class:"shadow-sm border border-white/30"},{default:d(()=>[c("img",{src:t.avatar||I(t.name),alt:"Avatar"},null,8,_)]),_:2},1024),c("div",j,[c("div",z,x(t.name),1),c("div",A,x(t.total)+" pts",1)])]))),128))])])],2)],2)):o("",!0)],64);var a}),128))]))]),_:1})]),_:1})])):o("",!0)}},[["__scopeId","data-v-2102bd58"]]);export{T as default};
