import{d as e,f as s,a,L as i,I as t,M as l,O as n,F as o,Q as r,V as c,U as d,S as u}from"./vendor-EI0FRBVb.js";import{p}from"./app-Dccx8xF5.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const v={class:"multi-select-question"},b=["aria-label"],h=["onClick"],k={class:"checkbox-container"},f=["id","checked","disabled","aria-label","aria-checked","aria-describedby","onChange"],w=["for"],x={class:"option-text"},m=["id"],y={key:0,class:"correct-icon","aria-label":"Correct answer selected"},C={key:1,class:"missed-icon","aria-label":"Correct answer not selected"},q={key:2,class:"incorrect-icon","aria-label":"Incorrect answer selected"},g={key:1,class:"rationale"},$={class:"rationale-text"},A=["disabled","aria-label"],O={key:0,class:"selected-count","aria-hidden":"true"},S={key:1,class:"feedback-section",role:"alert","aria-live":"polite"},j={class:"score-icon"},F={class:"score-text"},I={class:"score-detail"},Q={key:0,class:"explanation-panel"},_={class:"explanation-text"},B=p(e({__name:"MultiSelectQuestion",props:{question:{},selectedIndex:{},isAnswered:{type:Boolean},showFeedback:{type:Boolean}},emits:["select"],setup(e,{emit:p}){const B=e,E=p,M=s([]),N=a(()=>B.question.answerOptions.filter(e=>e.isCorrect).length),P=a(()=>M.value.filter(e=>B.question.answerOptions[e].isCorrect).length),L=a(()=>{const e=B.question.answerOptions.map((e,s)=>e.isCorrect?s:-1).filter(e=>-1!==e);return e.length===M.value.length&&e.every(e=>M.value.includes(e))}),U=e=>String.fromCharCode(65+e),V=e=>{if(!B.isAnswered)return{selected:M.value.includes(e)};const s=B.question.answerOptions[e],a=M.value.includes(e);return{correct:s.isCorrect&&a,incorrect:!s.isCorrect&&a,missed:s.isCorrect&&!a,disabled:!0}},z=e=>{if(B.isAnswered)return;const s=M.value.indexOf(e);s>-1?M.value.splice(s,1):M.value.push(e)},D=()=>{0===M.value.length||B.isAnswered||E("select",[...M.value])};return(e,s)=>(t(),i("div",v,[s[2]||(s[2]=l("div",{class:"instructions",role:"note","aria-label":"Question instructions"},[l("span",{class:"instructions-icon","aria-hidden":"true"},"â„¹ï¸"),l("span",{class:"instructions-text"},"Select all correct answers")],-1)),l("div",{class:"options-container",role:"group","aria-label":`Question ${e.question.questionNumber}: Select all that apply`},[(t(!0),i(o,null,r(e.question.answerOptions,(a,o)=>(t(),i("div",{key:a.id,class:u(["checkbox-option",V(o)]),onClick:e=>z(o)},[l("div",k,[l("input",{id:`option-${e.question.id}-${o}`,type:"checkbox",checked:M.value.includes(o),disabled:e.isAnswered,class:"checkbox-input","aria-label":`Option ${U(o)}: ${a.text}`,"aria-checked":M.value.includes(o),"aria-describedby":e.isAnswered?`option-feedback-${e.question.id}-${o}`:void 0,role:"checkbox",onChange:e=>z(o)},null,40,f),l("label",{for:`option-${e.question.id}-${o}`,class:"checkbox-label","aria-hidden":"true"},d(U(o)),9,w)]),l("div",x,d(a.text),1),e.isAnswered?(t(),i("div",{key:0,class:"feedback-icon",id:`option-feedback-${e.question.id}-${o}`,role:"status","aria-live":"polite"},[a.isCorrect&&M.value.includes(o)?(t(),i("span",y,"âœ“")):a.isCorrect&&!M.value.includes(o)?(t(),i("span",C,"â—‹")):!a.isCorrect&&M.value.includes(o)?(t(),i("span",q,"âœ—")):n("",!0)],8,m)):n("",!0),e.isAnswered&&e.showFeedback&&a.rationale?(t(),i("div",g,[s[0]||(s[0]=l("div",{class:"rationale-label"},"Explanation:",-1)),l("div",$,d(a.rationale),1)])):n("",!0)],10,h))),128))],8,b),e.isAnswered?n("",!0):(t(),i("button",{key:0,type:"button",class:"submit-button",disabled:0===M.value.length,"aria-label":`Submit ${M.value.length} selected answer${1!==M.value.length?"s":""} for question ${e.question.questionNumber}`,onClick:D},[c(" Submit Answer"+d(M.value.length>1?"s":"")+" ",1),M.value.length>0?(t(),i("span",O," ("+d(M.value.length)+" selected) ",1)):n("",!0)],8,A)),e.isAnswered&&e.showFeedback?(t(),i("div",S,[l("div",{class:u(["score-display",{perfect:L.value,partial:!L.value}])},[l("span",j,d(L.value?"âœ“":"âš "),1),l("span",F,d(L.value?"Perfect!":"Partial Credit"),1),l("span",I,d(P.value)+" of "+d(N.value)+" correct answers selected ",1)],2),e.question.explanation?(t(),i("div",Q,[s[1]||(s[1]=l("div",{class:"explanation-label"},"ðŸ“š Explanation:",-1)),l("div",_,d(e.question.explanation),1)])):n("",!0)])):n("",!0)]))}}),[["__scopeId","data-v-95e1f31f"]]);export{B as default};
