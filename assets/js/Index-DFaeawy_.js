import{p as e,e as t,Q as l,d as a,n as o,g as s,D as c,C as r,aU as i}from"./app-DXXarK7I.js";import{Q as n}from"./QSelect-OI6RFhnT.js";import{Q as d}from"./QSpinnerDots-iSvAMlO9.js";import{f as u,a as m,o as v,H as p,I as g,J as f,M as y,L as b,O as x,b as h,V as q,U as w,F as _,Q as C,_ as D}from"./vendor-EI0FRBVb.js";import k from"./DocumentationCard-CaswHoRV.js";import j from"./DocumentationListItem-DXriE3F2.js";import V from"./DocumentViewer-BX3IBoML.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./rtl-Cr6c3OOr.js";import"./QSpace-B3qNlK-o.js";import"./QBadge-ZjTd_Ty8.js";import"./QDrawer-CmhfkAoQ.js";const Q={class:"documentation-portal"},z={class:"portal-header q-pa-lg"},A={class:"row items-center justify-between"},I={class:"col-auto"},L={class:"text-h3 text-weight-bold q-ma-none"},R={class:"col-auto"},$={class:"stats-section q-px-lg q-pb-lg"},U={class:"row q-gutter-md"},O={class:"col-12 col-md-2"},P={class:"text-h4 text-weight-bold q-mt-sm"},S={class:"col-12 col-md-2"},T={class:"text-h4 text-weight-bold q-mt-sm"},E={class:"col-12 col-md-2"},G={class:"text-h4 text-weight-bold q-mt-sm"},N={class:"col-12 col-md-2"},B={class:"text-h4 text-weight-bold q-mt-sm"},F={class:"col-12 col-md-2"},M={class:"text-h4 text-weight-bold q-mt-sm"},H={class:"search-section q-px-lg q-pb-lg"},J={class:"row q-gutter-md items-end"},Z={class:"col-12 col-md-4"},K={class:"col-12 col-md-3"},W={class:"col-12 col-md-3"},X={class:"col-12 col-md-2"},Y={key:0,class:"categories-section q-px-lg q-pb-lg"},ee={class:"text-h5 text-weight-bold q-mb-md"},te={class:"row q-gutter-md"},le={class:"text-h6 text-weight-bold q-mt-sm"},ae={class:"text-caption text-grey-7"},oe={class:"documents-section q-px-lg q-pb-lg"},se={class:"row items-center justify-between q-mb-md"},ce={class:"text-h5 text-weight-bold"},re={class:"text-caption text-grey-7"},ie={key:0,class:"text-center q-py-xl"},ne={key:1,class:"row q-gutter-md"},de={key:2,class:"q-gutter-sm"},ue={key:3,class:"text-center q-py-xl"},me=e({__name:"Index",props:{dbDocs:Array,fileDocs:Array,stats:Object,categories:Array,filters:Object},setup(e){var me,ve,pe;const ge=e,fe=u(!1),ye=u((null==(me=ge.filters)?void 0:me.search)||""),be=u((null==(ve=ge.filters)?void 0:ve.category)||null),xe=u((null==(pe=ge.filters)?void 0:pe.type)||null),he=u("grid"),qe=u(!1),we=u(null),_e=m(()=>{var e,t;const l=[];return null==(e=ge.dbDocs)||e.forEach(e=>{l.push({...e,source:"database",category:e.type||"general"})}),null==(t=ge.fileDocs)||t.forEach(e=>{l.push({...e,source:"file"})}),l}),Ce=m(()=>{let e=_e.value;if(ye.value){const t=ye.value.toLowerCase();e=e.filter(e=>{var l,a,o;return(null==(l=e.title)?void 0:l.toLowerCase().includes(t))||(null==(a=e.content)?void 0:a.toLowerCase().includes(t))||(null==(o=e.excerpt)?void 0:o.toLowerCase().includes(t))})}return be.value&&(e=e.filter(e=>{var t;return(null==(t=e.category)?void 0:t.toLowerCase())===be.value.toLowerCase()})),xe.value&&(e=e.filter(e=>e.source===xe.value)),e}),De=m(()=>{var e;return(null==(e=ge.categories)?void 0:e.map(e=>({label:`${e.name} (${e.count})`,value:e.name})))||[]}),ke=m(()=>[{label:"Database Documents",value:"database"},{label:"File Documents",value:"file"}]),je=()=>{D.reload({only:["dbDocs","fileDocs","stats","categories"]})},Ve=()=>{},Qe=()=>{ye.value="",be.value=null,xe.value=null},ze=()=>{},Ae=()=>{},Ie=e=>{we.value=e,qe.value=!0},Le=e=>{"database"===e.source?D.visit(`/admin/documentation/${e.id}/edit`):Ie(e)},Re=()=>{qe.value=!1,we.value=null},$e=e=>({Offline:"orange",Code:"green",Tutorial:"blue",Guide:"purple",API:"red",Reference:"indigo",General:"grey",Note:"yellow",Research:"teal",Question:"pink",Comment:"cyan",Idea:"amber"}[e]||"primary");return v(()=>{}),(u,m)=>(g(),p(i,{title:"Documentation Portal"},{default:f(()=>[y("div",Q,[y("div",z,[y("div",A,[y("div",I,[y("h1",L,[h(t,{name:"library_books",class:"q-mr-md",color:"primary"}),m[8]||(m[8]=q(" Documentation Portal "))]),m[9]||(m[9]=y("p",{class:"text-subtitle1 text-grey-7 q-mt-sm"}," Comprehensive documentation system for developers and administrators ",-1))]),y("div",R,[h(l,{color:"primary",icon:"add",label:"Add New Doc",onClick:m[0]||(m[0]=e=>u.$inertia.visit("/admin/documentation")),class:"q-mr-sm"}),h(l,{color:"secondary",icon:"refresh",label:"Refresh",onClick:je,outline:""})])])]),y("div",$,[y("div",U,[y("div",O,[h(o,{class:"stat-card"},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>[h(t,{name:"description",size:"2rem",color:"primary"}),y("div",P,w(e.stats.total),1),m[10]||(m[10]=y("div",{class:"text-caption text-grey-7"},"Total Documents",-1))]),_:1})]),_:1})]),y("div",S,[h(o,{class:"stat-card"},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>[h(t,{name:"storage",size:"2rem",color:"green"}),y("div",T,w(e.stats.database),1),m[11]||(m[11]=y("div",{class:"text-caption text-grey-7"},"Database Docs",-1))]),_:1})]),_:1})]),y("div",E,[h(o,{class:"stat-card"},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>[h(t,{name:"folder",size:"2rem",color:"orange"}),y("div",G,w(e.stats.files),1),m[12]||(m[12]=y("div",{class:"text-caption text-grey-7"},"File Docs",-1))]),_:1})]),_:1})]),y("div",N,[h(o,{class:"stat-card"},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>[h(t,{name:"category",size:"2rem",color:"purple"}),y("div",B,w(e.stats.categories),1),m[13]||(m[13]=y("div",{class:"text-caption text-grey-7"},"Categories",-1))]),_:1})]),_:1})]),y("div",F,[h(o,{class:"stat-card"},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>[h(t,{name:"schedule",size:"2rem",color:"blue"}),y("div",M,w(e.stats.recent),1),m[14]||(m[14]=y("div",{class:"text-caption text-grey-7"},"Recent (7 days)",-1))]),_:1})]),_:1})])])]),y("div",H,[h(o,{class:"search-card"},{default:f(()=>[h(a,null,{default:f(()=>[y("div",J,[y("div",Z,[h(s,{modelValue:ye.value,"onUpdate:modelValue":m[1]||(m[1]=e=>ye.value=e),placeholder:"Search documentation...",outlined:"",dense:"",onInput:Ve,debounce:"300"},{prepend:f(()=>[h(t,{name:"search"})]),append:f(()=>[ye.value?(g(),p(l,{key:0,icon:"clear",flat:"",round:"",dense:"",onClick:Qe})):x("",!0)]),_:1},8,["modelValue"])]),y("div",K,[h(n,{modelValue:be.value,"onUpdate:modelValue":[m[2]||(m[2]=e=>be.value=e),ze],options:De.value,label:"Category",outlined:"",dense:"",clearable:""},null,8,["modelValue","options"])]),y("div",W,[h(n,{modelValue:xe.value,"onUpdate:modelValue":[m[3]||(m[3]=e=>xe.value=e),Ae],options:ke.value,label:"Type",outlined:"",dense:"",clearable:""},null,8,["modelValue","options"])]),y("div",X,[h(c,{outline:""},{default:f(()=>[h(l,{color:"grid"===he.value?"primary":"grey",icon:"grid_view",onClick:m[4]||(m[4]=e=>he.value="grid")},null,8,["color"]),h(l,{color:"list"===he.value?"primary":"grey",icon:"view_list",onClick:m[5]||(m[5]=e=>he.value="list")},null,8,["color"])]),_:1})])])]),_:1})]),_:1})]),ye.value||be.value?x("",!0):(g(),b("div",Y,[y("h2",ee,[h(t,{name:"category",class:"q-mr-sm"}),m[15]||(m[15]=q(" Browse by Category "))]),y("div",te,[(g(!0),b(_,null,C(e.categories,e=>(g(),b("div",{key:e.name,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[h(o,{class:"category-card cursor-pointer",onClick:t=>{return l=e.name,void(be.value=l);var l}},{default:f(()=>[h(a,{class:"text-center"},{default:f(()=>{return[h(t,{name:(l=e.name,{Offline:"cloud_off",Code:"code",Tutorial:"school",Guide:"map",API:"api",Reference:"book",General:"description",Note:"note",Research:"science",Question:"help",Comment:"comment",Idea:"lightbulb"}[l]||"description"),size:"2rem",color:$e(e.name)},null,8,["name","color"]),y("div",le,w(e.name),1),y("div",ae,w(e.count)+" document"+w(1!==e.count?"s":""),1),h(r,{color:"database"===e.type?"green":"orange","text-color":"white",size:"sm",class:"q-mt-sm"},{default:f(()=>[q(w(e.type),1)]),_:2},1032,["color"])];var l}),_:2},1024)]),_:2},1032,["onClick"])]))),128))])])),y("div",oe,[y("div",se,[y("h2",ce,[h(t,{name:"description",class:"q-mr-sm"}),q(" "+w(be.value?`${be.value} Documentation`:ye.value?`Search Results for "${ye.value}"`:"All Documentation"),1)]),y("div",re,w(Ce.value.length)+" document"+w(1!==Ce.value.length?"s":"")+" found ",1)]),fe.value?(g(),b("div",ie,[h(d,{size:"3rem",color:"primary"}),m[16]||(m[16]=y("div",{class:"text-subtitle1 q-mt-md"},"Loading documentation...",-1))])):"grid"===he.value?(g(),b("div",ne,[(g(!0),b(_,null,C(Ce.value,e=>(g(),b("div",{key:e.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[h(k,{document:e,onView:Ie,onEdit:Le},null,8,["document"])]))),128))])):(g(),b("div",de,[(g(!0),b(_,null,C(Ce.value,e=>(g(),p(j,{key:e.id,document:e,onView:Ie,onEdit:Le},null,8,["document"]))),128))])),fe.value||0!==Ce.value.length?x("",!0):(g(),b("div",ue,[h(t,{name:"description",size:"4rem",color:"grey-5"}),m[17]||(m[17]=y("div",{class:"text-h6 text-grey-7 q-mt-md"},"No documentation found",-1)),m[18]||(m[18]=y("div",{class:"text-body2 text-grey-6 q-mt-sm"}," Try adjusting your search criteria or add new documentation ",-1)),h(l,{color:"primary",icon:"add",label:"Add Documentation",onClick:m[6]||(m[6]=e=>u.$inertia.visit("/admin/documentation")),class:"q-mt-md"})]))]),h(V,{modelValue:qe.value,"onUpdate:modelValue":m[7]||(m[7]=e=>qe.value=e),document:we.value,onClose:Re},null,8,["modelValue","document"])])]),_:1}))}},[["__scopeId","data-v-14bc55b2"]]);export{me as default};
