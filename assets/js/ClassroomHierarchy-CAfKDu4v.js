import{o as e,u as a,c as l,d as s,g as t,m as r,Q as o,l as d,b as u,bb as i,h as c,i as n,A as m,j as _,aP as f,C as y}from"./app-Cs5CKgHw.js";import{Q as b}from"./QBadge-jxRwPSDj.js";import{Q as p}from"./QSpace-Xg69Ss6f.js";import{f as g,N as v,J as h,b as x,K as k,O as j,I as q,F as C,R as w,Q as A,y as N,V as Q,z,W as S,S as V}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const H={key:0,class:"text-center q-pa-xl"},I={class:"text-h6"},R={class:"q-mb-md"},$={class:"text-h6"},B={class:"q-mb-md"},F={class:"text-subtitle2 text-grey-7 q-mb-sm"},J={class:"row q-col-gutter-xs"},K=e({__name:"ClassroomHierarchy",props:{hierarchy:{type:Array,required:!0},assignments:{type:Array,required:!0}},setup(e){const K=a(),O=e,P=g(!1),U=g(null);return(a,g)=>(h(),v("div",null,[x(r,{flat:"",bordered:""},{default:k(()=>[x(l,null,{default:k(()=>[g[4]||(g[4]=j("div",{class:"text-h6 q-mb-md"},"Classroom Hierarchy",-1)),0===e.hierarchy.length?(h(),v("div",H,[x(s,{name:"folder_open",size:"64px",color:"grey-5"}),g[1]||(g[1]=j("div",{class:"text-body1 text-grey-7 q-mt-md"},"No stages found",-1))])):(h(),q(t,{key:1,bordered:"",separator:""},{default:k(()=>[(h(!0),v(C,null,w(e.hierarchy,e=>(h(),q(i,{key:e.id,label:e.name,icon:"account_tree","header-class":"text-primary text-weight-bold","expand-separator":""},{default:k(()=>[x(r,{flat:""},{default:k(()=>[0===e.grades.length?(h(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[2]||(g[2]=[S(" No grades in this stage ")])),_:1})):(h(),q(t,{key:1},{default:k(()=>[(h(!0),v(C,null,w(e.grades,e=>(h(),q(i,{key:e.id,label:e.name,icon:"grade","header-class":"text-secondary",dense:""},{default:k(()=>[x(r,{flat:""},{default:k(()=>[0===e.classrooms.length?(h(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[3]||(g[3]=[S(" No classrooms in this grade ")])),_:1})):(h(),q(t,{key:1,dense:""},{default:k(()=>[(h(!0),v(C,null,w(e.classrooms,e=>(h(),q(c,{key:e.id,clickable:"",onClick:a=>(e=>{U.value=e,P.value=!0})(e)},{default:k(()=>[x(n,{avatar:""},{default:k(()=>[x(m,{color:"accent","text-color":"white",icon:"class"})]),_:1}),x(n,null,{default:k(()=>[x(_,null,{default:k(()=>[S(Q(e.name),1)]),_:2},1024),x(_,{caption:""},{default:k(()=>[S(" Capacity: "+Q(e.capacity||"N/A"),1)]),_:2},1024)]),_:2},1024),x(n,{side:""},{default:k(()=>[x(b,{color:"primary",label:`${e.assignments_count} assignments`},null,8,["label"])]),_:2},1024),x(n,{side:""},{default:k(()=>[x(s,{name:"chevron_right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}))]),_:1})]),_:1}),x(u,{modelValue:P.value,"onUpdate:modelValue":g[0]||(g[0]=e=>P.value=e),maximized:z(K).screen.lt.md},{default:k(()=>[x(r,{style:{"min-width":"500px"}},{default:k(()=>[x(l,{class:"row items-center q-pb-none"},{default:k(()=>{var e;return[j("div",I,Q(null==(e=U.value)?void 0:e.name),1),x(p),N(x(o,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])]}),_:1}),U.value?(h(),q(l,{key:0},{default:k(()=>[j("div",R,[g[5]||(g[5]=j("div",{class:"text-subtitle2 text-grey-7"},"Capacity",-1)),j("div",$,Q(U.value.capacity||"N/A"),1)]),j("div",B,[j("div",F,"Subjects ("+Q(U.value.subjects.length)+")",1),j("div",J,[(h(!0),v(C,null,w(U.value.subjects,(e,a)=>(h(),v("div",{key:a,class:"col-auto"},[x(y,{color:"primary","text-color":"white",icon:"menu_book"},{default:k(()=>[S(Q(e),1)]),_:2},1024)]))),128))])]),j("div",null,[g[6]||(g[6]=j("div",{class:"text-subtitle2 text-grey-7 q-mb-sm"},"Assignments",-1)),x(t,{dense:"",bordered:"",separator:""},{default:k(()=>{return[(h(!0),v(C,null,w((e=U.value.id,O.assignments.filter(a=>a.classroom_id===e)),e=>(h(),q(c,{key:e.id},{default:k(()=>[x(n,{avatar:""},{default:k(()=>[x(m,{style:V({backgroundColor:e.subject_color_bg,color:e.subject_color_text}),icon:"menu_book"},null,8,["style"])]),_:2},1024),x(n,null,{default:k(()=>[x(_,null,{default:k(()=>[S(Q(e.subject_name),1)]),_:2},1024),x(_,{caption:""},{default:k(()=>[S(Q(e.teacher_name),1)]),_:2},1024)]),_:2},1024),x(n,{side:""},{default:k(()=>[x(b,{color:"primary",label:`${e.classes_per_week} classes/week`},null,8,["label"])]),_:2},1024)]),_:2},1024))),128))];var e}),_:1})])]),_:1})):A("",!0),x(d,{align:"right"},{default:k(()=>[N(x(o,{flat:"",label:"Close",color:"primary"},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]))}},[["__scopeId","data-v-6fa3250c"]]);export{K as default};
