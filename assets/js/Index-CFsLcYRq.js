import{f as e,a,af as s,N as r,J as t,b as l,R as d,F as i,Q as o,O as n,V as c,y as u,ac as g,$ as x}from"./vendor-BWKGNkNB.js";const y={class:"py-12"},m={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},v={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},k={class:"p-6"},f={class:"flex flex-col md:flex-row gap-6"},p={class:"w-full md:w-1/3"},b={key:0,class:"text-gray-500 dark:text-gray-400"},h={key:1,class:"space-y-3"},w=["onClick"],C={class:"flex items-center"},_={class:"flex-shrink-0"},N=["src"],U={class:"ml-4 flex-1"},j={class:"flex items-center justify-between"},A={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},L={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"},P={key:0,class:"text-sm text-gray-500 dark:text-gray-400 truncate"},R={key:1,class:"text-sm text-gray-400 dark:text-gray-500 italic"},V={class:"w-full md:w-2/3 mt-6 md:mt-0"},F={class:"flex justify-between items-center mb-4"},H={class:"relative"},I={key:0,class:"text-center py-8"},J={key:0,class:"text-gray-500 dark:text-gray-400"},O={key:1,class:"text-gray-500 dark:text-gray-400"},Q={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},S=["onClick"],$={class:"flex items-center"},q={class:"flex-shrink-0"},z=["src"],B={class:"ml-4"},D={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},E={class:"text-sm text-gray-500 dark:text-gray-400"},G={__name:"Index",props:{users:Array,conversations:Array},setup(G){const K=G,M=e(""),T=a(()=>{if(!M.value)return K.users;const e=M.value.toLowerCase();return K.users.filter(a=>a.name.toLowerCase().includes(e)||a.email.toLowerCase().includes(e))}),W=e=>{x.visit(route("private-chat.chat",e))};return(e,a)=>{const x=s("Head");return t(),r(i,null,[l(x,{title:"Private Chat"}),a[3]||(a[3]=d("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Private Chat ",-1)),d("div",y,[d("div",m,[d("div",v,[d("div",k,[d("div",f,[d("div",p,[a[1]||(a[1]=d("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Recent Conversations ",-1)),0===G.conversations.length?(t(),r("div",b," No recent conversations ")):(t(),r("div",h,[(t(!0),r(i,null,o(G.conversations,e=>(t(),r("div",{key:e.id,class:"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition",onClick:a=>W(e.user.id)},[d("div",C,[d("div",_,[d("img",{src:e.user.profile_photo_url,alt:"User avatar",class:"h-10 w-10 rounded-full"},null,8,N)]),d("div",U,[d("div",j,[d("h4",A,c(e.user.name),1),e.unread_count>0?(t(),r("span",L,c(e.unread_count),1)):n("",!0)]),e.latest_message?(t(),r("p",P,c(e.latest_message.body),1)):(t(),r("p",R," No messages yet "))])])],8,w))),128))]))]),d("div",V,[d("div",F,[a[2]||(a[2]=d("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," All Users ",-1)),d("div",H,[u(d("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>M.value=e),type:"text",placeholder:"Search users...",class:"rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 shadow-sm"},null,512),[[g,M.value]])])]),0===T.value.length?(t(),r("div",I,[M.value?(t(),r("p",J,' No users found matching "'+c(M.value)+'" ',1)):(t(),r("p",O," No users available "))])):(t(),r("div",Q,[(t(!0),r(i,null,o(T.value,e=>(t(),r("div",{key:e.id,class:"border dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition",onClick:a=>W(e.id)},[d("div",$,[d("div",q,[d("img",{src:e.profile_photo_url,alt:"User avatar",class:"h-10 w-10 rounded-full"},null,8,z)]),d("div",B,[d("h4",D,c(e.name),1),d("p",E,c(e.email),1)])])],8,S))),128))]))])])])])])])],64)}}};export{G as default};
