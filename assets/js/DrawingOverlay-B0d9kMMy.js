import{r as a,Q as e}from"./app-DlLesFGi.js";import o from"./DrawingCanvas-2wfgnsN0.js";import r from"./DrawingToolbar-6dN0L9Ax.js";import{f as l,a as n,N as s,J as t,b as u,K as i,O as v,W as p,V as d,B as g}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./QBtnToggle-iboNob1y.js";import"./QColor-eqGXYKL_.js";import"./QSlider-CuF3S-6I.js";import"./QTabs-BClcf-CB.js";import"./rtl-Cr6c3OOr.js";import"./QTab-CYxYFXBq.js";import"./QTabPanels-CTgZWG49.js";import"./use-panel-BqxRbB7W.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-DXa1fEFB.js";import"./QPopupProxy-CedVGKZ2.js";const c={class:"drawing-overlay-wrapper"},m={key:0,class:"drawing-mode-indicator"},w=a({__name:"DrawingOverlay",emits:["drawing-state-changed"],setup(a,{expose:w,emit:j}){const b=j,f=l(null),P=l(!1),k=l("pen"),Q=l("#FF0000"),y=l(3),T=l("transparent"),h=l(1),C=l(1),U=l(0),_=n(()=>{const a=window.location.pathname.match(/\/lesson-presentation\/student\/(\d+)/);return a?`drawing-lesson-${a[1]}`:"drawing-pages"}),x=()=>{P.value=!P.value,P.value||(T.value="transparent"),b("drawing-state-changed",P.value)},z=a=>{T.value=a},D=()=>{f.value&&f.value.undo()},B=()=>{U.value++},N=()=>{h.value>1&&h.value--},A=()=>{h.value++,f.value&&f.value.addNewPage(h.value),h.value>C.value&&(C.value=h.value)},M=()=>{C.value++,h.value=C.value,f.value&&f.value.addNewPage(h.value)},O=a=>{},S=a=>{a>C.value&&(C.value=a)};return w({toggleDrawing:x,isActive:P}),(a,l)=>(t(),s("div",c,[u(o,{ref_key:"canvasRef",ref:f,"is-active":P.value,"drawing-tool":k.value,"pen-color":Q.value,"pen-size":y.value,"background-color":T.value,"current-page":h.value,"clear-trigger":U.value,"storage-key":_.value,onStrokesUpdated:O,onPagesUpdated:S,onPageBackgroundChanged:z},null,8,["is-active","drawing-tool","pen-color","pen-size","background-color","current-page","clear-trigger","storage-key"]),u(r,{"is-active":P.value,"drawing-tool":k.value,"onUpdate:drawingTool":l[0]||(l[0]=a=>k.value=a),"pen-color":Q.value,"onUpdate:penColor":l[1]||(l[1]=a=>Q.value=a),"pen-size":y.value,"onUpdate:penSize":l[2]||(l[2]=a=>y.value=a),"background-color":T.value,"onUpdate:backgroundColor":l[3]||(l[3]=a=>T.value=a),"current-page":h.value,"total-pages":C.value,onToggle:x,onUndo:D,onClear:B,onPrevPage:N,onNextPage:A,onAddPage:M},null,8,["is-active","drawing-tool","pen-color","pen-size","background-color","current-page","total-pages"]),u(g,{name:"fade"},{default:i(()=>[P.value?(t(),s("div",m,[u(e,{name:"pen"===k.value?"brush":"cleaning_services",size:"sm",class:"q-mr-xs"},null,8,["name"]),p(" "+d("pen"===k.value?"Drawing Mode":"Eraser Mode")+" - Page "+d(h.value),1)])):v("",!0)]),_:1})]))}},[["__scopeId","data-v-61825dae"]]);export{w as default};
