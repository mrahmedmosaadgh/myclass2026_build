import{o as e,p as l,Q as t,f as o,ba as a}from"./app-tFXAu5dG.js";import{Q as s}from"./QSelect-CmlFFsWs.js";import{R as d}from"./RichTextEditor-N74O22b8.js";import{N as i,J as r,O as n,b as m,F as u,R as p,V as c,K as b,W as v,Q as V}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";import"./rtl-Cr6c3OOr.js";import"./QColor-K7Jvc-Lm.js";import"./QSlider-DKMYX9-R.js";import"./QTabs-MK3vUK-C.js";import"./QTab-BKLAeiU7.js";import"./QTabPanels-DrOpUhST.js";import"./use-panel-C-DNV6UK.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-DaHi4t9n.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-CfjeXhnT.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-B4ZtibSz.js";import"./QBadge-qhepP9EB.js";const h={class:"step-by-step-editor q-pa-md bg-grey-1 rounded-borders"},x={class:"row items-center justify-between q-mb-sm"},w={class:"text-subtitle2 text-primary"},g={class:"q-gutter-y-sm"},y={class:"row q-col-gutter-sm"},f={class:"col-12 col-sm-6"},j={key:0},k={key:1},_=e({__name:"StepByStepEditor",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:_}){const q=e,Q=_,U=[{label:"Short Answer",value:"short_answer"},{label:"Multiple Choice",value:"single_choice"}],C=()=>{Q("update:modelValue",[...q.modelValue,{text:"",type:"short_answer",correct_answer:"",options:[{id:"o1",text:""},{id:"o2",text:""}],feedback:""}])},S=(e,l,t)=>{const o=[...q.modelValue];o[e]={...o[e],[l]:t},Q("update:modelValue",o)};return 0===q.modelValue.length&&C(),(_,T)=>(r(),i("div",h,[T[4]||(T[4]=n("div",{class:"text-subtitle1 q-mb-sm text-weight-bold"},"Steps Configuration",-1)),(r(!0),i(u,null,p(e.modelValue,(h,_)=>(r(),i("div",{key:_,class:"q-mb-md bg-white q-pa-sm rounded-borders shadow-1"},[n("div",x,[n("div",w,"Step "+c(_+1),1),m(t,{flat:"",dense:"",round:"",color:"negative",icon:"delete",size:"sm",onClick:e=>(e=>{const l=[...q.modelValue];l.splice(e,1),Q("update:modelValue",l)})(_),disable:e.modelValue.length<=1},{default:b(()=>[m(l,null,{default:b(()=>T[0]||(T[0]=[v("Remove Step")])),_:1})]),_:2},1032,["onClick","disable"])]),n("div",g,[n("div",null,[T[1]||(T[1]=n("label",{class:"text-caption text-grey-7"},"Step Instruction / Question",-1)),m(d,{modelValue:h.text,"onUpdate:modelValue":e=>S(_,"text",e),placeholder:"e.g., First, calculate the area of the base..."},null,8,["modelValue","onUpdate:modelValue"])]),n("div",y,[n("div",f,[m(s,{"model-value":h.type,"onUpdate:modelValue":e=>S(_,"type",e),options:U,label:"Answer Type",dense:"",outlined:"","emit-value":"","map-options":"","bg-color":"white"},null,8,["model-value","onUpdate:modelValue"])])]),"short_answer"===h.type?(r(),i("div",j,[m(o,{"model-value":h.correct_answer,"onUpdate:modelValue":e=>S(_,"correct_answer",e),label:"Correct Answer",dense:"",outlined:"","bg-color":"white",placeholder:"Exact match required"},null,8,["model-value","onUpdate:modelValue"])])):V("",!0),"single_choice"===h.type?(r(),i("div",k,[T[2]||(T[2]=n("div",{class:"text-caption text-grey-7 q-mb-xs"},"Options",-1)),(r(!0),i(u,null,p(h.options,(e,l)=>(r(),i("div",{key:l,class:"row items-center q-mb-xs"},[m(a,{"model-value":h.correct_answer,"onUpdate:modelValue":e=>S(_,"correct_answer",e),val:e.text,dense:"",size:"sm"},null,8,["model-value","onUpdate:modelValue","val"]),m(o,{"model-value":e.text,"onUpdate:modelValue":e=>((e,l,t)=>{const o=[...q.modelValue],a=[...o[e].options];a[l]={...a[l],text:t},o[e].options=a,Q("update:modelValue",o)})(_,l,e),dense:"",outlined:"",class:"col q-mx-sm","bg-color":"white",placeholder:"Option text"},null,8,["model-value","onUpdate:modelValue"]),m(t,{flat:"",dense:"",round:"",color:"grey-6",icon:"close",size:"xs",onClick:e=>((e,l)=>{const t=[...q.modelValue];t[e].options.splice(l,1),Q("update:modelValue",t)})(_,l),disable:h.options.length<=2},null,8,["onClick","disable"])]))),128)),m(t,{flat:"",dense:"",size:"sm",color:"primary",icon:"add",label:"Add Option",onClick:e=>(e=>{const l=[...q.modelValue];l[e].options.push({id:`o${Date.now()}`,text:""}),Q("update:modelValue",l)})(_),class:"q-mt-xs"},null,8,["onClick"])])):V("",!0),n("div",null,[T[3]||(T[3]=n("label",{class:"text-caption text-grey-7"},"Feedback / Explanation (Optional)",-1)),m(o,{"model-value":h.feedback,"onUpdate:modelValue":e=>S(_,"feedback",e),dense:"",outlined:"",autogrow:"","bg-color":"white",placeholder:"Shown after answering..."},null,8,["model-value","onUpdate:modelValue"])])])]))),128)),m(t,{outline:"",color:"primary",icon:"add",label:"Add Next Step",class:"full-width q-mt-sm",onClick:C})]))}},[["__scopeId","data-v-aa7c720a"]]);export{_ as default};
