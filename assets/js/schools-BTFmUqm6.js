import{Q as e}from"./QSelect-D0qwdF6_.js";import{f as o,o as l,I as a,J as t,_ as s}from"./vendor-BJyC5yAd.js";import"./app-DTyzyps1.js";import"./offline-BzIlwqNM.js";import"./i18n-BDgsCcB6.js";import"./ui-DFn3cvMd.js";import"./rtl-Cr6c3OOr.js";const r={__name:"schools",props:{role:{type:String,required:!1},teacherId:{type:Number,default:null}},emits:["selected_school"],setup(r,{emit:c}){const n=r,i=c,u=o(null),m=o([]),d=o(!1),p=e=>{localStorage.setItem("selected_school",e),i("selected_school",e)};return l(()=>{d.value=!0;const e="admin"===n.role?"/admin/schools":`/teacher/${n.teacherId}/schools`;s.get(e).then(e=>{m.value=e.data.map(e=>({label:e.name,value:e.id}));const o=localStorage.getItem("selected_school");o&&(u.value=parseInt(o)),i("selected_school",u.value)}).catch(e=>{console.error("Error loading schools:",e)}).finally(()=>{d.value=!1})}),(o,l)=>(t(),a(e,{modelValue:u.value,"onUpdate:modelValue":[l[0]||(l[0]=e=>u.value=e),p],options:m.value,label:"Select School",outlined:"","emit-value":"","map-options":"",loading:d.value},null,8,["modelValue","options","loading"]))}};export{r as default};
