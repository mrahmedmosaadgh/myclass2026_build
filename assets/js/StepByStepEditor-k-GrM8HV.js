import{r as e,t as l,b as t,h as o,bd as a}from"./app-CWAnT6CT.js";import{Q as s}from"./QSelect-5P1Qxg14.js";import{R as d}from"./RichTextEditor-D2FN8oZY.js";import{N as i,J as r,R as n,b as m,F as u,Q as p,V as c,K as b,W as v,O as h}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./rtl-Cr6c3OOr.js";import"./QColor-B0FtgTbx.js";import"./QSlider-CWozdx-E.js";import"./QTabs-BXUhAxYJ.js";import"./QTab-BMD61nU3.js";import"./QTabPanels-BZNF5OxK.js";import"./use-panel-BQUWxHno.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-16_gtepn.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-COAgP7Si.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-BCvh4D6f.js";import"./QBadge-D8mJvg-f.js";const x={class:"step-by-step-editor q-pa-md bg-grey-1 rounded-borders"},V={class:"row items-center justify-between q-mb-sm"},w={class:"text-subtitle2 text-primary"},y={class:"q-gutter-y-sm"},g={class:"row q-col-gutter-sm"},f={class:"col-12 col-sm-6"},j={key:0},k={key:1},_=e({__name:"StepByStepEditor",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:_}){const q=e,U=_,C=[{label:"Short Answer",value:"short_answer"},{label:"Multiple Choice",value:"single_choice"}],Q=()=>{U("update:modelValue",[...q.modelValue,{text:"",type:"short_answer",correct_answer:"",options:[{id:"o1",text:""},{id:"o2",text:""}],feedback:""}])},S=(e,l,t)=>{const o=[...q.modelValue];o[e]={...o[e],[l]:t},U("update:modelValue",o)};return 0===q.modelValue.length&&Q(),(_,A)=>(r(),i("div",x,[A[4]||(A[4]=n("div",{class:"text-subtitle1 q-mb-sm text-weight-bold"},"Steps Configuration",-1)),(r(!0),i(u,null,p(e.modelValue,(x,_)=>(r(),i("div",{key:_,class:"q-mb-md bg-white q-pa-sm rounded-borders shadow-1"},[n("div",V,[n("div",w,"Step "+c(_+1),1),m(t,{flat:"",dense:"",round:"",color:"negative",icon:"delete",size:"sm",onClick:e=>(e=>{const l=[...q.modelValue];l.splice(e,1),U("update:modelValue",l)})(_),disable:e.modelValue.length<=1},{default:b(()=>[m(l,null,{default:b(()=>A[0]||(A[0]=[v("Remove Step")])),_:1})]),_:2},1032,["onClick","disable"])]),n("div",y,[n("div",null,[A[1]||(A[1]=n("label",{class:"text-caption text-grey-7"},"Step Instruction / Question",-1)),m(d,{modelValue:x.text,"onUpdate:modelValue":e=>S(_,"text",e),placeholder:"e.g., First, calculate the area of the base..."},null,8,["modelValue","onUpdate:modelValue"])]),n("div",g,[n("div",f,[m(s,{"model-value":x.type,"onUpdate:modelValue":e=>S(_,"type",e),options:C,label:"Answer Type",dense:"",outlined:"","emit-value":"","map-options":"","bg-color":"white"},null,8,["model-value","onUpdate:modelValue"])])]),"short_answer"===x.type?(r(),i("div",j,[m(o,{"model-value":x.correct_answer,"onUpdate:modelValue":e=>S(_,"correct_answer",e),label:"Correct Answer",dense:"",outlined:"","bg-color":"white",placeholder:"Exact match required"},null,8,["model-value","onUpdate:modelValue"])])):h("",!0),"single_choice"===x.type?(r(),i("div",k,[A[2]||(A[2]=n("div",{class:"text-caption text-grey-7 q-mb-xs"},"Options",-1)),(r(!0),i(u,null,p(x.options,(e,l)=>(r(),i("div",{key:l,class:"row items-center q-mb-xs"},[m(a,{"model-value":x.correct_answer,"onUpdate:modelValue":e=>S(_,"correct_answer",e),val:e.text,dense:"",size:"sm"},null,8,["model-value","onUpdate:modelValue","val"]),m(o,{"model-value":e.text,"onUpdate:modelValue":e=>((e,l,t)=>{const o=[...q.modelValue],a=[...o[e].options];a[l]={...a[l],text:t},o[e].options=a,U("update:modelValue",o)})(_,l,e),dense:"",outlined:"",class:"col q-mx-sm","bg-color":"white",placeholder:"Option text"},null,8,["model-value","onUpdate:modelValue"]),m(t,{flat:"",dense:"",round:"",color:"grey-6",icon:"close",size:"xs",onClick:e=>((e,l)=>{const t=[...q.modelValue];t[e].options.splice(l,1),U("update:modelValue",t)})(_,l),disable:x.options.length<=2},null,8,["onClick","disable"])]))),128)),m(t,{flat:"",dense:"",size:"sm",color:"primary",icon:"add",label:"Add Option",onClick:e=>(e=>{const l=[...q.modelValue];l[e].options.push({id:`o${Date.now()}`,text:""}),U("update:modelValue",l)})(_),class:"q-mt-xs"},null,8,["onClick"])])):h("",!0),n("div",null,[A[3]||(A[3]=n("label",{class:"text-caption text-grey-7"},"Feedback / Explanation (Optional)",-1)),m(o,{"model-value":x.feedback,"onUpdate:modelValue":e=>S(_,"feedback",e),dense:"",outlined:"",autogrow:"","bg-color":"white",placeholder:"Shown after answering..."},null,8,["model-value","onUpdate:modelValue"])])])]))),128)),m(t,{outline:"",color:"primary",icon:"add",label:"Add Next Step",class:"full-width q-mt-sm",onClick:Q})]))}},[["__scopeId","data-v-aa7c720a"]]);export{_ as default};
