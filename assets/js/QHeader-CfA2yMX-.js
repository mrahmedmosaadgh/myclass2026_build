import{I as e,J as a,aX as l,aL as o,W as t}from"./app-Dtv5Fi9L.js";import{q as s,f as r,a as n,p as u,k as i,A as d,h as f}from"./vendor-BWKGNkNB.js";const v=e({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:v,emit:c}){const{proxy:{$q:p}}=u(),h=s(l,a);if(h===a)return console.error("QHeader needs to be child of QLayout"),a;const m=r(parseInt(e.heightHint,10)),g=r(!0),b=n(()=>!0===e.reveal||-1!==h.view.value.indexOf("H")||p.platform.is.ios&&!0===h.isContainer.value),y=n(()=>{if(!0!==e.modelValue)return 0;if(!0===b.value)return!0===g.value?m.value:0;const a=m.value-h.scroll.value.position;return a>0?a:0}),V=n(()=>!0!==e.modelValue||!0===b.value&&!0!==g.value),q=n(()=>!0===e.modelValue&&!0===V.value&&!0===e.reveal),x=n(()=>"q-header q-layout__section--marginal "+(!0===b.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===V.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":"")),z=n(()=>{const e=h.rows.value.top,a={};return"l"===e[0]&&!0===h.left.space&&(a[!0===p.lang.rtl?"right":"left"]=`${h.left.size}px`),"r"===e[2]&&!0===h.right.space&&(a[!0===p.lang.rtl?"left":"right"]=`${h.right.size}px`),a});function H(e,a){h.update("header",e,a)}function w(e,a){e.value!==a&&(e.value=a)}function B({height:e}){w(m,e),H("size",e)}function Q(e){!0===q.value&&w(g,!0),c("focusin",e)}i(()=>e.modelValue,e=>{H("space",e),w(g,!0),h.animate()}),i(y,e=>{H("offset",e)}),i(()=>e.reveal,a=>{!1===a&&w(g,e.modelValue)}),i(g,e=>{h.animate(),c("reveal",e)}),i(h.scroll,a=>{!0===e.reveal&&w(g,"up"===a.direction||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const _={};return h.instances.header=_,!0===e.modelValue&&H("size",m.value),H("space",e.modelValue),H("offset",y.value),d(()=>{h.instances.header===_&&(h.instances.header=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const a=o(v.default,[]);return!0===e.elevated&&a.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(f(t,{debounce:0,onResize:B})),f("header",{class:x.value,style:z.value,onFocusin:Q},a)}}});export{v as Q};
