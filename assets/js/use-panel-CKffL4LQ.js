import{a0 as e,a1 as t,a2 as n,a3 as i,a4 as o,a5 as a,a6 as s,P as r,a7 as l,a8 as u,a9 as d,aa as v,V as c,ab as p,X as m}from"./app-Dtv5Fi9L.js";import{u as f}from"./use-render-cache-CmTcazfP.js";import{f as h,a as y,p as g,k as b,h as x,B as P,ak as C}from"./vendor-BWKGNkNB.js";function k(e){const t=[.06,6,50];return"string"==typeof e&&e.length&&e.split(":").forEach((e,n)=>{const i=parseFloat(e);i&&(t[n]=i)}),t}const w=e({name:"touch-swipe",beforeMount(e,{value:c,arg:p,modifiers:m}){if(!0!==m.mouse&&!0!==n.has.touch)return;const f=!0===m.mouseCapture?"Capture":"",h={handler:c,sensitivity:k(p),direction:o(m),noop:a,mouseStart(e){d(e,h)&&v(e)&&(s(h,"temp",[[document,"mousemove","move",`notPassive${f}`],[document,"mouseup","end","notPassiveCapture"]]),h.start(e,!0))},touchStart(e){if(d(e,h)){const t=e.target;s(h,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),h.start(e)}},start(t,o){!0===n.is.firefox&&i(e,!0);const a=l(t);h.event={x:a.left,y:a.top,time:Date.now(),mouse:!0===o,dir:!1}},move(e){if(void 0===h.event)return;if(!1!==h.event.dir)return void r(e);const t=Date.now()-h.event.time;if(0===t)return;const n=l(e),i=n.left-h.event.x,o=Math.abs(i),a=n.top-h.event.y,s=Math.abs(a);if(!0!==h.event.mouse){if(o<h.sensitivity[1]&&s<h.sensitivity[1])return void h.end(e)}else{if(""!==window.getSelection().toString())return void h.end(e);if(o<h.sensitivity[2]&&s<h.sensitivity[2])return}const d=o/t,v=s/t;!0===h.direction.vertical&&o<s&&o<100&&v>h.sensitivity[0]&&(h.event.dir=a<0?"up":"down"),!0===h.direction.horizontal&&o>s&&s<100&&d>h.sensitivity[0]&&(h.event.dir=i<0?"left":"right"),!0===h.direction.up&&o<s&&a<0&&o<100&&v>h.sensitivity[0]&&(h.event.dir="up"),!0===h.direction.down&&o<s&&a>0&&o<100&&v>h.sensitivity[0]&&(h.event.dir="down"),!0===h.direction.left&&o>s&&i<0&&s<100&&d>h.sensitivity[0]&&(h.event.dir="left"),!0===h.direction.right&&o>s&&i>0&&s<100&&d>h.sensitivity[0]&&(h.event.dir="right"),!1!==h.event.dir?(r(e),!0===h.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),u(),h.styleCleanup=e=>{h.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),h.handler({evt:e,touch:!0!==h.event.mouse,mouse:h.event.mouse,direction:h.event.dir,duration:t,distance:{x:o,y:s}})):h.end(e)},end(o){var a;void 0!==h.event&&(t(h,"temp"),!0===n.is.firefox&&i(e,!1),null==(a=h.styleCleanup)||a.call(h,!0),void 0!==o&&!1!==h.event.dir&&r(o),h.event=void 0)}};if(e.__qtouchswipe=h,!0===m.mouse){const t=!0===m.mouseCapture||!0===m.mousecapture?"Capture":"";s(h,"main",[[e,"mousedown","mouseStart",`passive${t}`]])}!0===n.has.touch&&s(h,"main",[[e,"touchstart","touchStart","passive"+(!0===m.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!=typeof t.value&&n.end(),n.handler=t.value),n.direction=o(t.modifiers))},beforeUnmount(e){var o;const a=e.__qtouchswipe;void 0!==a&&(t(a,"main"),t(a,"temp"),!0===n.is.firefox&&i(e,!1),null==(o=a.styleCleanup)||o.call(a),delete e.__qtouchswipe)}}),A={name:{required:!0},disable:Boolean},V={setup:(e,{slots:t})=>()=>x("div",{class:"q-panel scroll",role:"tabpanel"},m(t.default))},q={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},S=["update:modelValue","beforeTransition","transition"];function B(){const{props:e,emit:t,proxy:n}=g(),{getCache:i}=f(),{registerTimeout:o}=c();let a,s;const r=h(null),l={value:null};function u(t){const i=!0===e.vertical?"up":"left";M((!0===n.$q.lang.rtl?-1:1)*(t.direction===i?1:-1))}const d=y(()=>[[w,u,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]]),v=y(()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right")),k=y(()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left")),A=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),q=y(()=>"string"==typeof e.modelValue||"number"==typeof e.modelValue?e.modelValue:String(e.modelValue)),S=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),B=y(()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude);function T(){M(1)}function _(){M(-1)}function E(e){t("update:modelValue",e)}function D(e){return null!=e&&""!==e}function I(e){return a.findIndex(t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable)}function L(t){const n=0!==t&&!0===e.animated&&-1!==l.value?"q-transition--"+(-1===t?v.value:k.value):null;r.value!==n&&(r.value=n)}function M(n,i=l.value){let o=i+n;for(;-1!==o&&o<a.length;){const e=a[o];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return L(n),s=!0,t("update:modelValue",e.props.name),void setTimeout(()=>{s=!1});o+=n}!0===e.infinite&&0!==a.length&&-1!==i&&i!==a.length&&M(n,-1===n?a.length:-1)}function N(){const t=I(e.modelValue);return l.value!==t&&(l.value=t),!0}function j(){const t=!0===D(e.modelValue)&&N()&&a[l.value];return!0===e.keepAlive?[x(C,S.value,[x(!0===B.value?i(q.value,()=>({...V,name:q.value})):V,{key:q.value,style:A.value},()=>t)])]:[x("div",{class:"q-panel scroll",style:A.value,key:q.value,role:"tabpanel"},[t])]}return b(()=>e.modelValue,(n,i)=>{const a=!0===D(n)?I(n):-1;!0!==s&&L(-1===a?0:a<I(i)?-1:1),l.value!==a&&(l.value=a,t("beforeTransition",n,i),o(()=>{t("transition",n,i)},e.transitionDuration))}),Object.assign(n,{next:T,previous:_,goTo:E}),{panelIndex:l,panelDirectives:d,updatePanelsList:function(e){return a=p(m(e.default,[])).filter(e=>null!==e.props&&void 0===e.props.slot&&!0===D(e.props.name)),a.length},updatePanelIndex:N,getPanelContent:function(){if(0!==a.length)return!0===e.animated?[x(P,{name:r.value},j)]:j()},getEnabledPanels:function(){return a.filter(e=>""!==e.props.disable&&!0!==e.props.disable)},getPanels:function(){return a},isValidPanelName:D,keepAliveProps:S,needsUniqueKeepAliveWrapper:B,goToPanelByOffset:M,goToPanel:E,nextPanel:T,previousPanel:_}}export{S as a,q as b,B as c,A as u};
