import{p as e,u as l,d as a,Q as o,a as t,o as s,g as n,n as i,m as r,aD as d,b as m}from"./app-DXXarK7I.js";import{Q as u}from"./QSelect-OI6RFhnT.js";import{Q as c}from"./QTable-CIXbyzJI.js";import f from"./DynamicTable-ChhrS2tU.js";import{u as p}from"./i18n-BbKXhR_S.js";import{f as b,k as y,L as v,I as g,b as w,J as V,M as _,U as j,x as k}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./ui-B__oX9pK.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-BVGvqYSu.js";import"./QLinearProgress-BEkk-xFg.js";import"./use-fullscreen-DIOkwRkq.js";const x={class:"p-6 space-y-6"},S={class:"text-xl font-bold"},h={key:0,class:"text-gray-500 text-center"},J={key:1},N={class:"mb-4 font-semibold"},O={class:"font-semibold mb-2"},C=e({__name:"TableManager",setup(e){const{notsafe_t:C}=p(),T=e=>{if(!e||"string"!=typeof e)return e||"";try{return C(e)}catch(l){return e}},U=l(),L=b([]),Q=b([]),I=b(""),M=b(!1),A=[{name:"key",label:T("common.field")||"Field",field:"key",align:"left"},{name:"label",label:T("common.label")||"Label",field:"label",align:"left"},{name:"type",label:T("common.type")||"Type",field:"type",align:"center"},{name:"visible",label:T("common.visible")||"Visible",field:"visible",align:"center"}];function P(){M.value=!0}function D(){try{const e=JSON.parse(I.value);if(!Array.isArray(e))throw new Error("Invalid format");L.value=e,U.notify({message:"âœ… JSON Loaded Successfully",color:"green"})}catch(e){U.notify({message:"âŒ Invalid JSON",color:"red"})}M.value=!1}function E(){try{const e=I.value;if(!Array.isArray(e))throw new Error("Invalid format");L.value=e,U.notify({message:"âœ… JSON Loaded Successfully",color:"green"})}catch(e){U.notify({message:"âŒ Invalid JSON",color:"red"})}M.value=!1}function R(){const e=JSON.stringify(Q.value,null,2);navigator.clipboard.writeText(e),U.notify({message:"ðŸ“‹ Configuration copied",color:"primary"})}return y(L,e=>{if(e.length){const l=e[0];Q.value=Object.keys(l).map(e=>({key:e,label:T(`user.${e}`)||e,type:typeof l[e],visible:!0}))}}),(e,l)=>(g(),v("div",x,[w(i,{class:"shadow-md rounded-xl"},{default:V(()=>[w(a,{class:"flex justify-between items-center"},{default:V(()=>[_("div",S,j(T("common.settings")||"Table Manager"),1),_("div",null,[w(o,{color:"primary",icon:"content_paste",label:"Paste JSON",onClick:P}),w(o,{color:"secondary",icon:"file_copy",label:"Copy Config",onClick:R,class:"ml-2"})])]),_:1}),w(t),w(a,null,{default:V(()=>[L.value.length?(g(),v("div",J,[_("div",N,j(T("common.preview")||"Table Preview"),1),w(f,{data:L.value,config:Q.value},null,8,["data","config"]),w(t,{class:"my-4"}),_("div",O,j(T("common.edit")||"Edit Configuration"),1),w(c,{flat:"",rows:Q.value,columns:A,"row-key":"key",dense:""},{"body-cell-label":V(e=>[w(n,{modelValue:e.row.label,"onUpdate:modelValue":l=>e.row.label=l,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),"body-cell-type":V(e=>[w(u,{modelValue:e.row.type,"onUpdate:modelValue":l=>e.row.type=l,options:["text","email","number","button","list"],outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),"body-cell-visible":V(e=>[w(s,{modelValue:e.row.visible,"onUpdate:modelValue":l=>e.row.visible=l,color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["rows"])])):(g(),v("div",h,j(T("common.noResults")||"No JSON data provided"),1))]),_:1})]),_:1}),w(m,{modelValue:M.value,"onUpdate:modelValue":l[1]||(l[1]=e=>M.value=e),persistent:""},{default:V(()=>[w(i,{style:{"min-width":"500px"}},{default:V(()=>[w(a,null,{default:V(()=>[l[2]||(l[2]=_("div",{class:"text-lg font-semibold mb-2"},"Paste JSON Data",-1)),w(n,{modelValue:I.value,"onUpdate:modelValue":l[0]||(l[0]=e=>I.value=e),type:"textarea",autogrow:""},null,8,["modelValue"])]),_:1}),w(r,{align:"right"},{default:V(()=>[k(w(o,{flat:"",label:"Cancel",color:"grey"},null,512),[[d]]),w(o,{flat:"",label:"Load",color:"primary",onClick:D}),w(o,{flat:"",label:"Load Text",color:"primary",onClick:E})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-457d8b7d"]]);export{C as default};
