import{f as e,o as t,k as a,a as l,N as s,J as r,b as u,O as o,z as n,a4 as d,y as i,ac as c,F as x,R as p,ae as v,U as g,V as y,a2 as m,W as b,Q as h}from"./vendor-nQjeLEvd.js";const f={class:"p-4"},w={class:"mb-4"},T={class:"mb-4"},k={class:"flex flex-wrap gap-2"},E=["value"],S={class:"mb-4"},C={class:"flex flex-wrap gap-2 mb-2"},P=["onClick"],U=["onClick"],L={class:"flex"},A={class:"bg-white rounded shadow overflow-hidden"},O={class:"min-w-full divide-y divide-gray-200"},D={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap"},F={class:"flex space-x-1"},H={class:"px-6 py-4"},I=["href"],N={key:1},R={class:"px-6 py-4"},V={class:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate"},q={class:"mt-4 text-sm text-gray-500"},J={key:0},_={__name:"Index",props:{routeData:Array},setup(_){const j=e(_.routeData||[]),M=e(""),W=e([]),z=e([]),K=e("");t(()=>{const e=localStorage.getItem("route-tags");e&&(z.value=JSON.parse(e))}),a(z,e=>{localStorage.setItem("route-tags",JSON.stringify(e))},{deep:!0});const Q=l(()=>{const e=new Set;return j.value.forEach(t=>{t.methods.forEach(t=>e.add(t))}),Array.from(e).sort()}),B=()=>{K.value&&!z.value.some(e=>e.query===K.value)&&(z.value.push({query:K.value,label:K.value}),K.value="")},X=l(()=>{let e=j.value;if(W.value.length>0&&(e=e.filter(e=>e.methods.some(e=>W.value.includes(e)))),M.value){const t=M.value.toLowerCase();e=e.filter(e=>{var a;return e.uri.toLowerCase().includes(t)||(null==(a=e.name)?void 0:a.toLowerCase().includes(t))||e.methods.some(e=>e.toLowerCase().includes(t))})}return e});return(e,t)=>(r(),s("div",null,[u(n(d),{title:"System Routes"}),o("div",f,[t[6]||(t[6]=o("h1",{class:"text-2xl font-bold mb-4"},"System Routes",-1)),o("div",w,[i(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>M.value=e),type:"text",placeholder:"Search routes...",class:"w-full p-2 border rounded"},null,512),[[c,M.value]])]),o("div",T,[t[3]||(t[3]=o("h3",{class:"text-lg font-semibold mb-2"},"Filter by Method:",-1)),o("div",k,[(r(!0),s(x,null,p(Q.value,e=>(r(),s("label",{key:e,class:"inline-flex items-center cursor-pointer"},[i(o("input",{type:"checkbox",value:e,"onUpdate:modelValue":t[1]||(t[1]=e=>W.value=e),class:"mr-1"},null,8,E),[[v,W.value]]),o("span",{class:g({"px-2 py-1 text-xs font-medium rounded":!0,"bg-green-100 text-green-800":"GET"===e,"bg-blue-100 text-blue-800":"POST"===e,"bg-yellow-100 text-yellow-800":"PUT"===e||"PATCH"===e,"bg-red-100 text-red-800":"DELETE"===e,"bg-gray-100 text-gray-800":!["GET","POST","PUT","PATCH","DELETE"].includes(e)})},y(e),3)]))),128))])]),o("div",S,[t[4]||(t[4]=o("h3",{class:"text-lg font-semibold mb-2"},"Saved Filters:",-1)),o("div",C,[(r(!0),s(x,null,p(z.value,(e,t)=>(r(),s("div",{key:t,class:"bg-blue-100 text-blue-800 px-2 py-1 rounded flex items-center"},[o("span",{onClick:t=>(e=>{M.value=e.query})(e),class:"cursor-pointer mr-1"},y(e.label),9,P),o("button",{onClick:e=>(e=>{z.value.splice(e,1)})(t),class:"text-blue-600 hover:text-blue-800"}," Ã— ",8,U)]))),128))]),o("div",L,[i(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>K.value=e),type:"text",placeholder:"Save current search as tag...",class:"p-2 border rounded flex-grow",onKeyup:m(B,["enter"])},null,544),[[c,K.value]]),o("button",{onClick:B,class:"ml-2 bg-blue-500 text-white px-4 py-2 rounded"}," Save ")])]),o("div",null,[o("div",A,[o("table",O,[t[5]||(t[5]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Methods"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"URI"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),o("tbody",D,[(r(!0),s(x,null,p(X.value,(e,t)=>(r(),s("tr",{key:t,class:"hover:bg-gray-50"},[o("td",G,[o("div",F,[(r(!0),s(x,null,p(e.methods,e=>(r(),s("span",{key:e,class:g({"px-2 py-1 text-xs font-medium rounded":!0,"bg-green-100 text-green-800":"GET"===e,"bg-blue-100 text-blue-800":"POST"===e,"bg-yellow-100 text-yellow-800":"PUT"===e||"PATCH"===e,"bg-red-100 text-red-800":"DELETE"===e,"bg-gray-100 text-gray-800":!["GET","POST","PUT","PATCH","DELETE"].includes(e)})},y(e),3))),128))])]),o("td",H,[e.methods.includes("GET")&&!e.uri.startsWith("api/")?(r(),s("a",{key:0,href:"/"+e.uri,target:"_blank",class:"text-blue-600 hover:underline"},y(e.uri),9,I)):(r(),s("span",N,y(e.uri),1))]),o("td",R,y(e.name||"-"),1),o("td",V,y(e.action),1)]))),128))])])]),o("div",q,[b(" Total routes: "+y(X.value.length)+" (of "+y(j.value.length)+") ",1),W.value.length>0?(r(),s("span",J," | Filtered by methods: "+y(W.value.join(", ")),1)):h("",!0)])])])]))}};export{_ as default};
