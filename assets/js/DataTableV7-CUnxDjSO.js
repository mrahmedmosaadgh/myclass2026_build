import{_ as e}from"./LucideIcon-BIJr1cpK.js";import t from"./Pagination7-6i2PMJDc.js";import{_ as a}from"./PrimaryButton-DNYxrPcC.js";import{_ as l}from"./SecondaryButton-BH3tlEGv.js";import{_ as s}from"./TextInput-DDVm4lUS.js";import{_ as r}from"./ImportExcel-3BOLBL-P.js";import i from"./Dropdown8-CtF-m6Mq.js";import{o}from"./app-BwCflFkV.js";import{f as n,a as c,L as p,I as u,M as m,O as d,b as y,J as f,V as g,a1 as x,S as h,F as v,Q as b,U as w,H as k}from"./vendor-CUZ9QTQV.js";import"./createLucideIcon-D8qi68V_.js";import"./align-right-BZZ7ajs4.js";import"./underline-o77cex9c.js";import"./image-odJN2dKV.js";import"./printer-D7revZzT.js";import"./Modal-Bxqmvcy5.js";import"./xlsx-cMC2LkxH.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const j={class:"space-y-4"},C={class:"flex justify-between items-center mb-6 bg-white p-4 rounded-lg shadow-sm"},_={class:"flex space-x-3"},I={class:"py-1"},$=["onClick"],A={class:"flex items-center space-x-2"},q={class:"relative"},S={key:0,class:"sr-only"},P={class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},D={class:"bg-gray-50"},U=["onClick"],F={key:0},M={key:0,class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},L={class:"bg-white divide-y divide-gray-200"},Q={key:0,class:"px-6 py-4 whitespace-nowrap text-right text-sm"},V=["onClick"],E={key:0,class:"mt-4"},N=o({__name:"DataTableV7",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0},actions:{type:Array,default:()=>[]},searchable:{type:Boolean,default:!1},perPage:{type:Number,default:10},loading:{type:Boolean,default:!1},pagination:{type:Array,default:()=>[]},baseUrl:{type:String,required:!0},importColumns:{type:Array,required:!0},isFiltered:{type:Boolean,default:!1},searchQuery:{type:String,default:""}},emits:["sort","search","action","page-changed","add-new","import","export","clear-search","update:search-query","print"],setup(o,{emit:N}){const T=o,z=N,G=n(""),H=n(""),J=n("asc"),K=c(()=>T.actions.length>0),O=c(()=>T.items),R=(e,t)=>{var a;return null!=(a=t.split(".").reduce((e,t)=>null==e?void 0:e[t],e))?a:""},W=(e,t)=>{var a;return null!=(a=e.id)?a:t},X=(e,t)=>"function"==typeof e.class?e.class(R(t,e.key),t):e.class,Y=(e,t)=>"function"!=typeof e.show||e.show(t),Z=e=>e.class||"text-blue-600 hover:text-blue-800";return(n,c)=>{var N;return u(),p("div",j,[m("div",C,[m("div",_,[y(a,{onClick:c[0]||(c[0]=e=>n.$emit("add-new")),class:"flex items-center transition-colors duration-150 bg-transparent",title:"Add New Documentation"},{default:f(()=>[y(e,{name:"plus",class:"w-6 h-6 text-blue-600"})]),_:1}),y(i,{align:"left",width:"48","auto-hide":!0},{trigger:f(()=>[y(l,{class:"flex items-center",title:"More Actions"},{default:f(()=>[y(e,{name:"more-vertical",class:"w-5 h-5"})]),_:1})]),content:f(()=>[m("div",I,[y(r,{onImported:c[1]||(c[1]=e=>n.$emit("import")),"validate-url":o.baseUrl+"/validate-import","import-url":o.baseUrl+"/import",columns:o.importColumns,"button-text":"Import Documentation","preview-title":"Preview Data",title:"Import Questions"},{default:f(({openModal:t})=>[m("button",{onClick:t,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center"},[y(e,{name:"upload",class:"w-4 h-4 mr-3"}),c[9]||(c[9]=g(" Import "))],8,$)]),_:1},8,["validate-url","import-url","columns"]),m("button",{onClick:c[2]||(c[2]=e=>n.$emit("export")),class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center"},[y(e,{name:"download",class:"w-4 h-4 mr-3"}),c[10]||(c[10]=g(" Export "))]),m("button",{onClick:c[3]||(c[3]=e=>n.$emit("print")),class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center"},[y(e,{name:"printer",class:"w-4 h-4 mr-3"}),c[11]||(c[11]=g(" Print "))])])]),_:1})]),m("div",A,[m("div",q,[y(s,{"model-value":G.value,"onUpdate:modelValue":c[4]||(c[4]=e=>n.$emit("update:search-query",e)),type:"text",placeholder:"Search...",class:"w-64 pl-10",onKeyup:c[5]||(c[5]=x(e=>n.$emit("search"),["enter"]))},null,8,["model-value"]),y(e,{name:"search",class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]),y(a,{onClick:c[6]||(c[6]=e=>n.$emit("search")),disabled:o.loading,class:"flex items-center bg-transparent",title:"Search"},{default:f(()=>[y(e,{name:"search",class:h(["w-5 h-5 text-blue-500",{"animate-spin":o.loading}])},null,8,["class"]),o.loading?(u(),p("span",S,"Searching...")):d("",!0)]),_:1},8,["disabled"]),o.isFiltered?(u(),p("button",{key:0,onClick:c[7]||(c[7]=e=>n.$emit("clear-search")),class:"text-gray-500 hover:text-red-500"}," ✕ ")):d("",!0)])]),m("div",P,[m("table",B,[m("thead",D,[m("tr",null,[(u(!0),p(v,null,b(o.columns,(e,t)=>(u(),p("th",{key:t,onClick:t=>{return e.sortable?(a=e.key,H.value===a?J.value="asc"===J.value?"desc":"asc":(H.value=a,J.value="asc"),void z("sort",{key:a,order:J.value})):null;var a},class:h(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",e.sortable?"cursor-pointer hover:text-gray-700":""])},[g(w(e.label)+" ",1),e.sortable&&H.value===e.key?(u(),p("span",F,w("asc"===J.value?"↑":"↓"),1)):d("",!0)],10,U))),128)),K.value?(u(),p("th",M," Actions ")):d("",!0)])]),m("tbody",L,[(u(!0),p(v,null,b(O.value,(t,a)=>(u(),p("tr",{key:W(t,a)},[(u(!0),p(v,null,b(o.columns,(e,a)=>(u(),p("td",{key:a,class:h(["px-6 py-4 whitespace-nowrap",X(e,t)])},w(R(t,e.key)),3))),128)),K.value?(u(),p("td",Q,[(u(!0),p(v,null,b(o.actions,(a,l)=>(u(),p(v,{key:l},[Y(a,t)?(u(),p("button",{key:0,onClick:e=>((e,t)=>{"function"==typeof e.action?e.action(t):z("action",{type:e.type,item:t})})(a,t),class:h([Z(a),"ml-2 first:ml-0"])},[a.icon?(u(),k(e,{key:0,name:a.icon,class:h(["w-4 h-4 inline-block",a.iconClass])},null,8,["name","class"])):d("",!0),g(" "+w(a.label),1)],10,V)):d("",!0)],64))),128))])):d("",!0)]))),128))])])]),(null==(N=o.pagination)?void 0:N.length)>0?(u(),p("div",E,[y(t,{links:o.pagination,loading:o.loading,onPageChanged:c[8]||(c[8]=e=>n.$emit("page-changed",e))},null,8,["links","loading"])])):d("",!0)])}}},[["__scopeId","data-v-3e892f19"]]);export{N as default};
