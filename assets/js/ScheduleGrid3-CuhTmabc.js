import{p as e}from"./app-BzjXrVp9.js";import{a as l,f as a,e as r,L as d,I as s,M as t,O as u,F as i,Q as n,U as o,S as c,$ as p}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const y={class:"relative h-[80vh] w-full"},v={key:0,class:"sticky top-0 z-40 bg-white shadow-md border-b border-gray-200"},h={class:"flex w-max"},m={class:"flex flex-nowrap"},x={class:"overflow-auto h-[calc(80vh-3rem)]"},f={class:"flex flex-nowrap"},b=["onClick"],g=e({__name:"ScheduleGrid3",props:{schoolId:{type:[String,Number],required:!0},scheduleCopyId:{type:[String,Number],required:!0},teachers:{type:Array,required:!0,default:()=>[]},days:{type:Array,default:()=>["Sunday","Monday","Tuesday","Wednesday","Thursday"]},periods:{type:Number,default:8},scheduleData:{type:Array,default:()=>[]}},emits:["cell-click"],setup(e,{emit:g}){const w=e,k=l(()=>[{id:null,name:""},...w.teachers]),I=g;a({day:null,period:null,teacher:null});const j=a({day:null,period:null,teacher:null});a({}),a({}),a(null),a(null);const S=a(null),z=a(null),C=e=>{S.value&&(S.value=null,j.value={day:null,period:null,teacher:null},I("cell-click",{teacherIndex:null,dayIndex:null,periodIndex:null}))};return r(()=>{z.value&&clearTimeout(z.value)}),(l,a)=>(s(),d("div",y,[t("div",{class:"schedule-grid pt-16",onContextmenu:p(C,["prevent"])},[k.value.length>0?(s(),d("section",v,[t("div",h,[a[0]||(a[0]=t("div",{class:"sticky left-0 z-50 w-[140px] h-12 flex items-center px-3 font-medium text-gray-700 bg-white border-r border-gray-200"}," Teacher ",-1)),t("div",m,[(s(!0),d(i,null,n(e.periods,(e,l)=>(s(),d("div",{key:l,class:"w-[70px] h-12 flex items-center justify-center text-sm font-medium bg-gray-100 border-r border-gray-300"},o(e),1))),128))])])])):u("",!0),t("div",x,[(s(!0),d(i,null,n(k.value,(l,a)=>(s(),d("div",{key:a,class:c(["flex w-max",j.value.teacher===a?"bg-red-50 z-20":"hover:bg-gray-50"])},[t("div",{class:c(["sticky left-0 z-30 w-[140px] h-12 flex items-center px-2 border-r border-gray-200 bg-white",j.value.teacher===a?"bg-red-500 text-white":""])},o(l.name),3),t("div",f,[(s(!0),d(i,null,n(e.periods,(e,l)=>(s(),d("div",{key:l,class:"flex flex-col"},[(s(!0),d(i,null,n(w.days,(e,r)=>(s(),d("div",{key:r,class:"period-cell hover:scale-105 transition-all duration-200 ease-in-out",onClick:e=>((e,l,a)=>{S.value=l+"-"+a+"-"+e,console.log(S.value),j.value.day=l,j.value.period=a,j.value.teacher=e,I("cell-click",{teacherIndex:e,dayIndex:l,periodIndex:a})})(a,r,l)},o(((e,l,a)=>{var r,d;return(null==(d=null==(r=w.scheduleData[e])?void 0:r[l])?void 0:d[a])||{empty:!0,id:`empty-${e}-${l}-${a}`}})(a,r,l)),9,b))),128))]))),128))])],2))),128))])],32)]))}},[["__scopeId","data-v-63dccbb4"]]);export{g as default};
