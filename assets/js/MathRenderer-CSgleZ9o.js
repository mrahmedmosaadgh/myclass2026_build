import{k as e}from"./katex-BXKQVcz-.js";import{a as r,M as t,J as n}from"./vendor-DuKqz2x4.js";const a=["innerHTML"],s={__name:"MathRenderer",props:{content:{type:String,default:""},inlineDelimiter:{type:String,default:"$"},displayDelimiter:{type:String,default:"$$"}},setup(s){const l=s,i=r(()=>{if(!l.content)return"";const r=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=r(l.inlineDelimiter),n=r(l.displayDelimiter),a=new RegExp(`${n}([\\s\\S]*?)${n}|${t}([\\s\\S]*?)${t}`,"g");let s,i=0,c="";for(;null!==(s=a.exec(l.content));){const r=l.content.slice(i,s.index);c+=o(r);const t=s[1],n=s[2];try{t?c+=e.renderToString(t,{throwOnError:!1,displayMode:!0}):n&&(c+=e.renderToString(n,{throwOnError:!1,displayMode:!1}))}catch(p){c+=`<span class="text-red-500">Error: ${p.message}</span>`}i=a.lastIndex}return c+=o(l.content.slice(i)),c}),o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return(e,r)=>(n(),t("span",{class:"math-renderer",innerHTML:i.value},null,8,a))}};export{s as default};
