import{p as e}from"./app-BzjXrVp9.js";import{u as a}from"./i18n-BbKXhR_S.js";import{f as s,a as t,o as l,e as n,L as i,I as o,M as c,O as r,U as d,y as u,F as m,Q as v,R as p,V as k,S as y,$ as b,x as g,ab as f}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./ui-B__oX9pK.js";const h={class:"daily-planner-container"},_={class:"planner-header"},w={class:"welcome-section"},C={class:"welcome-title"},D={class:"current-time"},P={class:"progress-section"},j={class:"points-display"},T={class:"points-label"},x={class:"points-value"},S={class:"achievement-badges"},H={class:"material-icons"},I={class:"calendar-timeline"},U={class:"time-scale"},M={class:"tasks-timeline"},L={class:"task-card"},V={class:"task-icon"},A={class:"task-content"},$={class:"task-title"},F={class:"task-time"},G={key:0,class:"task-description"},O={class:"task-actions"},Y=["onClick","title"],z=["onClick","title"],E=["onClick","title"],K=["onClick","title"],Q={key:2,class:"completion-badge"},R={class:"badge-text"},q={class:"task-progress"},B={key:0,class:"motivation-section"},J={class:"motivation-card"},N={class:"motivation-content"},W={class:"motivation-icon"},X={class:"motivation-text"},Z={class:"floating-btn"},ee=["title"],ae={class:"modal-header"},se={class:"modal-body"},te={class:"form-group"},le=["placeholder"],ne={class:"form-group"},ie=["placeholder"],oe={class:"form-row"},ce={class:"form-group"},re={class:"form-group"},de={class:"modal-footer"},ue={class:"modal-header"},me={class:"modal-body"},ve={class:"modal-footer"},pe={key:3,class:"celebration-overlay"},ke={class:"celebration-message"},ye=e({__name:"dp_DailyPlanner",props:{tasks:{type:Array,default:()=>[]}},setup(e){const{t:ye,locale:be}=a(),ge=e,fe=s(""),he=s(!1),_e=s(!1),we=s(!1),Ce=s({}),De=s(null),Pe=s([]),je=s(0),Te=s(!1),xe=t(()=>{const e=[];for(let a=6;a<=22;a++)e.push(a);return e}),Se=t(()=>{const e=new Date,a=e.getHours()+e.getMinutes()/60;return a<6?0:a>22?100:(a-6)/16*100}),He=t(()=>"ar"===be.value?[{emoji:"ðŸŒ…",message:"ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±! Ø§Ø³ØªØ¹Ø¯ Ù„Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ… Ø±Ø§Ø¦Ø¹!"},{emoji:"ðŸ’ª",message:"Ø£Ù†Øª ØªÙ‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹! Ø§Ø³ØªÙ…Ø±!"},{emoji:"ðŸŽ¯",message:"Ø±ÙƒØ² Ø¹Ù„Ù‰ Ù‡Ø¯ÙÙƒ ÙˆØ³ØªØµÙ„ Ø¥Ù„ÙŠÙ‡!"},{emoji:"â­",message:"ÙƒÙ„ Ù…Ù‡Ù…Ø© ØªÙƒÙ…Ù„Ù‡Ø§ ØªØ¬Ø¹Ù„Ùƒ Ø£Ù‚ÙˆÙ‰!"},{emoji:"ðŸ†",message:"Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ!"}]:[{emoji:"ðŸŒ…",message:"Good morning! Get ready for an amazing day!"},{emoji:"ðŸ’ª",message:"You're doing great! Keep going!"},{emoji:"ðŸŽ¯",message:"Focus on your goal and you'll reach it!"},{emoji:"â­",message:"Every task you complete makes you stronger!"},{emoji:"ðŸ†",message:"You are a true champion!"}]),Ie=t(()=>{const e=(new Date).getHours(),a=He.value;return e<9?a[0]:e<12?a[1]:e<15?a[2]:e<18?a[3]:a[4]}),Ue=()=>{const e=new Date;fe.value=e.toLocaleTimeString("ar"===be.value?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},Me=e=>{if(!e)return"";const[a,s]=e.split(":"),t=new Date;t.setHours(a,s);return t.toLocaleTimeString("ar"===be.value?"ar-SA":"en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},Le=e=>(new Date).getHours()===e,Ve=e=>{if(!e.start_time||!e.end_time)return!1;const a=new Date,[s,t]=e.start_time.split(":"),[l,n]=e.end_time.split(":"),i=new Date;i.setHours(s,t,0);const o=new Date;return o.setHours(l,n,0),a>=i&&a<=o},Ae=e=>{if(!e.end_time)return!1;const a=new Date,[s,t]=e.end_time.split(":"),l=new Date;return l.setHours(s,t,0),a>l},$e=e=>{if(!e.start_time||!e.end_time)return{};const[a,s]=e.start_time.split(":"),[t,l]=e.end_time.split(":"),n=parseInt(a)+parseInt(s)/60,i=(n-6)/16*100,o=(parseInt(t)+parseInt(l)/60-n)/16*100;return{left:`${Math.max(0,i)}%`,width:`${Math.min(100-i,o)}%`}},Fe=e=>{const a=e.title.toLowerCase();return a.includes("Ø±ÙŠØ§Ø¶Ø©")||a.includes("ØªÙ…Ø±ÙŠÙ†")||a.includes("sport")||a.includes("exercise")?"ðŸƒâ€â™‚ï¸":a.includes("Ø¯Ø±Ø§Ø³Ø©")||a.includes("ÙˆØ§Ø¬Ø¨")||a.includes("study")||a.includes("homework")?"ðŸ“š":a.includes("Ø¥ÙØ·Ø§Ø±")||a.includes("ØºØ¯Ø§Ø¡")||a.includes("Ø¹Ø´Ø§Ø¡")||a.includes("breakfast")||a.includes("lunch")||a.includes("dinner")?"ðŸ½ï¸":a.includes("Ø§Ø³ØªØ±Ø§Ø­Ø©")||a.includes("break")||a.includes("rest")?"â˜•":a.includes("Ù„Ø¹Ø¨")||a.includes("play")||a.includes("game")?"ðŸŽ®":a.includes("Ù‚Ø±Ø§Ø¡Ø©")||a.includes("read")?"ðŸ“–":a.includes("Ù…ÙˆØ³ÙŠÙ‚Ù‰")||a.includes("music")?"ðŸŽµ":"â­"},Ge=e=>"completed"===e.status?"#00b894":Ve(e)?"#fdcb6e":Ae(e)?"#636e72":"#74b9ff",Oe=e=>{if("completed"===e.status)return 1;if(!Ve(e))return 0;const a=new Date,[s,t]=e.start_time.split(":"),[l,n]=e.end_time.split(":"),i=new Date;i.setHours(s,t,0);const o=new Date;o.setHours(l,n,0);const c=o-i,r=a-i;return Math.min(1,Math.max(0,r/c))},Ye=()=>{Ce.value={id:Date.now(),title:"",description:"",start_time:"09:00",end_time:"10:00",status:"pending"},_e.value=!0},ze=()=>{console.log("Saving task:",Ce.value);const e=ge.tasks.findIndex(e=>e.id===Ce.value.id);e>=0?Object.assign(ge.tasks[e],Ce.value):ge.tasks.push(Ce.value),Ke()},Ee=()=>{const e=ge.tasks.findIndex(e=>e.id===De.value.id);e>=0&&ge.tasks.splice(e,1),Qe()},Ke=()=>{_e.value=!1,Ce.value={}},Qe=()=>{we.value=!1,De.value=null};let Re;return l(()=>{Ue(),Re=setInterval(Ue,1e3)}),n(()=>{Re&&clearInterval(Re)}),(a,s)=>{var t;return o(),i("div",h,[c("div",_,[c("div",w,[c("h1",C,d(u(ye)("dailyPlanner.welcomeTitle")),1),c("div",D,[s[6]||(s[6]=c("i",{class:"material-icons"},"schedule",-1)),c("span",null,d(fe.value),1)])]),c("div",P,[c("div",j,[c("span",T,d(u(ye)("dailyPlanner.points"))+":",1),c("span",x,d(je.value||0),1)]),c("div",S,[(o(!0),i(m,null,v(Pe.value,e=>(o(),i("div",{key:e.id,class:"badge bounce-in",style:p({backgroundColor:e.color})},[c("i",H,d(e.icon),1),k(" "+d(e.name),1)],4))),128))])])]),c("div",I,[c("div",U,[(o(!0),i(m,null,v(xe.value,e=>(o(),i("div",{key:e,class:y(["time-marker",{"current-hour":Le(e)}])},d((e=>{const a=new Date;return a.setHours(e,0),a.toLocaleTimeString("ar"===be.value?"ar-SA":"en-US",{hour:"2-digit",hour12:!0})})(e)),3))),128))]),c("div",{class:"current-time-line",style:p({left:Se.value+"%"})},s[7]||(s[7]=[c("div",{class:"time-indicator"},[c("i",{class:"material-icons"},"schedule"),c("span",{class:"pulse-dot"})],-1)]),4),c("div",M,[(o(!0),i(m,null,v(e.tasks||[],e=>(o(),i("div",{key:e.id,class:y(["task-block",[`status-${e.status}`,{"current-task":Ve(e)},{"past-task":Ae(e)}]]),style:p($e(e))},[c("div",L,[c("div",V,d(Fe(e)),1),c("div",A,[c("h3",$,d(e.title),1),c("p",F,d(Me(e.start_time))+" - "+d(Me(e.end_time)),1),e.description?(o(),i("p",G,d(e.description),1)):r("",!0)]),c("div",O,["completed"!==e.status&&Ve(e)?(o(),i("button",{key:0,class:"action-btn complete-btn bounce",onClick:b(a=>(async e=>{e.status="completed",je.value+=10,he.value=!0,setTimeout(()=>{he.value=!1},3e3);const a="ar"===be.value?"Ù…ÙƒØªÙ…Ù„!":"Done!";Pe.value.unshift({id:Date.now(),name:a,color:"#00b894",icon:"star"}),Pe.value.length>3&&Pe.value.pop()})(e),["stop"]),title:u(ye)("dailyPlanner.completeTask")},s[8]||(s[8]=[c("i",{class:"material-icons"},"check",-1)]),8,Y)):r("",!0),Ve(e)&&!Te.value?(o(),i("button",{key:1,class:"action-btn focus-btn",onClick:b(a=>(e=>{console.log("Starting focus for task:",e.title)})(e),["stop"]),title:u(ye)("dailyPlanner.startFocus")},s[9]||(s[9]=[c("i",{class:"material-icons"},"timer",-1)]),8,z)):r("",!0),c("button",{class:"action-btn edit-btn",onClick:b(a=>(e=>{Ce.value={...e},_e.value=!0})(e),["stop"]),title:u(ye)("dailyPlanner.editTask")},s[10]||(s[10]=[c("i",{class:"material-icons"},"edit",-1)]),8,E),c("button",{class:"action-btn delete-btn",onClick:b(a=>(e=>{De.value=e,we.value=!0})(e),["stop"]),title:u(ye)("dailyPlanner.deleteTask")},s[11]||(s[11]=[c("i",{class:"material-icons"},"delete",-1)]),8,K),"completed"===e.status?(o(),i("div",Q,[s[12]||(s[12]=c("i",{class:"material-icons rotate"},"star",-1)),c("span",R,d(u(ye)("dailyPlanner.completed")),1)])):r("",!0)])]),c("div",q,[c("div",{class:"progress-bar",style:p({width:100*Oe(e)+"%",backgroundColor:Ge(e)})},null,4)])],6))),128))])]),Ie.value?(o(),i("div",B,[c("div",J,[c("div",N,[c("div",W,d(Ie.value.emoji),1),c("p",X,d(Ie.value.message),1)])])])):r("",!0),c("div",Z,[c("button",{class:"fab pulse",onClick:Ye,title:u(ye)("dailyPlanner.addTask")},s[13]||(s[13]=[c("i",{class:"material-icons"},"add_task",-1)]),8,ee)]),_e.value?(o(),i("div",{key:1,class:"modal-overlay",onClick:Ke},[c("div",{class:"modal-content",onClick:s[4]||(s[4]=b(()=>{},["stop"]))},[c("div",ae,[c("h3",null,d(u(ye)("dailyPlanner.editTask")),1),c("button",{class:"close-btn",onClick:Ke},s[14]||(s[14]=[c("i",{class:"material-icons"},"close",-1)]))]),c("div",se,[c("div",te,[c("label",null,d(u(ye)("dailyPlanner.taskTitle")),1),g(c("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>Ce.value.title=e),type:"text",class:"form-input",placeholder:u(ye)("dailyPlanner.enterTitle")},null,8,le),[[f,Ce.value.title]])]),c("div",ne,[c("label",null,d(u(ye)("dailyPlanner.description")),1),g(c("textarea",{"onUpdate:modelValue":s[1]||(s[1]=e=>Ce.value.description=e),class:"form-textarea",placeholder:u(ye)("dailyPlanner.enterDescription")},null,8,ie),[[f,Ce.value.description]])]),c("div",oe,[c("div",ce,[c("label",null,d(u(ye)("dailyPlanner.startTime")),1),g(c("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>Ce.value.start_time=e),type:"time",class:"form-input"},null,512),[[f,Ce.value.start_time]])]),c("div",re,[c("label",null,d(u(ye)("dailyPlanner.endTime")),1),g(c("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>Ce.value.end_time=e),type:"time",class:"form-input"},null,512),[[f,Ce.value.end_time]])])])]),c("div",de,[c("button",{class:"btn btn-secondary",onClick:Ke},d(u(ye)("common.cancel")),1),c("button",{class:"btn btn-primary",onClick:ze},d(u(ye)("common.save")),1)])])])):r("",!0),we.value?(o(),i("div",{key:2,class:"modal-overlay",onClick:Qe},[c("div",{class:"modal-content delete-modal",onClick:s[5]||(s[5]=b(()=>{},["stop"]))},[c("div",ue,[c("h3",null,d(u(ye)("dailyPlanner.confirmDelete")),1)]),c("div",me,[c("p",null,d(u(ye)("dailyPlanner.deleteMessage",{title:null==(t=De.value)?void 0:t.title})),1)]),c("div",ve,[c("button",{class:"btn btn-secondary",onClick:Qe},d(u(ye)("common.cancel")),1),c("button",{class:"btn btn-danger",onClick:Ee},d(u(ye)("common.delete")),1)])])])):r("",!0),he.value?(o(),i("div",pe,[c("div",ke,[c("h2",null,"ðŸŽ‰ "+d(u(ye)("dailyPlanner.congratulations"))+" ðŸŽ‰",1),c("p",null,d(u(ye)("dailyPlanner.taskCompleted")),1)])])):r("",!0)])}}},[["__scopeId","data-v-5b00765d"]]);export{ye as default};
