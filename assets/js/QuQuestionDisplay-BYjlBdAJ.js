import{Q as e}from"./QSpace-BK_PGLKv.js";import{r as t,G as l,bd as a,h as s,Q as o,g as n}from"./app-DlLesFGi.js";import{r}from"./katex-DjUCNC-N.js";import{f as u,a as i,k as d,N as c,J as p,R as m,O as y,b as _,I as v,V as q,K as b,W as f,F as w,Q as k,z as x}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./katex-BXKQVcz-.js";const V={class:"question-display"},g={class:"row items-center q-mb-md"},h={class:"text-subtitle1 text-weight-bold"},j={class:"q-mb-md"},A=["innerHTML"],M={key:0,class:"q-gutter-sm"},T={class:"row items-center"},H={class:"q-mr-sm text-weight-bold"},L=["innerHTML"],Q={key:1,class:"q-gutter-sm"},U={key:2},C={key:3},O={key:4,class:"q-mt-md"},z={key:0},B=["innerHTML"],F={key:1},I=["innerHTML"],N=t({__name:"QuQuestionDisplay",props:{question:{type:Object,required:!0},index:{type:Number,default:null},modelValue:{type:Object,default:()=>({selected_options:[],answer_text:""})},readonly:{type:Boolean,default:!0},showCorrectAnswer:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:N}){var Y,D;const E=t,G=N,J=u({selected_options:(null==(Y=E.modelValue)?void 0:Y.selected_options)||[],answer_text:(null==(D=E.modelValue)?void 0:D.answer_text)||""}),K=i(()=>r(E.question.question_text)),R=i(()=>{const e=E.question.options;if(!e)return[];let t=[];return t=Array.isArray(e)?e.length>0&&"object"==typeof e[0]&&"key"in e[0]?e:e.map((e,t)=>({key:t,value:e})):Object.entries(e).map(([e,t])=>({key:e,value:t})),t.map(e=>({...e,value:r(e.value)}))});d(()=>E.modelValue,e=>{e&&(J.value={selected_options:e.selected_options||[],answer_text:e.answer_text||""})},{deep:!0});const S=()=>{G("update:modelValue",J.value)};return(u,i)=>{return p(),c("div",V,[m("div",g,[m("div",h," Question "+q(t.index?`#${t.index}`:""),1),_(e),t.question.difficulty?(p(),v(l,{key:0,color:(N=t.question.difficulty,{easy:"green",medium:"orange",hard:"red"}[N]||"grey"),"text-color":"white"},{default:b(()=>[f(q(t.question.difficulty),1)]),_:1},8,["color"])):y("",!0),t.question.bloom_level?(p(),v(l,{key:1,color:"purple-3",icon:(d=t.question.bloom_level,{remember:"psychology",understand:"lightbulb",apply:"build",analyze:"analytics",evaluate:"fact_check",create:"auto_awesome"}[d]||"help")},{default:b(()=>{return[f(q((e=t.question.bloom_level,e?e.charAt(0).toUpperCase()+e.slice(1):"")),1)];var e}),_:1},8,["icon"])):y("",!0),_(l,{color:"primary","text-color":"white"},{default:b(()=>[f(q(t.question.marks)+" "+q(1===t.question.marks?"Mark":"Marks"),1)]),_:1})]),m("div",j,[m("div",{class:"text-body1",innerHTML:K.value},null,8,A)]),"mcq"===t.question.question_type?(p(),c("div",M,[(p(!0),c(w,null,k(R.value,e=>(p(),c("div",{key:e.key,class:"q-mb-sm"},[_(a,{modelValue:J.value.selected_options,"onUpdate:modelValue":[i[0]||(i[0]=e=>J.value.selected_options=e),S],val:e.key,disable:t.readonly},{default:b(()=>[m("div",T,[m("span",H,q(e.key)+".",1),m("span",{innerHTML:e.value},null,8,L)])]),_:2},1032,["modelValue","val","disable"])]))),128))])):"true_false"===t.question.question_type?(p(),c("div",Q,[_(a,{modelValue:J.value.selected_options[0],"onUpdate:modelValue":[i[1]||(i[1]=e=>J.value.selected_options[0]=e),S],val:"true",label:"True",disable:t.readonly},null,8,["modelValue","disable"]),_(a,{modelValue:J.value.selected_options[0],"onUpdate:modelValue":[i[2]||(i[2]=e=>J.value.selected_options[0]=e),S],val:"false",label:"False",disable:t.readonly},null,8,["modelValue","disable"])])):"short"===t.question.question_type?(p(),c("div",U,[_(s,{modelValue:J.value.answer_text,"onUpdate:modelValue":[i[3]||(i[3]=e=>J.value.answer_text=e),S],type:"text",outlined:"",label:"Your Answer",readonly:t.readonly},null,8,["modelValue","readonly"])])):"long"===t.question.question_type?(p(),c("div",C,[_(s,{modelValue:J.value.answer_text,"onUpdate:modelValue":[i[4]||(i[4]=e=>J.value.answer_text=e),S],type:"textarea",outlined:"",rows:"5",label:"Your Answer",readonly:t.readonly},null,8,["modelValue","readonly"])])):y("",!0),t.showCorrectAnswer&&t.question.correct_answer?(p(),c("div",O,[_(n,{class:"bg-green-1 text-green-9"},{avatar:b(()=>[_(o,{name:"check_circle",color:"green"})]),default:b(()=>[i[5]||(i[5]=m("strong",null,"Correct Answer:",-1)),"mcq"===t.question.question_type||"true_false"===t.question.question_type?(p(),c("span",z,[m("span",{innerHTML:x(r)(Array.isArray(t.question.correct_answer)?t.question.correct_answer.join(", "):t.question.correct_answer)},null,8,B)])):(p(),c("span",F,[m("span",{innerHTML:x(r)(t.question.correct_answer)},null,8,I)]))]),_:1})])):y("",!0)]);var d,N}}},[["__scopeId","data-v-fd53ae69"]]);export{N as default};
