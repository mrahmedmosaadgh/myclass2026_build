import{Q as e}from"./QSpace-1_yTqfel.js";import{o as t,C as l,ba as a,f as s,d as o,e as n}from"./app-Buylb2AA.js";import{r}from"./katex-BAATRBTg.js";import{f as u,a as i,k as d,L as c,I as p,M as m,O as y,b as _,H as v,U as q,J as b,V as f,F as w,Q as k,y as x}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./katex-BXKQVcz-.js";const V={class:"question-display"},g={class:"row items-center q-mb-md"},h={class:"text-subtitle1 text-weight-bold"},j={class:"q-mb-md"},M=["innerHTML"],A={key:0,class:"q-gutter-sm"},H={class:"row items-center"},L={class:"q-mr-sm text-weight-bold"},T=["innerHTML"],Q={key:1,class:"q-gutter-sm"},U={key:2},C={key:3},O={key:4,class:"q-mt-md"},B={key:0},F=["innerHTML"],I={key:1},S=["innerHTML"],Y=t({__name:"QuQuestionDisplay",props:{question:{type:Object,required:!0},index:{type:Number,default:null},modelValue:{type:Object,default:()=>({selected_options:[],answer_text:""})},readonly:{type:Boolean,default:!0},showCorrectAnswer:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:Y}){var z,D;const J=t,N=Y,$=u({selected_options:(null==(z=J.modelValue)?void 0:z.selected_options)||[],answer_text:(null==(D=J.modelValue)?void 0:D.answer_text)||""}),E=i(()=>r(J.question.question_text)),G=i(()=>{const e=J.question.options;if(!e)return[];let t=[];return t=Array.isArray(e)?e.length>0&&"object"==typeof e[0]&&"key"in e[0]?e:e.map((e,t)=>({key:t,value:e})):Object.entries(e).map(([e,t])=>({key:e,value:t})),t.map(e=>({...e,value:r(e.value)}))});d(()=>J.modelValue,e=>{e&&($.value={selected_options:e.selected_options||[],answer_text:e.answer_text||""})},{deep:!0});const K=()=>{N("update:modelValue",$.value)};return(u,i)=>{return p(),c("div",V,[m("div",g,[m("div",h," Question "+q(t.index?`#${t.index}`:""),1),_(e),t.question.difficulty?(p(),v(l,{key:0,color:(Y=t.question.difficulty,{easy:"green",medium:"orange",hard:"red"}[Y]||"grey"),"text-color":"white"},{default:b(()=>[f(q(t.question.difficulty),1)]),_:1},8,["color"])):y("",!0),t.question.bloom_level?(p(),v(l,{key:1,color:"purple-3",icon:(d=t.question.bloom_level,{remember:"psychology",understand:"lightbulb",apply:"build",analyze:"analytics",evaluate:"fact_check",create:"auto_awesome"}[d]||"help")},{default:b(()=>{return[f(q((e=t.question.bloom_level,e?e.charAt(0).toUpperCase()+e.slice(1):"")),1)];var e}),_:1},8,["icon"])):y("",!0),_(l,{color:"primary","text-color":"white"},{default:b(()=>[f(q(t.question.marks)+" "+q(1===t.question.marks?"Mark":"Marks"),1)]),_:1})]),m("div",j,[m("div",{class:"text-body1",innerHTML:E.value},null,8,M)]),"mcq"===t.question.question_type?(p(),c("div",A,[(p(!0),c(w,null,k(G.value,e=>(p(),c("div",{key:e.key,class:"q-mb-sm"},[_(a,{modelValue:$.value.selected_options,"onUpdate:modelValue":[i[0]||(i[0]=e=>$.value.selected_options=e),K],val:e.key,disable:t.readonly},{default:b(()=>[m("div",H,[m("span",L,q(e.key)+".",1),m("span",{innerHTML:e.value},null,8,T)])]),_:2},1032,["modelValue","val","disable"])]))),128))])):"true_false"===t.question.question_type?(p(),c("div",Q,[_(a,{modelValue:$.value.selected_options[0],"onUpdate:modelValue":[i[1]||(i[1]=e=>$.value.selected_options[0]=e),K],val:"true",label:"True",disable:t.readonly},null,8,["modelValue","disable"]),_(a,{modelValue:$.value.selected_options[0],"onUpdate:modelValue":[i[2]||(i[2]=e=>$.value.selected_options[0]=e),K],val:"false",label:"False",disable:t.readonly},null,8,["modelValue","disable"])])):"short"===t.question.question_type?(p(),c("div",U,[_(s,{modelValue:$.value.answer_text,"onUpdate:modelValue":[i[3]||(i[3]=e=>$.value.answer_text=e),K],type:"text",outlined:"",label:"Your Answer",readonly:t.readonly},null,8,["modelValue","readonly"])])):"long"===t.question.question_type?(p(),c("div",C,[_(s,{modelValue:$.value.answer_text,"onUpdate:modelValue":[i[4]||(i[4]=e=>$.value.answer_text=e),K],type:"textarea",outlined:"",rows:"5",label:"Your Answer",readonly:t.readonly},null,8,["modelValue","readonly"])])):y("",!0),t.showCorrectAnswer&&t.question.correct_answer?(p(),c("div",O,[_(n,{class:"bg-green-1 text-green-9"},{avatar:b(()=>[_(o,{name:"check_circle",color:"green"})]),default:b(()=>[i[5]||(i[5]=m("strong",null,"Correct Answer:",-1)),"mcq"===t.question.question_type||"true_false"===t.question.question_type?(p(),c("span",B,[m("span",{innerHTML:x(r)(Array.isArray(t.question.correct_answer)?t.question.correct_answer.join(", "):t.question.correct_answer)},null,8,F)])):(p(),c("span",I,[m("span",{innerHTML:x(r)(t.question.correct_answer)},null,8,S)]))]),_:1})])):y("",!0)]);var d,Y}}},[["__scopeId","data-v-fd53ae69"]]);export{Y as default};
