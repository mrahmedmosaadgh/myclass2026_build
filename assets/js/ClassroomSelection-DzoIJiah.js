import{o as e,n as s,Q as l,d as a,c as t,m as o}from"./app-DOc39CFu.js";import{u as r}from"./i18n-DE5KxGn8.js";import{M as i,J as d,N as n,Q as c,V as u,F as m,R as b,b as g,I as p,K as f,S as y,W as v,U as x}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./ui-BITzTqrO.js";const _={class:"w-full"},j={class:"mb-4 flex items-center justify-between"},w={class:"text-lg font-bold text-gray-700"},h={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},S={class:"flex items-start justify-between"},k={class:"flex-1"},$={class:"text-2xl font-bold text-gray-800 leading-tight"},E={class:"mt-4 flex items-center justify-between text-xs text-gray-500"},V={class:"flex items-center gap-1"},C={key:0,class:"font-bold flex items-center gap-1 text-primary"},z={key:0,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border border-dashed border-gray-300"},A={class:"flex items-center gap-2"},I={key:0,class:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full"},B=e({__name:"ClassroomSelection",props:{modelValue:{type:[String,Number],default:null},classrooms:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},initStatus:{type:Object,default:()=>({message:""})},avatarEditEnabled:{type:Boolean,default:!1}},emits:["update:modelValue","change","init","update:avatarEditEnabled"],setup:e=>(r(),(r,B)=>(d(),i("div",_,[n("div",j,[n("label",w,u(r.$t("rewardSys.session.selectClassroomTitle")),1)]),n("div",h,[(d(!0),i(m,null,b(e.classrooms,s=>{var l;return d(),p(o,{key:s.classroom_id,class:x(["cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-[1.02] border-2 overflow-hidden",[e.modelValue===s.classroom_id?"border-primary ring-2 ring-blue-200":"border-transparent hover:border-gray-200"]]),style:y({background:e.modelValue===s.classroom_id?"yellow":(null==(l=s.subject)?void 0:l.color_bg)?`${s.subject.color_bg}15`:"#ffffff"}),onClick:e=>{r.$emit("update:modelValue",s.classroom_id),r.$emit("change",s.classroom_id)},onDblclick:B[0]||(B[0]=e=>r.$emit("init"))},{default:f(()=>[B[3]||(B[3]=n("div",{class:"h-2 w-full bg-blue-600"},null,-1)),g(t,{class:"p-4"},{default:f(()=>{var l,t,o,m;return[n("div",S,[n("div",k,[n("div",{class:"text-xs font-bold uppercase tracking-wider mb-1",style:y({color:(null==(l=s.subject)?void 0:l.color_bg)||"#2563eb"})},u((null==(t=s.subject)?void 0:t.name)||s.subject_name||r.$t("rewardSys.session.classroomFallback")),5),n("div",$,u(s.classroom_name),1)]),n("div",{class:"text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",style:y({backgroundColor:(null==(o=s.subject)?void 0:o.color_bg)?`${s.subject.color_bg}20`:"#dbeafe",color:(null==(m=s.subject)?void 0:m.color_bg)||"#1e40af"})},[g(a,{name:"group",size:"xs"}),v(" "+u(s.students?s.students.length:0),1)],4)]),n("div",E,[n("div",V,[g(a,{name:"school",size:"xs"}),n("span",null,"ID: "+u(s.classroom_id),1)]),e.modelValue===s.classroom_id?(d(),i("div",C,[g(a,{name:"check_circle",size:"xs"}),v(" "+u(r.$t("rewardSys.session.selected")),1)])):c("",!0)])]}),_:2},1024)]),_:2},1032,["class","style","onClick"])}),128))]),e.classrooms.length?c("",!0):(d(),i("div",z,u(r.$t("rewardSys.session.noClassroomsAvailable")),1)),n("div",A,[g(s,{"model-value":e.avatarEditEnabled,"onUpdate:modelValue":B[1]||(B[1]=e=>r.$emit("update:avatarEditEnabled",e)),label:r.$t("rewardSys.session.enableAvatarEdit"),color:"purple","left-label":""},null,8,["model-value","label"]),e.initStatus&&e.initStatus.message?(d(),i("div",I,u(e.initStatus.message),1)):c("",!0),g(l,{color:"primary",label:r.$t("rewardSys.session.initSession"),icon:"play_arrow",disable:!e.modelValue||e.loading,loading:e.loading,onClick:B[2]||(B[2]=e=>r.$emit("init")),class:"shadow-md scale-150 m-12"},null,8,["label","disable","loading"])])])))},[["__scopeId","data-v-99ca7f22"]]);export{B as default};
