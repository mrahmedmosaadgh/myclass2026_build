import{a7 as e,f as a,I as s,J as o,K as l,b as t,W as r,z as n,N as i,O as u,R as m,y as c,Y as p,S as d,a0 as f,P as v,$ as g}from"./vendor-BWKGNkNB.js";import{_ as h}from"./ActionMessage-C-Bzd4TW.js";import{_}from"./FormSection-DO5jFd5V.js";import{_ as y}from"./InputError-DEGVtjzl.js";import{_ as b}from"./InputLabel-Ch3YeqCE.js";import{_ as j}from"./SecondaryButton-WaufSYeJ.js";import{_ as k}from"./TextInput-QkZjzCho.js";import"./SectionTitle-DgdjLHfe.js";import"./app-CWAnT6CT.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const S={key:0,class:"col-span-6 sm:col-span-4"},P={class:"mt-2"},x=["src","alt"],I={class:"mt-2"},U={class:"col-span-6 sm:col-span-4"},w={class:"col-span-6 sm:col-span-4"},C={key:0},A={class:"text-sm mt-2"},R={class:"mt-2 font-medium text-sm text-green-600"},V={__name:"UpdateProfileInformationForm",props:{user:Object},setup(V){const q=V,z=e({_method:"PUT",name:q.user.name,email:q.user.email,photo:null}),F=a(null),N=a(null),T=a(null),$=()=>{T.value&&(z.photo=T.value.files[0]),z.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>O()})},B=()=>{F.value=!0},D=()=>{T.value.click()},E=()=>{const e=T.value.files[0];if(!e)return;const a=new FileReader;a.onload=e=>{N.value=e.target.result},a.readAsDataURL(e)},L=()=>{g.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{N.value=null,O()}})},O=()=>{var e;(null==(e=T.value)?void 0:e.value)&&(T.value.value=null)};return(e,a)=>(o(),s(_,{onSubmitted:$},{title:l(()=>a[1]||(a[1]=[r(" Profile Information ")])),description:l(()=>a[2]||(a[2]=[r(" Update your account's profile information and email address. ")])),form:l(()=>[e.$page.props.jetstream.managesProfilePhotos?(o(),i("div",S,[m("input",{id:"photo",ref_key:"photoInput",ref:T,type:"file",class:"hidden",onChange:E},null,544),t(b,{for:"photo",value:"Photo"}),c(m("div",P,[m("img",{src:V.user.profile_photo_url,alt:V.user.name,class:"rounded-full size-20 object-cover"},null,8,x)],512),[[p,!N.value]]),c(m("div",I,[m("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:d("background-image: url('"+N.value+"');")},null,4)],512),[[p,N.value]]),t(j,{class:"mt-2 me-2",type:"button",onClick:f(D,["prevent"])},{default:l(()=>a[3]||(a[3]=[r(" Select A New Photo ")])),_:1}),V.user.profile_photo_path?(o(),s(j,{key:0,type:"button",class:"mt-2",onClick:f(L,["prevent"])},{default:l(()=>a[4]||(a[4]=[r(" Remove Photo ")])),_:1})):u("",!0),t(y,{message:n(z).errors.photo,class:"mt-2"},null,8,["message"])])):u("",!0),m("div",U,[t(b,{for:"name",value:"Name"}),t(k,{id:"name",modelValue:n(z).name,"onUpdate:modelValue":a[0]||(a[0]=e=>n(z).name=e),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),t(y,{message:n(z).errors.name,class:"mt-2"},null,8,["message"])]),m("div",w,[t(b,{for:"email",value:"User ID"}),t(k,{disabled:"true",id:"email",value:n(z).email,type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["value"]),t(y,{message:n(z).errors.email,class:"mt-2"},null,8,["message"]),e.$page.props.jetstream.hasEmailVerification&&null===V.user.email_verified_at?(o(),i("div",C,[m("p",A,[a[6]||(a[6]=r(" Your email address is unverified. ")),t(n(v),{href:e.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:f(B,["prevent"])},{default:l(()=>a[5]||(a[5]=[r(" Click here to re-send the verification email. ")])),_:1},8,["href"])]),c(m("div",R," A new verification link has been sent to your email address. ",512),[[p,F.value]])])):u("",!0)])]),actions:l(()=>[t(h,{on:n(z).recentlySuccessful,class:"me-3"},{default:l(()=>a[7]||(a[7]=[r(" Saved. ")])),_:1},8,["on"])]),_:1}))}};export{V as default};
