import{k as e,aD as l,i as t,j as a,a as s,h as o,aC as i}from"./app-BzjXrVp9.js";import{R as r,A as m}from"./RichTextEditor-CgI_Wije.js";import{f as u,o as n,L as p,I as d,M as c,b as f,J as j,H as b,O as v,x,V,F as _,Q as h,U as k}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./QColor-9nuGqmA9.js";import"./QSlider-Ca7ul8Gv.js";import"./QTabs-BwLFzVWR.js";import"./rtl-Cr6c3OOr.js";import"./QTab-Cx9aTRVb.js";import"./QTabPanels-C2OMgZHe.js";import"./use-panel-DdQZ_Vdk.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-BWvsj8on.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-DTd-X9KR.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-D7IfRdxZ.js";import"./QBadge-D2ciqrkO.js";import"./QSelect-CciNNEfD.js";const y={class:"min-h-full flex flex-col"},S={class:"flex items-center justify-between mb-2"},P={__name:"TextSlide",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(P,{emit:Q}){const g=P,T=Q,C=u(!1),I=u(""),O=u([]);n(()=>{const e=localStorage.getItem("textSlide_recentPrompts");if(e)try{O.value=JSON.parse(e)}catch(l){console.error("Failed to load recent prompts:",l)}});const w=e=>{T("update:modelValue",{...g.modelValue,text:e})},J=()=>{I.value="",C.value=!0},M=e=>{I.value&&I.value.trim()&&N(I.value),w((g.modelValue.text||"")+e)},N=e=>{const l=O.value.filter(l=>l!==e);l.unshift(e),O.value=l.slice(0,3),localStorage.setItem("textSlide_recentPrompts",JSON.stringify(O.value))};return(u,n)=>(d(),p("div",y,[c("div",S,[n[3]||(n[3]=c("label",{class:"block text-sm font-medium text-gray-700"},"Slide Text",-1)),f(i,{flat:"",dense:"",color:"accent",icon:"psychology",label:"Generate with AI",size:"sm",onClick:J},{default:j(()=>[O.value.length>0?(d(),b(o,{key:0},{default:j(()=>[f(e,{header:""},{default:j(()=>n[1]||(n[1]=[V("Recent Prompts")])),_:1}),(d(!0),p(_,null,h(O.value,(s,o)=>x((d(),b(t,{key:o,clickable:"",onClick:e=>(e=>{I.value=e,C.value=!0})(s)},{default:j(()=>[f(a,null,{default:j(()=>[f(e,{lines:"2"},{default:j(()=>[V(k(s),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[l]])),128)),f(s),x((d(),b(t,{clickable:"",onClick:J},{default:j(()=>[f(a,null,{default:j(()=>[f(e,null,{default:j(()=>n[2]||(n[2]=[V("New Prompt...")])),_:1})]),_:1})]),_:1})),[[l]])]),_:1})):v("",!0)]),_:1})]),f(r,{modelValue:P.modelValue.text||"","onUpdate:modelValue":w,class:"flex-1"},null,8,["modelValue"]),f(m,{modelValue:C.value,"onUpdate:modelValue":n[0]||(n[0]=e=>C.value=e),"initial-prompt":I.value,"on-insert":M},null,8,["modelValue","initial-prompt"])]))}};export{P as default};
