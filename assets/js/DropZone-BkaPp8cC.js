import{o as e}from"./app-CqJgtQaN.js";import{f as t,o as i,e as n,M as c,J as s,L as a,Q as l,U as o}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const d={key:0,class:"status"},r={key:1,class:"status"},u={key:2,class:"status"},p=e({__name:"DropZone",props:{acceptsDrop:Function,activeItem:Object},emits:["drop","rejected"],setup(e,{emit:p}){const v=e,m=p,f=t(null),j=t(null),g=e=>{var t;if(!(null==(t=v.activeItem)?void 0:t.isPicked))return;const i=f.value.getBoundingClientRect();if(!(e.clientX>=i.left&&e.clientX<=i.right&&e.clientY>=i.top&&e.clientY<=i.bottom))return;const n=(e.clientX-i.left)/i.width*100,c=(e.clientY-i.top)/i.height*100;j.value="pending",setTimeout(()=>{v.acceptsDrop({...v.activeItem,zoneX:n,zoneY:c,clientX:e.clientX,clientY:e.clientY,bounds:i})?(m("drop",{x:n,y:c,clientX:e.clientX,clientY:e.clientY,item:v.activeItem,bounds:i}),j.value="accepted"):(m("rejected",v.activeItem),j.value="rejected"),setTimeout(()=>{j.value=null},1e3)},50)};return i(()=>{window.addEventListener("click",g)}),n(()=>{window.removeEventListener("click",g)}),(e,t)=>(s(),c("div",{ref_key:"zone",ref:f,class:o(["drop-zone",{accepted:"accepted"===j.value,rejected:"rejected"===j.value,pending:"pending"===j.value}])},[a(e.$slots,"default",{},void 0,!0),"accepted"===j.value?(s(),c("div",d,"✔")):l("",!0),"rejected"===j.value?(s(),c("div",r,"✖")):l("",!0),"pending"===j.value?(s(),c("div",u,"⏳")):l("",!0)],2))}},[["__scopeId","data-v-b62b7068"]]);export{p as default};
