import{l as e,aS as a,j as l,k as t,c as s,i as o,aR as i}from"./app-DlLesFGi.js";import{R as r,A as u}from"./RichTextEditor-B2mNAQ-X.js";import{f as m,o as n,N as p,J as d,R as c,b as f,K as j,I as v,O as x,y as b,W as V,F as _,Q as y,V as h}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./QColor-eqGXYKL_.js";import"./QSlider-CuF3S-6I.js";import"./QTabs-BClcf-CB.js";import"./rtl-Cr6c3OOr.js";import"./QTab-CYxYFXBq.js";import"./QTabPanels-CTgZWG49.js";import"./use-panel-BqxRbB7W.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-DXa1fEFB.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-BWwFmcgr.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-BAeMQ_tH.js";import"./QBadge-IdEcTs8C.js";import"./QSelect-BTh0khse.js";const k={class:"min-h-full flex flex-col"},S={class:"flex items-center justify-between mb-2"},Q={__name:"TextSlide",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(Q,{emit:g}){const P=Q,T=g,C=m(!1),w=m(""),O=m([]);n(()=>{const e=localStorage.getItem("textSlide_recentPrompts");if(e)try{O.value=JSON.parse(e)}catch(a){console.error("Failed to load recent prompts:",a)}});const R=e=>{T("update:modelValue",{...P.modelValue,text:e})},F=()=>{w.value="",C.value=!0},I=e=>{w.value&&w.value.trim()&&N(w.value),R((P.modelValue.text||"")+e)},N=e=>{const a=O.value.filter(a=>a!==e);a.unshift(e),O.value=a.slice(0,3),localStorage.setItem("textSlide_recentPrompts",JSON.stringify(O.value))};return(m,n)=>(d(),p("div",k,[c("div",S,[n[3]||(n[3]=c("label",{class:"block text-sm font-medium text-gray-700"},"Slide Text",-1)),f(i,{flat:"",dense:"",color:"accent",icon:"psychology",label:"Generate with AI",size:"sm",onClick:F},{default:j(()=>[O.value.length>0?(d(),v(o,{key:0},{default:j(()=>[f(e,{header:""},{default:j(()=>n[1]||(n[1]=[V("Recent Prompts")])),_:1}),(d(!0),p(_,null,y(O.value,(s,o)=>b((d(),v(l,{key:o,clickable:"",onClick:e=>(e=>{w.value=e,C.value=!0})(s)},{default:j(()=>[f(t,null,{default:j(()=>[f(e,{lines:"2"},{default:j(()=>[V(h(s),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[a]])),128)),f(s),b((d(),v(l,{clickable:"",onClick:F},{default:j(()=>[f(t,null,{default:j(()=>[f(e,null,{default:j(()=>n[2]||(n[2]=[V("New Prompt...")])),_:1})]),_:1})]),_:1})),[[a]])]),_:1})):x("",!0)]),_:1})]),f(r,{modelValue:Q.modelValue.text||"","onUpdate:modelValue":R,class:"flex-1"},null,8,["modelValue"]),f(u,{modelValue:C.value,"onUpdate:modelValue":n[0]||(n[0]=e=>C.value=e),"initial-prompt":w.value,"on-insert":I},null,8,["modelValue","initial-prompt"])]))}};export{Q as default};
