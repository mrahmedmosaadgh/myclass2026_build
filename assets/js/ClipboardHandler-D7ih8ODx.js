import{f as t,M as e,J as a,L as r,W as o,V as l}from"./vendor-DuKqz2x4.js";const n=["disabled"],s={__name:"ClipboardHandler",props:{locale:{type:String,default:"en"}},emits:["get_data"],setup(s,{emit:i}){const d=i,p=t(!1),c=async()=>{p.value=!0;try{const t=await navigator.clipboard.read();let e={type:null,data:null,content_type:null};for(const a of t){const t=a.types.filter(t=>t.startsWith("image/"));if(t.length>0){const r=t[0],o=await a.getType(r);e={type:"image",data:await new Promise(t=>{const e=new FileReader;e.onload=e=>t(e.target.result),e.readAsDataURL(o)}),content_type:"image",mimeType:r};break}}if(!e.data)for(const a of t)if(a.types.includes("text/html")){const t=await a.getType("text/html");e={type:"html",data:await t.text(),content_type:"html"};break}if(!e.data){e={type:"text",data:`<p>${await navigator.clipboard.readText()}</p>`,content_type:"html"}}d("get_data",e)}catch(t){console.error("Clipboard error:",t),d("get_data",{type:"error",error:t.message})}finally{p.value=!1}};return(t,i)=>(a(),e("button",{onClick:c,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",disabled:p.value},[r(t.$slots,"default",{},()=>[o(l("ar"===s.locale?"لصق من الحافظة":"Paste from Clipboard"),1)])],8,n))}};export{s as default};
