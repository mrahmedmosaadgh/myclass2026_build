import{p as e}from"./app-BXm70mdJ.js";import{f as t,L as a,I as n,M as l,O as o,S as i}from"./vendor-DNM7Y6Xn.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";const s={class:"flex flex-col items-center gap-4"},r=e({__name:"img_trans",setup(e){const r=t(null),u=t(!1);let c=null,d=new Image;function g(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{d.onload=()=>{const e=r.value;e.width=d.width,e.height=d.height,c=e.getContext("2d"),c.drawImage(d,0,0),u.value=!0},d.src=e.target.result},a.readAsDataURL(t)}function f(e){if(!c)return;const t=r.value.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top,l=c.getImageData(a,n,1,1).data,[o,i,s]=l;!function(e,t,a){const n=c.getImageData(0,0,r.value.width,r.value.height),l=n.data;for(let o=0;o<l.length;o+=4)m(l[o],l[o+1],l[o+2],e,t,a)&&(l[o+3]=0);c.putImageData(n,0,0)}(o,i,s)}function m(e,t,a,n,l,o){return Math.abs(e-n)<30&&Math.abs(t-l)<30&&Math.abs(a-o)<30}function p(){const e=document.createElement("a");e.download="edited-image.png",e.href=r.value.toDataURL("image/png"),e.click()}return(e,t)=>(n(),a("div",s,[l("input",{type:"file",onChange:g,accept:"image/*"},null,32),l("canvas",{ref_key:"canvas",ref:r,class:i([{hidden:!u.value},"border shadow rounded-xl"]),onClick:f},null,2),u.value?(n(),a("button",{key:0,onClick:p,class:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700"}," Save Image ")):o("",!0)]))}},[["__scopeId","data-v-0779961e"]]);export{r as default};
