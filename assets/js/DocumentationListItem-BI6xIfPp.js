import{o as e,u as t,A as o,C as a,d as n,Q as i,aj as r,g as c,aP as s,h as d,i as l,c as u,m}from"./app-DOc39CFu.js";import{Q as p}from"./QBadge-Dz6oAuer.js";import{I as f,J as g,K as y,b,N as v,V as _,W as h,M as w,Q as x,y as k}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const q={class:"col-auto q-mr-md"},z={class:"col"},C={class:"row items-center q-mb-xs"},D={class:"text-h6 text-weight-bold q-mr-md"},j={class:"text-body2 text-grey-7 q-mb-sm"},L={class:"row items-center text-caption text-grey-6"},M={key:0,class:"q-mr-md"},B={key:1,class:"q-mr-md"},E={key:2},Q={class:"col-auto"},A={class:"row q-gutter-sm"},I={class:"status-indicators"},N=e({__name:"DocumentationListItem",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:N}){const K=t(),O=e,S=()=>{var e;if("file"===O.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=O.document.type)?void 0:e.toLowerCase()]||"description"},V=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=O.document.category)?void 0:e.toLowerCase()]||"description"},$=()=>{var e;return{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(e=O.document.category)?void 0:e.toLowerCase()]||"primary"},G=()=>{if(O.document.excerpt)return O.document.excerpt;if(O.document.content){if("string"==typeof O.document.content)return O.document.content.substring(0,200)+"...";if(Array.isArray(O.document.content)){return O.document.content.map(e=>e.content||"").join(" ").substring(0,200)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},P=()=>{if(O.document.created_at){const e=new Date(O.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},W=()=>{K.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},F=()=>{K.notify({type:"info",message:"Export functionality coming soon",position:"top"})},H=()=>{K.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,N)=>(g(),f(m,{class:"documentation-list-item"},{default:y(()=>[b(u,{class:"row items-center q-pa-md"},{default:y(()=>{return[v("div",q,[b(o,{color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(u=O.document.type)?void 0:u.toLowerCase()]||"primary","text-color":"white",icon:S(),size:"48px"},null,8,["color","icon"])]),v("div",z,[v("div",C,[v("div",D,_(e.document.title),1),b(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:y(()=>[h(_(e.document.source),1)]),_:1},8,["color","icon"]),b(a,{color:$(),"text-color":"white",size:"sm",icon:V(),class:"q-ml-xs"},{default:y(()=>[h(_(e.document.category),1)]),_:1},8,["color","icon"])]),v("div",j,_(G()),1),v("div",L,[e.document.author?(g(),w("div",M,[b(n,{name:"person",size:"xs",class:"q-mr-xs"}),h(" "+_(e.document.author.name),1)])):x("",!0),e.document.created_at||e.document.modified?(g(),w("div",B,[b(n,{name:"schedule",size:"xs",class:"q-mr-xs"}),h(" "+_(O.document.created_at?new Date(O.document.created_at).toLocaleDateString():O.document.modified?new Date(1e3*O.document.modified).toLocaleDateString():""),1)])):x("",!0),e.document.size?(g(),w("div",E,[b(n,{name:"description",size:"xs",class:"q-mr-xs"}),h(" "+_(J(e.document.size)),1)])):x("",!0)])]),v("div",Q,[v("div",A,[b(i,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:N[0]||(N[0]=o=>t.$emit("view",e.document)),size:"sm"}),"database"===e.document.source?(g(),f(i,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:N[1]||(N[1]=o=>t.$emit("edit",e.document)),size:"sm"})):x("",!0),b(i,{flat:"",round:"",color:"grey-6",icon:"more_vert",size:"sm"},{default:y(()=>[b(r,null,{default:y(()=>[b(c,{style:{"min-width":"100px"}},{default:y(()=>[k((g(),f(d,{clickable:"",onClick:W},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"link"})]),_:1}),b(l,null,{default:y(()=>N[2]||(N[2]=[h("Copy Link")])),_:1})]),_:1})),[[s]]),k((g(),f(d,{clickable:"",onClick:F},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"download"})]),_:1}),b(l,null,{default:y(()=>N[3]||(N[3]=[h("Export")])),_:1})]),_:1})),[[s]]),"file"===e.document.source?k((g(),f(d,{key:0,clickable:"",onClick:H},{default:y(()=>[b(l,{avatar:""},{default:y(()=>[b(n,{name:"code"})]),_:1}),b(l,null,{default:y(()=>N[4]||(N[4]=[h("Open in Editor")])),_:1})]),_:1})),[[s]]):x("",!0)]),_:1})]),_:1})]),_:1})])]),v("div",I,["draft"===e.document.status?(g(),f(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:y(()=>N[5]||(N[5]=[h(" Draft ")])),_:1})):x("",!0),"archived"===e.document.status?(g(),f(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:y(()=>N[6]||(N[6]=[h(" Archived ")])),_:1})):x("",!0),P()?(g(),f(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:y(()=>N[7]||(N[7]=[h(" New ")])),_:1})):x("",!0)])];var u}),_:1})]),_:1}))}},[["__scopeId","data-v-26b5a0c1"]]);export{N as default};
