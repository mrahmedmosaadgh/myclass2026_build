import{p as e,Q as a,n as d,q as s,aD as l,b as r}from"./app-BXm70mdJ.js";import{Q as i}from"./QSpace-Bu8V-QDa.js";import{Q as t}from"./QBar-ulmxe8C-.js";import o from"./ScheduleGrid-DbgE0p0w.js";import{f as u,k as c,L as n,I as p,b as m,J as y,x as f,H as h,O as v,V as b,M as I,U as j,R as x}from"./vendor-DNM7Y6Xn.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";import"./QSlider-BotkHKKU.js";import"./ScheduleGridControls-CG_n9as8.js";const C={key:0},S=e({__name:"DragDropScheduleTable",props:{schoolId:{type:[String,Number],required:!0},scheduleCopyId:{type:[String,Number],required:!0},teachers:{type:Array,required:!0,default:()=>[]},days:{type:Array,required:!1,default:()=>["Sunday","Monday","Tuesday","Wednesday","Thursday"]},periods:{type:Number,required:!0,default:8},initialSchedule:{type:Array,default:()=>[]}},emits:["schedule-change"],setup(e,{emit:S}){const _=e,g=u(!0),k=u(!0),A=u([]),q=()=>{var e;(null==(e=_.initialSchedule)?void 0:e.length)>0?A.value=_.teachers.map((e,a)=>_.days.map((e,d)=>{var s;const l=(null==(s=_.initialSchedule[a])?void 0:s[d])||[];return Array(_.periods).fill().map((e,s)=>l[s]||{id:`empty-${a}-${d}-${s}`,empty:!0})})):A.value=_.teachers.map((e,a)=>_.days.map((e,d)=>Array(_.periods).fill().map((e,s)=>({id:`empty-${a}-${d}-${s}`,empty:!0}))))},Q=({teacherIndex:e,dayIndex:a,periodIndex:d})=>{},$=e=>{if(!e||e.empty)return"#f8f9fa";const a=["#e3f2fd","#e8f5e9","#fff3e0","#fce4ec","#f3e5f5"];return a[e.subject?e.subject.charCodeAt(0)%a.length:0]};return q(),c(()=>_.teachers,q),c(()=>_.days,q),c(()=>_.periods,q),(u,c)=>(p(),n("div",null,[m(a,{label:"Maximized",color:"primary",onClick:c[0]||(c[0]=e=>g.value=!0)}),m(r,{modelValue:g.value,"onUpdate:modelValue":c[2]||(c[2]=e=>g.value=e),persistent:"",maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:y(()=>[m(d,{class:""},{default:y(()=>[m(t,null,{default:y(()=>[m(i),m(a,{dense:"",flat:"",icon:"minimize",onClick:c[1]||(c[1]=e=>k.value=!1),disable:!k.value},{default:y(()=>[k.value?(p(),h(s,{key:0,class:"bg-white text-primary"},{default:y(()=>c[3]||(c[3]=[b("Minimize")])),_:1})):v("",!0)]),_:1},8,["disable"]),f((p(),h(a,{dense:"",flat:"",icon:"close"},{default:y(()=>[m(s,{class:"bg-white text-primary"},{default:y(()=>c[4]||(c[4]=[b("Close")])),_:1})]),_:1})),[[l]])]),_:1}),m(o,{schoolId:e.schoolId,scheduleCopyId:e.scheduleCopyId,teachers:e.teachers,days:["Sunday","Monday","Tuesday","Wednesday","Thursday"],periods:e.periods,"schedule-data":A.value,onCellClick:Q},{cell:y(({teacherIndex:e,dayIndex:a,periodIndex:d,item:s})=>[I("div",{class:"schedule-cell",style:x({backgroundColor:$(s)})},[s.empty?v("",!0):(p(),n("div",C,[I("div",null,"P"+j(d+1)+": "+j(s.subject||"Free"),1),I("div",null,j(s.class||""),1),b(" "+j(e)+" "+j(a),1)]))],4)]),_:1},8,["schoolId","scheduleCopyId","teachers","periods","schedule-data"])]),_:1})]),_:1},8,["modelValue","maximized"])]))}},[["__scopeId","data-v-1bb6b9d4"]]);export{S as default};
