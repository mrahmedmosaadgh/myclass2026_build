import{f as e,a7 as s,I as t,J as a,K as o,O as l,b as r,V as i,W as d,N as n,R as c,U as m,Q as u,F as g,z as p,$ as f}from"./vendor-nQjeLEvd.js";import{_ as b}from"./AppLayout-33RltWFH.js";import{_ as x}from"./PrimaryButton-CsGumtxq.js";import{_ as h}from"./SecondaryButton-DFYJg0hY.js";import{_ as y}from"./DialogModal-CmMnYBx7.js";import{_ as v}from"./InputLabel-bFRC3oGQ.js";import{_}from"./TextInput-Z6lyRUre.js";import{_ as w}from"./InputError-Cavcn2H3.js";import"./Modal-DbZxSkDc.js";import"./app-tFXAu5dG.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const S={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg shadow-xl p-8 mb-8 text-white"},k={class:"text-2xl font-bold mb-2"},I={class:"flex justify-between items-center mb-6"},V={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},N={class:"p-6"},A={class:"flex justify-between items-start mb-4"},z={class:"flex flex-col items-end"},D={key:0,class:"mt-1 text-xs text-indigo-600 font-bold"},M={class:"text-xl font-bold text-gray-800 mb-1"},E={class:"text-sm text-gray-500 mb-4"},U={class:"grid grid-cols-3 gap-2 mb-6 text-center text-sm"},B={class:"bg-gray-50 p-2 rounded"},F={class:"font-bold text-gray-800"},W={class:"bg-gray-50 p-2 rounded"},Y={class:"font-bold text-gray-800"},L={class:"bg-gray-50 p-2 rounded"},O={class:"font-bold text-gray-800"},T={class:"space-y-2"},q=["onClick"],G=["onClick"],J={class:"space-y-4"},K={__name:"Index",props:{schools:Array,hr:Object,currentSchoolId:Number},setup(K){const P=K,Q=e(!1),R=s({name:"",name_ar:"",established_year:(new Date).getFullYear()}),$=()=>{R.post(route("admin.hr.my-schools.store"),{onSuccess:()=>{Q.value=!1,R.reset()}})};return(e,s)=>(a(),t(b,{title:"My Schools"},{header:o(()=>s[6]||(s[6]=[l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," My Schools Dashboard ",-1)])),default:o(()=>[l("div",S,[l("div",j,[l("div",C,[l("h3",k,"Welcome, "+i(K.hr.name)+"!",1),s[7]||(s[7]=l("p",{class:"opacity-90"},"Manage your educational institutions and configure their settings from this central dashboard.",-1))]),l("div",I,[s[9]||(s[9]=l("h3",{class:"text-lg font-medium text-gray-900"},"Your Schools",-1)),r(x,{onClick:s[0]||(s[0]=e=>Q.value=!0)},{default:o(()=>s[8]||(s[8]=[l("span",{class:"flex items-center"},[l("i",{class:"material-icons mr-2"},"add"),d(" Add New School ")],-1)])),_:1})]),l("div",V,[(a(!0),n(g,null,c(K.schools,e=>(a(),n("div",{key:e.id,class:m(["bg-white rounded-lg shadow border border-gray-100 hover:shadow-lg transition-shadow duration-300 overflow-hidden",{"ring-2 ring-indigo-500":e.id===K.currentSchoolId}])},[l("div",N,[l("div",A,[s[10]||(s[10]=l("div",{class:"bg-indigo-50 p-3 rounded-full text-indigo-600"},[l("span",{class:"material-icons"},"school")],-1)),l("div",z,[l("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(e.is_active?"Active":"Inactive"),3),e.id===K.currentSchoolId?(a(),n("span",D," Current Context ")):u("",!0)])]),l("h4",M,i(e.name),1),l("p",E,i(e.name_ar||"No Arabic Name"),1),l("div",U,[l("div",B,[l("div",F,i(e.students_count||0),1),s[11]||(s[11]=l("div",{class:"text-gray-500 text-xs"},"Students",-1))]),l("div",W,[l("div",Y,i(e.teachers_count||0),1),s[12]||(s[12]=l("div",{class:"text-gray-500 text-xs"},"Teachers",-1))]),l("div",L,[l("div",O,i(e.classrooms_count||0),1),s[13]||(s[13]=l("div",{class:"text-gray-500 text-xs"},"Classes",-1))])]),l("div",T,[l("button",{onClick:s=>(e=>{e.id!==P.currentSchoolId?f.post(route("admin.hr.my-schools.select",e.id),{},{onSuccess:()=>{f.visit(route("admin.hr.setup-wizard"))}}):f.visit(route("admin.hr.setup-wizard"))})(e),class:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},s[14]||(s[14]=[l("span",{class:"material-icons text-sm mr-2"},"settings",-1),d(" Setup Wizard ")]),8,q),e.id!==K.currentSchoolId?(a(),n("button",{key:0,onClick:s=>(e=>{f.post(route("admin.hr.my-schools.select",e.id))})(e),class:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Switch Dashboard Context ",8,G)):u("",!0)])])],2))),128))])])]),r(y,{show:Q.value,onClose:s[5]||(s[5]=e=>Q.value=!1)},{title:o(()=>s[15]||(s[15]=[d("Add New School")])),content:o(()=>[l("div",J,[l("div",null,[r(v,{for:"name",value:"School Name (English) *"}),r(_,{id:"name",modelValue:p(R).name,"onUpdate:modelValue":s[1]||(s[1]=e=>p(R).name=e),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(w,{message:p(R).errors.name,class:"mt-2"},null,8,["message"])]),l("div",null,[r(v,{for:"name_ar",value:"School Name (Arabic)"}),r(_,{id:"name_ar",modelValue:p(R).name_ar,"onUpdate:modelValue":s[2]||(s[2]=e=>p(R).name_ar=e),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),l("div",null,[r(v,{for:"year",value:"Established Year"}),r(_,{id:"year",modelValue:p(R).established_year,"onUpdate:modelValue":s[3]||(s[3]=e=>p(R).established_year=e),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),footer:o(()=>[r(h,{onClick:s[4]||(s[4]=e=>Q.value=!1)},{default:o(()=>s[16]||(s[16]=[d("Cancel")])),_:1}),r(x,{class:m(["ml-3",{"opacity-25":p(R).processing}]),onClick:$,disabled:p(R).processing},{default:o(()=>s[17]||(s[17]=[d(" Create School ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{K as default};
