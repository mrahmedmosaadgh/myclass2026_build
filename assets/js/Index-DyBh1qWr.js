import{o as e,u as l,d as a,Q as o,p as t,aF as s,c as n,m as i,h as d,i as r,f as u,A as c,e as m,C as v,l as p,aP as g,b as _,bp as f,a as h}from"./app-ggGwxJON.js";import{Q as y}from"./QSelect-DOo83gJW.js";import{Q as b}from"./QTd-D6gdMIVj.js";import{Q as w}from"./QBadge-DVUbh_5M.js";import{Q as x}from"./QTable-D7jFdT1k.js";import{a as k,Q as S}from"./QToolbar-DMbCF1rG.js";import{Q as C}from"./QFile-Rpz0ixFy.js";import{f as V,a as $,o as N,af as q,N as A,J as U,b as j,O as I,Q as P,W as E,K as F,I as Q,V as T,F as z,y as D,_ as R}from"./vendor-nQjeLEvd.js";import{u as O,w as M,r as G}from"./xlsx-cMC2LkxH.js";import W from"./StudentPromotionDialog-QFUpWzdI.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-BbwJTHXP.js";import"./QLinearProgress-DJHuJoTJ.js";import"./use-fullscreen-DuZ9ifcT.js";import"./use-file-DI0zIHNI.js";import"./QStepperNavigation-C99GHxWX.js";import"./QStepper-CL1d_Zwg.js";import"./use-panel-BQ7QSG7B.js";import"./use-render-cache-CmTcazfP.js";const B={class:"q-pa-md"},L={class:"row items-center q-mb-md"},H={class:"col"},Y={class:"text-h4 text-weight-bold"},J={class:"col-auto"},K={class:"row q-col-gutter-md q-mb-md"},X={class:"col-12 col-md-3"},Z={class:"text-h6"},ee={class:"col-12 col-md-3"},le={class:"text-h6"},ae={class:"col-12 col-md-3"},oe={class:"text-h6"},te={class:"col-12 col-md-3"},se={class:"text-h6"},ne={class:"row items-center q-mb-sm"},ie={class:"col"},de={class:"text-h6"},re={class:"col-auto"},ue={class:"row q-col-gutter-md"},ce={class:"col-12 col-md-3"},me={class:"col-12 col-md-3"},ve={class:"col-12 col-md-3"},pe={class:"col-12 col-md-3"},ge={class:"col-12 col-md-6"},_e={class:"col-12"},fe={key:0,class:"text-caption text-grey-7"},he={class:"text-weight-bold"},ye={class:"text-caption text-grey-7"},be={class:"full-width row flex-center q-gutter-sm q-pa-lg"},we={key:0,style:{position:"fixed",bottom:"18px",left:"0",right:"0","z-index":"2000",padding:"0 16px"}},xe={class:"text-h6"},ke={key:0,class:"text-caption"},Se={class:"row q-col-gutter-md"},Ce={class:"col-12 col-md-6"},Ve={class:"col-12 col-md-6"},$e={class:"col-12 col-md-6"},Ne={class:"col-12"},qe={class:"col-12 col-md-6"},Ae={class:"col-12 col-md-6"},Ue={class:"col-12 col-md-6"},je={class:"col-12"},Ie={class:"col-12"},Pe={class:"text-caption"},Ee={class:"text-subtitle2 q-mb-sm"},Fe={class:"text-caption"},Qe={class:"q-mb-md"},Te={class:"text-caption"},ze={key:0},De={key:1},Re={class:"text-subtitle2 q-mb-sm"},Oe={key:0,class:"q-mb-md"},Me={key:1,class:"q-mt-md"},Ge={class:"row q-gutter-sm"},We={class:"text-h6 text-positive q-mb-md"},Be={class:"row q-gutter-sm q-mb-sm"},Le={class:"row q-gutter-sm"},He=e({__name:"Index",props:{records:Object,schools:Array,grades:Array,academicYears:Array,userRoles:Array,permissions:Object},setup(e){const He=e,Ye=l(),Je=V(!1),Ke=V([]),Xe=V([]),Ze=V(!1),el=V(!1),ll=V(!1),al=V(null),ol=V(!1),tl=V(null),sl=V([]),nl=V(!1),il=V(!1),dl=V(null),rl=V(!1),ul=V(null),cl=V([]),ml=[{name:"name",label:"Name",field:"name",align:"left"},{name:"name_ar",label:"Arabic Name",field:"name_ar",align:"left"},{name:"name_cute",label:"Nickname",field:"name_cute",align:"left"},{name:"notes",label:"Notes",field:"notes",align:"left"}],vl=V("skip"),pl=[{label:"Skip Duplicates (Safe)",value:"skip",description:"Only create new students"},{label:"Update Existing",value:"update",description:"Update duplicate students with new data"}],gl=V(!1),_l=V([]),fl=V(null),hl=V("all"),yl=V(!1),bl=V(null),wl=[{name:"status",label:"Status",field:"status",align:"center",format:e=>e||"pending"},{name:"name",label:"Name",field:"name",align:"left"},{name:"name_ar",label:"Arabic Name",field:"name_ar",align:"left"},{name:"name_cute",label:"Nickname",field:"name_cute",align:"left"},{name:"classroom",label:"Classroom",field:"classroom",align:"left"},{name:"notes",label:"Notes",field:"notes",align:"left"}],xl=V({school_id:null,stage_id:null,grade_id:null,classroom_id:null,search:""}),kl=V([]),Sl=V([]),Cl=V([]),Vl=V(He.grades||[]),$l=V(He.academicYears||[]),Nl=V([]),ql=V([]),Al=V([]),Ul=V({name:"",name_ar:"",name_cute:"",school_id:null,stage_id:null,grade_id:null,classroom_id:null,notes:""}),jl=V({sortBy:"name",descending:!1,page:1,rowsPerPage:25,rowsNumber:0}),Il=[{name:"index",label:"#",field:"index",align:"left",sortable:!1,style:"width: 50px"},{name:"avatar",label:"",field:"name",align:"center",style:"width: 60px",sortable:!1},{name:"s_id",label:"ID",field:"s_id",align:"left",sortable:!0},{name:"name",label:"Name",field:"name",align:"left",sortable:!0},{name:"school",label:"School",field:e=>{var l;return(null==(l=e.school)?void 0:l.name)||""},align:"left",sortable:!0},{name:"grade",label:"Grade",field:e=>{var l;return(null==(l=e.grade)?void 0:l.name)||""},align:"left",sortable:!0},{name:"classroom",label:"Classroom",field:e=>{var l;return(null==(l=e.classroom)?void 0:l.name)||""},align:"left",sortable:!0},{name:"actions",label:"Actions",field:"id",align:"center",sortable:!1}],Pl=$(()=>jl.value.rowsNumber||0),El=$(()=>xl.value.school_id?Ke.value.filter(e=>e.school_id===xl.value.school_id).length:0),Fl=$(()=>Ke.value.length),Ql=$(()=>Xe.value.length),Tl=$(()=>xl.value.school_id&&xl.value.grade_id&&xl.value.classroom_id),zl=()=>{const e=He.schools.find(e=>e.id===xl.value.school_id);return(null==e?void 0:e.name)||"N/A"},Dl=()=>{const e=Sl.value.find(e=>e.id===xl.value.grade_id);return(null==e?void 0:e.name)||"N/A"},Rl=()=>{const e=Cl.value.find(e=>e.id===xl.value.classroom_id);return(null==e?void 0:e.name)||"N/A"},Ol=()=>`${zl()} â†’ ${Dl()} â†’ ${Rl()}`,Ml=$(()=>"all"===hl.value?cl.value:cl.value.filter(e=>e.validationStatus===hl.value)),Gl=e=>{if(!e)return"?";const l=e.split(" ");return l.length>=2?(l[0][0]+l[1][0]).toUpperCase():e.substring(0,2).toUpperCase()},Wl=async()=>{xl.value.stage_id=null,xl.value.grade_id=null,xl.value.classroom_id=null,kl.value=[],Sl.value=[],Cl.value=[],xl.value.school_id&&(Yl(xl.value.school_id),await Kl(xl.value.school_id,"school")),Xl()},Bl=async()=>{xl.value.grade_id=null,xl.value.classroom_id=null,Sl.value=[],xl.value.stage_id?(await Jl(xl.value.stage_id),await Kl(xl.value.stage_id,"stage")):xl.value.school_id?await Kl(xl.value.school_id,"school"):Cl.value=[],Xl()},Ll=async()=>{xl.value.classroom_id=null,xl.value.grade_id?await Kl(xl.value.grade_id,"grade"):xl.value.stage_id?await Kl(xl.value.stage_id,"stage"):xl.value.school_id?await Kl(xl.value.school_id,"school"):Cl.value=[],Xl()},Hl=async()=>{0===Cl.value.length&&xl.value.school_id&&(xl.value.grade_id?await Kl(xl.value.grade_id,"grade"):xl.value.stage_id?await Kl(xl.value.stage_id,"stage"):await Kl(xl.value.school_id,"school"))},Yl=async e=>{try{const l=await R.get(`/admin/stages/by-school/${e}`);kl.value=l.data}catch(l){console.error("Error loading stages:",l)}},Jl=async e=>{try{const l=await R.get(`/admin/grades/by-stage/${e}`);Sl.value=l.data}catch(l){console.error("Error loading grades:",l)}},Kl=async(e,l)=>{try{let a="";a="school"===l?`/admin/classrooms/by-school/${e}`:"stage"===l?`/admin/classrooms/by-stage/${e}`:`/admin/classrooms/by-grade/${e}`;const o=await R.get(a);Cl.value=o.data}catch(a){console.error("Error loading classrooms:",a),Cl.value=[]}},Xl=async()=>{Je.value=!0;try{const e={school_id:xl.value.school_id,stage_id:xl.value.stage_id,grade_id:xl.value.grade_id,classroom_id:xl.value.classroom_id,search:xl.value.search},l=await R.get("/admin/students/filtered",{params:e});Ke.value=l.data.records.data||[],jl.value.rowsNumber=l.data.records.total||0}catch(e){Ye.notify({type:"negative",message:"Failed to load students"})}finally{Je.value=!1}},Zl=()=>{xl.value={school_id:null,stage_id:null,grade_id:null,classroom_id:null,search:""},kl.value=[],Sl.value=[],Cl.value=[],Xl()};let ea;const la=()=>{clearTimeout(ea),ea=setTimeout(()=>{Xl()},500)},aa=e=>{Xl()},oa=(e=null)=>{il.value=!1,dl.value=null,e?(al.value=e,dl.value=e.classroom_id,Ul.value={name:e.name,name_ar:e.name_ar,name_cute:e.name_cute,school_id:e.school_id,stage_id:e.stage_id,grade_id:e.grade_id,classroom_id:e.classroom_id,notes:e.notes},e.school_id&&sa(),e.stage_id&&na(),e.grade_id&&ia()):(al.value=null,Ul.value={name:"",name_ar:"",name_cute:"",school_id:xl.value.school_id,stage_id:xl.value.stage_id,grade_id:xl.value.grade_id,classroom_id:xl.value.classroom_id,notes:""}),Ze.value=!0},ta=()=>{al.value&&null!==dl.value&&(il.value=Ul.value.classroom_id!==dl.value)},sa=async()=>{if(Ul.value.stage_id=null,Ul.value.grade_id=null,Ul.value.classroom_id=null,Ul.value.school_id){const e=await R.get(`/admin/stages/by-school/${Ul.value.school_id}`);Nl.value=e.data}},na=async()=>{if(Ul.value.grade_id=null,Ul.value.classroom_id=null,Ul.value.stage_id){const e=await R.get(`/admin/grades/by-stage/${Ul.value.stage_id}`);ql.value=e.data}},ia=async()=>{if(Ul.value.classroom_id=null,Ul.value.grade_id){const e=await R.get(`/admin/classrooms/by-grade/${Ul.value.grade_id}`);Al.value=e.data}},da=async()=>{var e,l;ol.value=!0;try{const e=al.value?`/admin/students/${al.value.id}`:"/admin/students",l={...Ul.value,...al.value&&{_method:"PUT"}};await R.post(e,l),Ye.notify({type:"positive",message:al.value?"Student updated successfully":"Student created successfully"}),Ze.value=!1,Xl()}catch(a){Ye.notify({type:"negative",message:(null==(l=null==(e=a.response)?void 0:e.data)?void 0:l.message)||"Failed to save student"})}finally{ol.value=!1}},ra=()=>{if(0!==Ke.value.length)try{const e=Ke.value.map(e=>{var l,a,o,t;return{ID:e.s_id||"",Name:e.name||"","Arabic Name":e.name_ar||"",Nickname:e.name_cute||"",School:(null==(l=e.school)?void 0:l.name)||"",Stage:(null==(a=e.stage)?void 0:a.name)||"",Grade:(null==(o=e.grade)?void 0:o.name)||"",Classroom:(null==(t=e.classroom)?void 0:t.name)||"",Notes:e.notes||""}}),l=O.json_to_sheet(e),a=O.book_new();O.book_append_sheet(a,l,"Students");const o=(new Date).toISOString().split("T")[0];M(a,`students_export_${o}.xlsx`),Ye.notify({type:"positive",message:`Successfully exported ${Ke.value.length} students`})}catch(e){console.error("Export error:",e),Ye.notify({type:"negative",message:"Failed to export students"})}else Ye.notify({type:"warning",message:"No students to export"})},ua=()=>{Ye.notify({type:"info",message:"Bulk classroom change coming in Phase 4!"})},ca=()=>{if(0!==Xe.value.length)try{const e=Xe.value.map(e=>{var l,a,o,t;return{ID:e.s_id||"",Name:e.name||"","Arabic Name":e.name_ar||"",Nickname:e.name_cute||"",School:(null==(l=e.school)?void 0:l.name)||"",Stage:(null==(a=e.stage)?void 0:a.name)||"",Grade:(null==(o=e.grade)?void 0:o.name)||"",Classroom:(null==(t=e.classroom)?void 0:t.name)||"",Notes:e.notes||""}}),l=O.json_to_sheet(e),a=O.book_new();O.book_append_sheet(a,l,"Students");const o=(new Date).toISOString().split("T")[0];M(a,`students_export_${o}.xlsx`),Ye.notify({type:"positive",message:`Successfully exported ${Xe.value.length} students`})}catch(e){console.error("Export error:",e),Ye.notify({type:"negative",message:"Failed to export students"})}else Ye.notify({type:"warning",message:"No students selected"})},ma=()=>{Ye.dialog({title:"Confirm Bulk Delete",message:`Are you sure you want to delete ${Xe.value.length} students?`,cancel:!0,persistent:!0}).onOk(()=>{Ye.notify({type:"info",message:"Bulk delete coming soon!"})})},va=e=>{Ye.notify({type:"positive",message:`Successfully promoted ${e.promoted_count} students!`}),Xl()},pa=()=>{Tl.value?ll.value=!0:Ye.notify({type:"negative",message:"Please select School, Grade, and Classroom before importing"})},ga=async e=>{if(e)try{const l=await _a(e);sl.value=l.map((e,l)=>({index:l,name:e.name||e.Name||"",name_ar:e.name_ar||e["Arabic Name"]||"",name_cute:e.name_cute||e.Nickname||"",notes:e.notes||e.Notes||""}))}catch(l){Ye.notify({type:"negative",message:"Error reading Excel file: "+l.message})}},_a=e=>new Promise((l,a)=>{const o=new FileReader;o.onload=e=>{try{const a=new Uint8Array(e.target.result),o=G(a,{type:"array"}),t=o.Sheets[o.SheetNames[0]],s=O.sheet_to_json(t);l(s)}catch(o){a(o)}},o.onerror=a,o.readAsArrayBuffer(e)}),fa=async()=>{nl.value=!0;let e=0,l=0;try{for(const o of sl.value)try{const l={name:o.name,name_ar:o.name_ar||"",name_cute:o.name_cute||"",school_id:xl.value.school_id,stage_id:xl.value.stage_id,grade_id:xl.value.grade_id,classroom_id:xl.value.classroom_id,notes:o.notes||""};await R.post("/admin/students",l),e++}catch(a){l++,console.error("Import error:",a)}Ye.notify({type:e>0?"positive":"negative",message:`Import complete: ${e} students added${l>0?`, ${l} errors`:""}`,timeout:3e3}),Sa(),await Xl()}catch(a){Ye.notify({type:"negative",message:"Import failed: "+(a.message||"Unknown error")})}finally{nl.value=!1}},ha=()=>{window.location.href="/admin/students/download-template"},ya=()=>{window.location.href="/admin/students/download-template-with-classroom"},ba=async e=>{if(e)try{const l=await _a(e),a=(e,l)=>{const a=Object.keys(e);for(const o of l){if(void 0!==e[o])return e[o];const l=a.find(e=>e.toLowerCase().trim()===o.toLowerCase());if(l&&void 0!==e[l])return e[l]}return""},o=l.length>0&&("classroom"in l[0]||"Classroom"in l[0]||Object.keys(l[0]).some(e=>"classroom"===e.toLowerCase().trim()));if(l.length>0&&!o)return Ye.notify({type:"negative",message:'Invalid file: Missing "classroom" column. Please download the correct template.'}),void(ul.value=null);const t=[],s=[];if(l.forEach((e,l)=>{const o=a(e,["name","Name","Student Name"]),n=a(e,["classroom","Classroom"]),i=a(e,["name_ar","Arabic Name","arabic name","Name Ar"]),d=a(e,["name_cute","Nickname","nickname","Name Cute"]),r=a(e,["notes","Notes"]);o.toString().trim()&&n.toString().trim()?t.push({index:l,name:o.toString().trim(),name_ar:i.toString().trim(),name_cute:d.toString().trim(),classroom:n.toString().trim(),notes:r.toString().trim()}):s.push({row:l+2,reason:o.toString().trim()?"Missing classroom":"Missing name"})}),s.length>0){const e=s.map(e=>`Row ${e.row}: ${e.reason}`).join("\n");Ye.dialog({title:"Invalid Records Found",message:`Found ${s.length} invalid record(s):\n\n${e}\n\nThese rows will be skipped.`,html:!0})}cl.value=t}catch(l){Ye.notify({type:"negative",message:"Error reading Excel file: "+l.message})}},wa=async()=>{var e,l;if(!xl.value.school_id)return void Ye.notify({type:"negative",message:"Please select a school"});const a=cl.value.length;let o=0,t=0,s=0,n=0,i=0,d=0;const r=[],u=Ye.dialog({title:"Importing Students",message:`Processing 0 of ${a} students...`,progress:{spinner:!1,value:0,color:"primary"},persistent:!0,ok:!1});nl.value=!0;try{for(const[m,v]of cl.value.entries())try{const e=await R.post("/admin/students/import-with-classroom",{school_id:xl.value.school_id,name:v.name,name_ar:v.name_ar,name_cute:v.name_cute,classroom:v.classroom,notes:v.notes,import_mode:vl.value});o++;const l=e.data.status;"created"===l?t++:"updated"===l?s++:"duplicate"===l?n++:"restored"===l&&i++;const r="update"===vl.value?`Created: ${t} | Updated: ${s} | Restored: ${i} | Skipped: ${n} | Failed: ${d}`:`Created: ${t} | Restored: ${i} | Duplicates: ${n} | Failed: ${d}`;u.update({message:`Processing ${o} of ${a} students...\\n${r}`,progress:{value:o/a}})}catch(c){o++,d++,r.push({row:m+2,name:v.name,error:(null==(l=null==(e=c.response)?void 0:e.data)?void 0:l.message)||c.message});const p="update"===vl.value?`Created: ${t} | Updated: ${s} | Restored: ${i} | Skipped: ${n} | Failed: ${d}`:`Created: ${t} | Restored: ${i} | Duplicates: ${n} | Failed: ${d}`;u.update({message:`Processing ${o} of ${a} students...\\n${p}`,progress:{value:o/a}})}u.hide(),bl.value={created:t,updated:s,restored:i,duplicates:n,failed:d,errors:r},yl.value=!0,nl.value=!1,await Xl()}catch(c){u.hide(),Ye.notify({type:"negative",message:"Import failed: "+(c.message||"Unknown error")}),nl.value=!1}},xa=()=>{xl.value.school_id?rl.value=!0:Ye.notify({type:"negative",message:"Please select a School first"})},ka=async()=>{gl.value=!0;try{const e=await R.post("/admin/students/validate-import-batch",{school_id:xl.value.school_id,students:cl.value,import_mode:vl.value});_l.value=e.data.validations,fl.value=e.data.summary,cl.value=cl.value.map((e,l)=>{const a=_l.value[l];return{...e,validationStatus:a.status,validationMessage:a.message,validationIcon:a.icon,validationColor:a.color}}),Ye.notify({type:"positive",message:`Validation complete! ${fl.value.total} records checked.`,timeout:2e3})}catch(e){Ye.notify({type:"negative",message:"Validation failed: "+(e.message||"Unknown error")})}finally{gl.value=!1}},Sa=()=>{ll.value=!1,tl.value=null,sl.value=[]},Ca=()=>{rl.value=!1,ul.value=null,cl.value=[],_l.value=[],fl.value=null,hl.value="all",yl.value=!1,bl.value=null};return N(async()=>{var e;(null==(e=He.records)?void 0:e.data)&&(Ke.value=He.records.data,jl.value.rowsNumber=He.records.total||0),He.schools&&He.schools.length>0&&(xl.value.school_id=He.schools[0].id,await Wl())}),(l,V)=>{const $=q("Head");return U(),A("div",B,[j($,{title:"Student Management"}),I("div",L,[I("div",H,[I("div",Y,[j(a,{name:"school",class:"q-mr-sm"}),V[30]||(V[30]=E(" Student Management "))]),V[31]||(V[31]=I("div",{class:"text-subtitle2 text-grey-7"}," Manage students, classrooms, and promotions ",-1))]),I("div",J,[j(s,{push:""},{default:F(()=>[j(o,{color:"primary",icon:"add",label:"Add Student",onClick:V[0]||(V[0]=e=>oa()),disable:!Tl.value,unelevated:""},{default:F(()=>[Tl.value?P("",!0):(U(),Q(t,{key:0},{default:F(()=>V[32]||(V[32]=[E(" Please select School, Grade, and Classroom first ")])),_:1}))]),_:1},8,["disable"]),j(o,{color:"secondary",icon:"upgrade",label:"Promote Students",onClick:V[1]||(V[1]=e=>el.value=!0),unelevated:""}),j(o,{color:"info",icon:"upload_file",label:"Import",onClick:pa,disable:!Tl.value,unelevated:""},{default:F(()=>[Tl.value?P("",!0):(U(),Q(t,{key:0},{default:F(()=>V[33]||(V[33]=[E(" Please select School, Grade, and Classroom first ")])),_:1}))]),_:1},8,["disable"]),j(o,{color:"purple",icon:"cloud_upload",label:"School-Wide Import",onClick:xa,disable:!xl.value.school_id,unelevated:""},{default:F(()=>[xl.value.school_id?P("",!0):(U(),Q(t,{key:0},{default:F(()=>V[34]||(V[34]=[E(" Please select a School first ")])),_:1}))]),_:1},8,["disable"]),j(o,{color:"positive",icon:"download",label:"Export",onClick:ra,unelevated:""})]),_:1})])]),I("div",K,[I("div",X,[j(i,{flat:"",bordered:""},{default:F(()=>[j(n,{class:"bg-primary text-white"},{default:F(()=>[I("div",Z,T(Pl.value),1),V[35]||(V[35]=I("div",{class:"text-caption"},"Total Students",-1))]),_:1})]),_:1})]),I("div",ee,[j(i,{flat:"",bordered:""},{default:F(()=>[j(n,{class:"bg-secondary text-white"},{default:F(()=>[I("div",le,T(El.value),1),V[36]||(V[36]=I("div",{class:"text-caption"},"In Selected School",-1))]),_:1})]),_:1})]),I("div",ae,[j(i,{flat:"",bordered:""},{default:F(()=>[j(n,{class:"bg-positive text-white"},{default:F(()=>[I("div",oe,T(Fl.value),1),V[37]||(V[37]=I("div",{class:"text-caption"},"Filtered Results",-1))]),_:1})]),_:1})]),I("div",te,[j(i,{flat:"",bordered:""},{default:F(()=>[j(n,{class:"bg-info text-white"},{default:F(()=>[I("div",se,T(Ql.value),1),V[38]||(V[38]=I("div",{class:"text-caption"},"Selected",-1))]),_:1})]),_:1})])]),j(i,{flat:"",bordered:"",class:"q-mb-md"},{default:F(()=>[j(n,null,{default:F(()=>[I("div",ne,[I("div",ie,[I("div",de,[j(a,{name:"filter_list",class:"q-mr-sm"}),V[39]||(V[39]=E(" Filters "))])]),I("div",re,[j(o,{flat:"",dense:"",icon:"clear",label:"Clear All",onClick:Zl,color:"negative"})])]),I("div",ue,[I("div",ce,[j(y,{modelValue:xl.value.school_id,"onUpdate:modelValue":[V[2]||(V[2]=e=>xl.value.school_id=e),Wl],options:e.schools,"option-value":"id","option-label":"name",label:"School",outlined:"",dense:"",clearable:"","emit-value":"","map-options":""},{prepend:F(()=>[j(a,{name:"business"})]),_:1},8,["modelValue","options"])]),I("div",me,[j(y,{modelValue:xl.value.stage_id,"onUpdate:modelValue":[V[3]||(V[3]=e=>xl.value.stage_id=e),Bl],options:kl.value,"option-value":"id","option-label":"name",label:"Stage",outlined:"",dense:"",clearable:"","emit-value":"","map-options":"",disable:!xl.value.school_id},{prepend:F(()=>[j(a,{name:"layers"})]),_:1},8,["modelValue","options","disable"])]),I("div",ve,[j(y,{modelValue:xl.value.grade_id,"onUpdate:modelValue":[V[4]||(V[4]=e=>xl.value.grade_id=e),Ll],options:Sl.value,"option-value":"id","option-label":"name",label:"Grade",outlined:"",dense:"",clearable:"","emit-value":"","map-options":"",disable:!xl.value.school_id},{prepend:F(()=>[j(a,{name:"school"})]),_:1},8,["modelValue","options","disable"])]),I("div",pe,[j(y,{modelValue:xl.value.classroom_id,"onUpdate:modelValue":[V[5]||(V[5]=e=>xl.value.classroom_id=e),Xl],options:Cl.value,"option-value":"id","option-label":"name",label:"Classroom",outlined:"",dense:"",clearable:"","emit-value":"","map-options":"",disable:!xl.value.school_id,onPopupShow:Hl},{prepend:F(()=>[j(a,{name:"meeting_room"})]),"no-option":F(()=>[j(d,null,{default:F(()=>[j(r,{class:"text-grey"},{default:F(()=>[E(T(0===Cl.value.length?"Click to load classrooms...":"No classrooms available"),1)]),_:1})]),_:1})]),_:1},8,["modelValue","options","disable"])]),I("div",ge,[j(u,{modelValue:xl.value.search,"onUpdate:modelValue":[V[6]||(V[6]=e=>xl.value.search=e),la],label:"Search by name or ID",outlined:"",dense:"",clearable:""},{prepend:F(()=>[j(a,{name:"search"})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),j(i,{flat:"",bordered:""},{default:F(()=>[j(x,{rows:Ke.value,columns:Il,"row-key":"id",loading:Je.value,pagination:jl.value,onRequest:aa,selection:"multiple",selected:Xe.value,"onUpdate:selected":V[7]||(V[7]=e=>Xe.value=e),flat:"","rows-per-page-options":[10,25,50,100]},{top:F(()=>[I("div",_e,[V[40]||(V[40]=I("div",{class:"text-h6"},"Students List",-1)),Xe.value.length>0?(U(),A("div",fe,T(Xe.value.length)+" student(s) selected ",1)):P("",!0)])]),"body-cell-index":F(e=>[j(b,{props:e},{default:F(()=>[E(T(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-avatar":F(e=>[j(b,{props:e},{default:F(()=>[j(c,{color:"primary","text-color":"white",size:"md"},{default:F(()=>[E(T(Gl(e.row.name)),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-name":F(e=>[j(b,{props:e},{default:F(()=>[I("div",he,T(e.row.name),1),I("div",ye,T(e.row.name_ar),1)]),_:2},1032,["props"])]),"body-cell-s_id":F(e=>[j(b,{props:e},{default:F(()=>[j(w,{color:"grey-7",outline:""},{default:F(()=>[E(T(e.row.s_id),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-school":F(e=>[j(b,{props:e},{default:F(()=>{var l;return[I("div",null,T(null==(l=e.row.school)?void 0:l.name),1)]}),_:2},1032,["props"])]),"body-cell-classroom":F(e=>[j(b,{props:e},{default:F(()=>[j(w,{color:"secondary"},{default:F(()=>{var l;return[E(T(null==(l=e.row.classroom)?void 0:l.name),1)]}),_:2},1024)]),_:2},1032,["props"])]),"body-cell-grade":F(e=>[j(b,{props:e},{default:F(()=>{var l;return[I("div",null,T(null==(l=e.row.grade)?void 0:l.name),1)]}),_:2},1032,["props"])]),"body-cell-actions":F(e=>[j(b,{props:e},{default:F(()=>[j(s,{flat:""},{default:F(()=>[j(o,{flat:"",dense:"",round:"",icon:"edit",color:"primary",onClick:l=>oa(e.row)},{default:F(()=>[j(t,null,{default:F(()=>V[41]||(V[41]=[E("Edit")])),_:1})]),_:2},1032,["onClick"]),j(o,{flat:"",dense:"",round:"",icon:"history",color:"info",onClick:l=>(async e=>{try{const l=await R.get(`/admin/students/${e.id}/classroom-history`);Ye.dialog({title:`Classroom History - ${e.name}`,message:JSON.stringify(l.data.history,null,2)})}catch(l){Ye.notify({type:"negative",message:"Failed to load history"})}})(e.row)},{default:F(()=>[j(t,null,{default:F(()=>V[42]||(V[42]=[E("View History")])),_:1})]),_:2},1032,["onClick"]),j(o,{flat:"",dense:"",round:"",icon:"delete",color:"negative",onClick:l=>(async e=>{Ye.dialog({title:"Confirm Delete",message:`Are you sure you want to delete ${e.name}?`,cancel:!0,persistent:!0}).onOk(async()=>{try{await R.delete(`/admin/students/${e.id}`),Ye.notify({type:"positive",message:"Student deleted successfully"}),Xl()}catch(l){Ye.notify({type:"negative",message:"Failed to delete student"})}})})(e.row)},{default:F(()=>[j(t,null,{default:F(()=>V[43]||(V[43]=[E("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),"no-data":F(()=>[I("div",be,[j(a,{size:"2em",name:"sentiment_dissatisfied"}),V[44]||(V[44]=I("span",null,"No students found. Try adjusting your filters.",-1))])]),_:1},8,["rows","loading","pagination","selected"])]),_:1}),Xe.value.length>0?(U(),A("div",we,[j(S,{class:"bg-primary text-white shadow-up-2",style:{"border-radius":"4px"}},{default:F(()=>[j(k,null,{default:F(()=>[E(T(Xe.value.length)+" student(s) selected ",1)]),_:1}),j(o,{flat:"",label:"Change Classroom",icon:"meeting_room",onClick:ua}),j(o,{flat:"",label:"Export Selected",icon:"download",onClick:ca}),j(o,{flat:"",label:"Delete Selected",icon:"delete",onClick:ma}),j(o,{flat:"",round:"",dense:"",icon:"close",onClick:V[8]||(V[8]=e=>Xe.value=[])})]),_:1})])):P("",!0),j(_,{modelValue:Ze.value,"onUpdate:modelValue":V[17]||(V[17]=e=>Ze.value=e),persistent:""},{default:F(()=>[j(i,{style:{"min-width":"600px"}},{default:F(()=>[j(n,{class:"bg-primary text-white"},{default:F(()=>[I("div",xe,T(al.value?"Edit Student":"Add New Student"),1),al.value?P("",!0):(U(),A("div",ke," Adding to: "+T(Ol()),1))]),_:1}),j(n,null,{default:F(()=>[al.value?P("",!0):(U(),Q(m,{key:0,class:"bg-info text-white q-mb-md",rounded:""},{avatar:F(()=>[j(a,{name:"info"})]),default:F(()=>[V[45]||(V[45]=I("div",{class:"text-weight-bold"},"Selected Context:",-1)),I("div",null,T(zl())+" â†’ "+T(Dl())+" â†’ "+T(Rl()),1)]),_:1})),I("div",Se,[I("div",Ce,[j(u,{modelValue:Ul.value.name,"onUpdate:modelValue":V[9]||(V[9]=e=>Ul.value.name=e),label:"Name *",outlined:"",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),I("div",Ve,[j(u,{modelValue:Ul.value.name_ar,"onUpdate:modelValue":V[10]||(V[10]=e=>Ul.value.name_ar=e),label:"Arabic Name",outlined:""},null,8,["modelValue"])]),I("div",$e,[j(u,{modelValue:Ul.value.name_cute,"onUpdate:modelValue":V[11]||(V[11]=e=>Ul.value.name_cute=e),label:"Nickname",outlined:""},null,8,["modelValue"])]),al.value?(U(),A(z,{key:0},[I("div",Ne,[j(m,{class:"bg-grey-2 q-mb-md",rounded:""},{avatar:F(()=>[j(a,{name:"info",color:"primary"})]),default:F(()=>[V[46]||(V[46]=I("div",{class:"text-weight-bold"},"Current Assignment:",-1)),I("div",null,[j(v,{dense:"",color:"secondary","text-color":"white",icon:"business"},{default:F(()=>{var e;return[E(T((null==(e=al.value.school)?void 0:e.name)||"N/A"),1)]}),_:1}),j(v,{dense:"",color:"info","text-color":"white",icon:"layers"},{default:F(()=>{var e;return[E(T((null==(e=al.value.stage)?void 0:e.name)||"N/A"),1)]}),_:1}),j(v,{dense:"",color:"primary","text-color":"white",icon:"school"},{default:F(()=>{var e;return[E(T((null==(e=al.value.grade)?void 0:e.name)||"N/A"),1)]}),_:1}),j(v,{dense:"",color:"accent","text-color":"white",icon:"meeting_room"},{default:F(()=>{var e;return[E(T((null==(e=al.value.classroom)?void 0:e.name)||"N/A"),1)]}),_:1})])]),_:1})]),I("div",qe,[j(y,{modelValue:Ul.value.school_id,"onUpdate:modelValue":[V[12]||(V[12]=e=>Ul.value.school_id=e),sa],options:e.schools,"option-value":"id","option-label":"name",label:"School *",outlined:"","emit-value":"","map-options":"",rules:[e=>!!e||"School is required"]},null,8,["modelValue","options","rules"])]),I("div",Ae,[j(y,{modelValue:Ul.value.stage_id,"onUpdate:modelValue":[V[13]||(V[13]=e=>Ul.value.stage_id=e),na],options:Nl.value,"option-value":"id","option-label":"name",label:"Stage *",outlined:"","emit-value":"","map-options":"",disable:!Ul.value.school_id,rules:[e=>!!e||"Stage is required"]},null,8,["modelValue","options","disable","rules"])]),I("div",Ue,[j(y,{modelValue:Ul.value.grade_id,"onUpdate:modelValue":[V[14]||(V[14]=e=>Ul.value.grade_id=e),ia],options:ql.value,"option-value":"id","option-label":"name",label:"Grade *",outlined:"","emit-value":"","map-options":"",disable:!Ul.value.stage_id,rules:[e=>!!e||"Grade is required"]},null,8,["modelValue","options","disable","rules"])]),I("div",je,[j(y,{modelValue:Ul.value.classroom_id,"onUpdate:modelValue":[V[15]||(V[15]=e=>Ul.value.classroom_id=e),ta],options:Al.value,"option-value":"id","option-label":"name",label:"Classroom *",outlined:"","emit-value":"","map-options":"",disable:!Ul.value.grade_id,rules:[e=>!!e||"Classroom is required"]},{prepend:F(()=>[j(a,{name:"meeting_room"})]),_:1},8,["modelValue","options","disable","rules"]),il.value?(U(),Q(m,{key:0,class:"bg-warning text-white q-mt-sm",dense:"",rounded:""},{avatar:F(()=>[j(a,{name:"warning"})]),default:F(()=>[V[47]||(V[47]=I("strong",null,"Warning:",-1)),V[48]||(V[48]=E(" Changing the classroom will update the student's assignment and may affect their schedule and records. "))]),_:1})):P("",!0)])],64)):P("",!0),I("div",Ie,[j(u,{modelValue:Ul.value.notes,"onUpdate:modelValue":V[16]||(V[16]=e=>Ul.value.notes=e),label:"Notes",outlined:"",type:"textarea",rows:"3"},null,8,["modelValue"])])])]),_:1}),j(p,{align:"right"},{default:F(()=>[D(j(o,{flat:"",label:"Cancel",color:"negative"},null,512),[[g]]),j(o,{unelevated:"",label:"Save",color:"primary",onClick:da,loading:ol.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(W,{modelValue:el.value,"onUpdate:modelValue":V[18]||(V[18]=e=>el.value=e),grades:Vl.value,"academic-years":$l.value,onPromoted:va},null,8,["modelValue","grades","academic-years"]),j(_,{modelValue:ll.value,"onUpdate:modelValue":V[20]||(V[20]=e=>ll.value=e),persistent:""},{default:F(()=>[j(i,{style:{"min-width":"700px","max-width":"90vw"}},{default:F(()=>[j(n,{class:"bg-info text-white"},{default:F(()=>[V[49]||(V[49]=I("div",{class:"text-h6"},"Import Students",-1)),I("div",Pe," Importing to: "+T(Ol()),1)]),_:1}),sl.value.length?(U(),Q(n,{key:1,class:"q-pt-none",style:{"max-height":"400px","overflow-y":"auto"}},{default:F(()=>[I("div",Ee,"Preview ("+T(sl.value.length)+" students)",1),j(x,{rows:sl.value,columns:ml,"row-key":"index",flat:"",dense:"",pagination:{rowsPerPage:10}},null,8,["rows"])]),_:1})):(U(),Q(n,{key:0},{default:F(()=>[j(C,{modelValue:tl.value,"onUpdate:modelValue":[V[19]||(V[19]=e=>tl.value=e),ga],label:"Select Excel file",accept:".xlsx,.xls",outlined:""},{prepend:F(()=>[j(a,{name:"attach_file"})]),_:1},8,["modelValue"]),j(m,{class:"bg-grey-2 q-mt-md",rounded:""},{avatar:F(()=>[j(a,{name:"info",color:"info"})]),action:F(()=>[j(o,{flat:"",dense:"",label:"Download Template",icon:"download",color:"primary",onClick:ha})]),default:F(()=>[V[50]||(V[50]=I("div",{class:"text-caption"},[I("strong",null,"Required columns:"),E(" name"),I("br"),I("strong",null,"Optional columns:"),E(" name_ar, name_cute, notes ")],-1))]),_:1})]),_:1})),j(p,{align:"right"},{default:F(()=>[j(o,{flat:"",label:"Cancel",color:"negative",onClick:Sa}),sl.value.length?(U(),Q(o,{key:0,unelevated:"",label:"Import All",color:"primary",onClick:fa,loading:nl.value},null,8,["loading"])):P("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),j(_,{modelValue:rl.value,"onUpdate:modelValue":V[29]||(V[29]=e=>rl.value=e),persistent:""},{default:F(()=>[j(i,{style:{"min-width":"700px","max-width":"90vw"}},{default:F(()=>[j(n,{class:"bg-purple text-white"},{default:F(()=>[V[51]||(V[51]=I("div",{class:"text-h6"},"School-Wide Import",-1)),I("div",Fe," Importing to: "+T(zl()),1)]),_:1}),cl.value.length?(U(),Q(n,{key:1,class:"q-pt-none"},{default:F(()=>[I("div",Re,"Preview ("+T(Ml.value.length)+" of "+T(cl.value.length)+" students)",1),_l.value.length?(U(),A("div",Oe,[j(s,{outline:""},{default:F(()=>[j(o,{outline:"all"!==hl.value,unelevated:"all"===hl.value,label:"All",color:"grey-7",size:"sm",onClick:V[23]||(V[23]=e=>hl.value="all")},null,8,["outline","unelevated"]),fl.value.errors>0?(U(),Q(o,{key:0,outline:"error"!==hl.value,unelevated:"error"===hl.value,label:`âŒ Errors (${fl.value.errors})`,color:"negative",size:"sm",onClick:V[24]||(V[24]=e=>hl.value="error")},null,8,["outline","unelevated","label"])):P("",!0),fl.value.will_create>0?(U(),Q(o,{key:1,outline:"will_create"!==hl.value,unelevated:"will_create"===hl.value,label:`âœ… Create (${fl.value.will_create})`,color:"positive",size:"sm",onClick:V[25]||(V[25]=e=>hl.value="will_create")},null,8,["outline","unelevated","label"])):P("",!0),fl.value.will_update>0?(U(),Q(o,{key:2,outline:"will_update"!==hl.value,unelevated:"will_update"===hl.value,label:`ðŸ“ Update (${fl.value.will_update})`,color:"primary",size:"sm",onClick:V[26]||(V[26]=e=>hl.value="will_update")},null,8,["outline","unelevated","label"])):P("",!0),fl.value.will_restore>0?(U(),Q(o,{key:3,outline:"will_restore"!==hl.value,unelevated:"will_restore"===hl.value,label:`ðŸ”„ Restore (${fl.value.will_restore})`,color:"info",size:"sm",onClick:V[27]||(V[27]=e=>hl.value="will_restore")},null,8,["outline","unelevated","label"])):P("",!0),fl.value.will_skip>0?(U(),Q(o,{key:4,outline:"will_skip"!==hl.value,unelevated:"will_skip"===hl.value,label:`â­ï¸ Skip (${fl.value.will_skip})`,color:"warning",size:"sm",onClick:V[28]||(V[28]=e=>hl.value="will_skip")},null,8,["outline","unelevated","label"])):P("",!0)]),_:1})])):P("",!0),j(x,{rows:Ml.value,columns:wl,"row-key":"index",flat:"",bordered:"",dense:"",pagination:{rowsPerPage:20},style:{"max-height":"400px"},"virtual-scroll":""},{"body-cell-status":F(e=>[j(b,{props:e},{default:F(()=>[e.row.validationStatus?(U(),Q(w,{key:0,color:e.row.validationColor||"grey",label:e.row.validationIcon+" "+e.row.validationMessage},null,8,["color","label"])):(U(),Q(w,{key:1,color:"grey",label:"â³ Pending validation"}))]),_:2},1032,["props"])]),_:1},8,["rows"]),fl.value?(U(),A("div",Me,[j(h,{class:"q-mb-md"}),V[58]||(V[58]=I("div",{class:"text-subtitle2 q-mb-sm"},"ðŸ“Š Validation Summary",-1)),I("div",Ge,[j(v,{color:"grey-3","text-color":"grey-9",dense:""},{default:F(()=>[V[56]||(V[56]=I("strong",null,"Total:",-1)),E(" "+T(fl.value.total),1)]),_:1}),fl.value.will_create>0?(U(),Q(v,{key:0,color:"positive","text-color":"white",dense:""},{default:F(()=>[E(" âœ… Will Create: "+T(fl.value.will_create),1)]),_:1})):P("",!0),fl.value.will_update>0?(U(),Q(v,{key:1,color:"primary","text-color":"white",dense:""},{default:F(()=>[E(" ðŸ“ Will Update: "+T(fl.value.will_update),1)]),_:1})):P("",!0),fl.value.will_restore>0?(U(),Q(v,{key:2,color:"info","text-color":"white",dense:""},{default:F(()=>[E(" ðŸ”„ Will Restore: "+T(fl.value.will_restore),1)]),_:1})):P("",!0),fl.value.will_skip>0?(U(),Q(v,{key:3,color:"warning","text-color":"white",dense:""},{default:F(()=>[E(" â­ï¸ Will Skip: "+T(fl.value.will_skip),1)]),_:1})):P("",!0),fl.value.errors>0?(U(),Q(v,{key:4,color:"negative","text-color":"white",dense:""},{default:F(()=>[E(" âŒ Errors: "+T(fl.value.errors),1)]),_:1})):P("",!0)]),fl.value.errors>0?(U(),Q(m,{key:0,class:"bg-red-1 text-negative q-mt-sm",dense:"",rounded:""},{avatar:F(()=>[j(a,{name:"warning",color:"negative"})]),default:F(()=>[V[57]||(V[57]=I("strong",null,"Cannot import:",-1)),E(" Please fix "+T(fl.value.errors)+' error(s) before importing. Click the "âŒ Errors" filter above to see only problematic records. ',1)]),_:1})):P("",!0)])):P("",!0)]),_:1})):(U(),Q(n,{key:0},{default:F(()=>[I("div",Qe,[V[54]||(V[54]=I("div",{class:"text-subtitle2 q-mb-sm"},"Import Mode",-1)),j(f,{modelValue:vl.value,"onUpdate:modelValue":V[21]||(V[21]=e=>vl.value=e),options:pl,color:"purple",inline:""},null,8,["modelValue"]),j(m,{class:"bg-blue-1 q-mt-sm",dense:"",rounded:""},{avatar:F(()=>[j(a,{name:"skip"===vl.value?"info":"update",color:"primary"},null,8,["name"])]),default:F(()=>[I("div",Te,["skip"===vl.value?(U(),A("span",ze,V[52]||(V[52]=[I("strong",null,"Skip Mode:",-1),E(" Existing students will be left unchanged. Only new students will be created. ")]))):(U(),A("span",De,V[53]||(V[53]=[I("strong",null,"Update Mode:",-1),E(" Existing students will be updated with new data from Excel (non-empty fields only). ")])))])]),_:1})]),j(C,{modelValue:ul.value,"onUpdate:modelValue":[V[22]||(V[22]=e=>ul.value=e),ba],label:"Select Excel file with classroom column",accept:".xlsx,.xls",outlined:""},{prepend:F(()=>[j(a,{name:"attach_file"})]),_:1},8,["modelValue"]),j(m,{class:"bg-grey-2 q-mt-md",rounded:""},{avatar:F(()=>[j(a,{name:"info",color:"info"})]),action:F(()=>[j(o,{flat:"",dense:"",label:"Download Template",icon:"download",color:"primary",onClick:ya})]),default:F(()=>[V[55]||(V[55]=I("div",{class:"text-caption"},[I("strong",null,"Required columns:"),E(" name, classroom"),I("br"),I("strong",null,"Optional columns:"),E(" name_ar, name_cute, notes"),I("br"),I("strong",null,"Classroom formats:"),E(' "4A", "Grade 4 - A", "4-A" ')],-1))]),_:1})]),_:1})),yl.value?(U(),Q(n,{key:2,class:"bg-green-1 q-pa-md"},{default:F(()=>[I("div",We,[j(a,{name:"check_circle",size:"sm",class:"q-mr-sm"}),V[59]||(V[59]=E(" Import Complete! "))]),I("div",Be,[j(v,{color:"grey-7","text-color":"white",size:"md"},{default:F(()=>[V[60]||(V[60]=I("strong",null,"Total:",-1)),E(" "+T(bl.value.created+bl.value.updated+bl.value.restored+bl.value.duplicates+bl.value.failed),1)]),_:1})]),I("div",Le,[bl.value.created>0?(U(),Q(v,{key:0,color:"positive","text-color":"white",size:"md"},{default:F(()=>[E(" âœ… Created: "+T(bl.value.created),1)]),_:1})):P("",!0),bl.value.updated>0?(U(),Q(v,{key:1,color:"primary","text-color":"white",size:"md"},{default:F(()=>[E(" ðŸ“ Updated: "+T(bl.value.updated),1)]),_:1})):P("",!0),bl.value.restored>0?(U(),Q(v,{key:2,color:"info","text-color":"white",size:"md"},{default:F(()=>[E(" ðŸ”„ Restored: "+T(bl.value.restored),1)]),_:1})):P("",!0),bl.value.duplicates>0?(U(),Q(v,{key:3,color:"warning","text-color":"white",size:"md"},{default:F(()=>[E(" â­ï¸ Skipped: "+T(bl.value.duplicates),1)]),_:1})):P("",!0),bl.value.failed>0?(U(),Q(v,{key:4,color:"negative","text-color":"white",size:"md"},{default:F(()=>[E(" âŒ Failed: "+T(bl.value.failed),1)]),_:1})):P("",!0)]),bl.value.failed>0?(U(),Q(m,{key:0,class:"bg-red-1 text-negative q-mt-md",dense:"",rounded:""},{avatar:F(()=>[j(a,{name:"error",color:"negative"})]),default:F(()=>[I("strong",null,T(bl.value.failed)+" record(s) failed.",1),V[61]||(V[61]=E(" Check browser console for details. "))]),_:1})):P("",!0)]),_:1})):P("",!0),j(p,{align:"right"},{default:F(()=>[j(o,{flat:"",label:"Cancel",color:"negative",onClick:Ca}),cl.value.length&&!_l.value.length?(U(),Q(o,{key:0,unelevated:"",label:"Validate All",color:"info",icon:"fact_check",onClick:ka,loading:gl.value},null,8,["loading"])):P("",!0),_l.value.length?(U(),Q(o,{key:1,unelevated:"",label:"Import All",color:"purple",icon:"upload",onClick:wa,loading:nl.value,disable:fl.value&&fl.value.errors>0},null,8,["loading","disable"])):P("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-f3b0041d"]]);export{He as default};
