import{E as e,F as a,aJ as l,ap as o,H as t,P as r,p as n,A as s,Q as i}from"./app-BXm70mdJ.js";import{Q as u,a as v}from"./QToolbar-B4c8gRiI.js";import{Q as d}from"./QHeader-z7_kLwcc.js";import{Q as f}from"./QDrawer-ByXKDmb1.js";import{Q as c}from"./QPageContainer-BLnY4C70.js";import{q as p,f as m,a as g,p as h,k as w,z as b,h as _,ac as V,H as y,I as Q,J as q,b as j,V as x,M as H}from"./vendor-DNM7Y6Xn.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";const z=e({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:s}){const{proxy:{$q:i}}=h(),u=p(l,a);if(u===a)return console.error("QFooter needs to be child of QLayout"),a;const v=m(parseInt(e.heightHint,10)),d=m(!0),f=m(!0===o.value||!0===u.isContainer.value?0:window.innerHeight),c=g(()=>!0===e.reveal||-1!==u.view.value.indexOf("F")||i.platform.is.ios&&!0===u.isContainer.value),V=g(()=>!0===u.isContainer.value?u.containerHeight.value:f.value),y=g(()=>{if(!0!==e.modelValue)return 0;if(!0===c.value)return!0===d.value?v.value:0;const a=u.scroll.value.position+V.value+v.value-u.height.value;return a>0?a:0}),Q=g(()=>!0!==e.modelValue||!0===c.value&&!0!==d.value),q=g(()=>!0===e.modelValue&&!0===Q.value&&!0===e.reveal),j=g(()=>"q-footer q-layout__section--marginal "+(!0===c.value?"fixed":"absolute")+"-bottom"+(!0===e.bordered?" q-footer--bordered":"")+(!0===Q.value?" q-footer--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus"+(!0!==c.value?" hidden":""):"")),x=g(()=>{const e=u.rows.value.bottom,a={};return"l"===e[0]&&!0===u.left.space&&(a[!0===i.lang.rtl?"right":"left"]=`${u.left.size}px`),"r"===e[2]&&!0===u.right.space&&(a[!0===i.lang.rtl?"left":"right"]=`${u.right.size}px`),a});function H(e,a){u.update("footer",e,a)}function z(e,a){e.value!==a&&(e.value=a)}function C({height:e}){z(v,e),H("size",e)}function D(e){!0===q.value&&z(d,!0),s("focusin",e)}w(()=>e.modelValue,e=>{H("space",e),z(d,!0),u.animate()}),w(y,e=>{H("offset",e)}),w(()=>e.reveal,a=>{!1===a&&z(d,e.modelValue)}),w(d,e=>{u.animate(),s("reveal",e)}),w([v,u.scroll,u.height],function(){if(!0!==e.reveal)return;const{direction:a,position:l,inflectionPoint:o}=u.scroll.value;z(d,"up"===a||l-o<100||u.height.value-V.value-l-v.value<300)}),w(()=>i.screen.height,e=>{!0!==u.isContainer.value&&z(f,e)});const F={};return u.instances.footer=F,!0===e.modelValue&&H("size",v.value),H("space",e.modelValue),H("offset",y.value),b(()=>{u.instances.footer===F&&(u.instances.footer=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const a=t(n.default,[_(r,{debounce:0,onResize:C})]);return!0===e.elevated&&a.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_("footer",{class:j.value,style:x.value,onFocusin:D},a)}}});const C=n({setup(){const e=m(!1);return{rightDrawerOpen:e,toggleRightDrawer(){e.value=!e.value}}}},[["render",function(e,a,l,o,t,r){const n=V("router-view"),p=V("q-layout",!0);return Q(),y(p,{view:"hHh lpR fFf"},{default:q(()=>[j(d,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:q(()=>[j(u,null,{default:q(()=>[j(v,null,{default:q(()=>[j(s,null,{default:q(()=>a[1]||(a[1]=[H("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[2]||(a[2]=x(" Title "))]),_:1}),j(i,{dense:"",flat:"",round:"",icon:"menu",onClick:o.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),j(f,{modelValue:o.rightDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=e=>o.rightDrawerOpen=e),side:"right",overlay:"",behavior:"mobile",elevated:""},null,8,["modelValue"]),j(c,null,{default:q(()=>[j(n)]),_:1}),j(z,{reveal:"",elevated:"",class:"bg-grey-8 text-white"},{default:q(()=>[j(u,null,{default:q(()=>[j(v,null,{default:q(()=>[j(s,null,{default:q(()=>a[3]||(a[3]=[H("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),a[4]||(a[4]=H("div",null,"Title",-1))]),_:1})]),_:1})]),_:1})]),_:1})}]]);export{C as default};
