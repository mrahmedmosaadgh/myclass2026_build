import{p as e,u as t,d as l,Q as s,a as o,n as a,g as r,h as i,i as n,j as d,e as c,k as u}from"./app-Dccx8xF5.js";import{Q as m}from"./QForm-Df8AW4W_.js";import{r as v,f,H as p,I as b,J as _,M as g,b as y,U as x,V as h,_ as q}from"./vendor-EI0FRBVb.js";import{_ as S}from"./AppLayout-CE2yjlSr.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const j={class:"q-pa-md"},w={class:"row items-center justify-between"},k={class:"text-subtitle2"},V={class:"row q-col-gutter-md"},U={class:"col-12 col-md-8"},C={class:"q-mb-md"},E={class:"q-mb-md"},L={class:"col-12 col-md-4"},O={class:"level-context"},A={class:"text-h6 text-primary"},F={class:"text-caption text-grey-7 q-mt-xs"},I={class:"section-preview"},P={class:"text-subtitle1 text-primary"},Q={class:"text-caption text-grey-7"},B={class:"row justify-end q-gutter-sm"},M=e({__name:"Edit",props:{section:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(e){const M=e,T=t(),$=v({title:M.section.title,order:M.section.order}),H=f(!1),J=()=>{H.value=!0,q.put(route("course-management.sections.update",M.section.id),$,{onSuccess:()=>{T.notify({type:"positive",message:"Section updated successfully!",icon:"check_circle"})},onError:e=>{T.notify({type:"negative",message:"Please check the form for errors.",icon:"error"})},onFinish:()=>{H.value=!1}})};return(t,v)=>(b(),p(S,{title:"Edit Section"},{default:_(()=>[g("div",j,[y(a,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>{var l;return[g("div",w,[g("div",null,[v[4]||(v[4]=g("div",{class:"text-h6"},"Edit Section",-1)),g("div",k,'Update section information for "'+x(null==(l=e.section.level)?void 0:l.title)+'"',1)]),y(s,{flat:"",color:"grey-7",icon:"arrow_back",label:"Back to Section",onClick:v[0]||(v[0]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))})])]}),_:1}),y(o),y(m,{onSubmit:J,class:"q-pa-md"},{default:_(()=>[g("div",V,[g("div",U,[y(a,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>[v[5]||(v[5]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Information",-1)),g("div",C,[y(r,{modelValue:$.title,"onUpdate:modelValue":v[1]||(v[1]=e=>$.title=e),label:"Section Title *",outlined:"",error:!!e.errors.title,"error-message":e.errors.title,placeholder:"e.g., Adding Fractions, Basic Shapes"},null,8,["modelValue","error","error-message"])]),g("div",E,[y(r,{modelValue:$.order,"onUpdate:modelValue":v[2]||(v[2]=e=>$.order=e),modelModifiers:{number:!0},label:"Order",outlined:"",type:"number",min:"0",error:!!e.errors.order,"error-message":e.errors.order,hint:"Position of this section in the level"},null,8,["modelValue","error","error-message"])])]),_:1})]),_:1})]),g("div",L,[y(a,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>{var t,l,s;return[v[6]||(v[6]=g("div",{class:"text-subtitle1 q-mb-md"},"Level Context",-1)),g("div",O,[g("div",A,x(null==(t=e.section.level)?void 0:t.title),1),g("div",F,' Level in "'+x(null==(s=null==(l=e.section.level)?void 0:l.course)?void 0:s.name)+'" ',1)])]}),_:1})]),_:1}),y(a,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[y(l,null,{default:_(()=>[v[8]||(v[8]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Stats",-1)),y(i,{dense:""},{default:_(()=>[y(n,null,{default:_(()=>[y(d,{avatar:""},{default:_(()=>[y(c,{name:"school",color:"orange"})]),_:1}),y(d,null,{default:_(()=>[y(u,null,{default:_(()=>{var t;return[h(x((null==(t=e.section.lessons)?void 0:t.length)||0)+" Lessons",1)]}),_:1})]),_:1})]),_:1}),y(n,null,{default:_(()=>[y(d,{avatar:""},{default:_(()=>[y(c,{name:"person",color:"purple"})]),_:1}),y(d,null,{default:_(()=>[y(u,null,{default:_(()=>{var t;return[h(x((null==(t=e.section.creator)?void 0:t.name)||"Unknown"),1)]}),_:1}),y(u,{caption:""},{default:_(()=>v[7]||(v[7]=[h("Creator")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),y(a,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[y(l,null,{default:_(()=>[v[9]||(v[9]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Preview",-1)),g("div",I,[g("div",P,x($.title||"Section Title"),1),g("div",Q," Order: "+x($.order||"Auto"),1)])]),_:1})]),_:1})])]),y(o,{class:"q-my-md"}),g("div",B,[y(s,{flat:"",label:"Cancel",color:"grey-7",onClick:v[3]||(v[3]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))}),y(s,{type:"submit",label:"Update Section",color:"primary",icon:"save",loading:H.value},null,8,["loading"])])]),_:1})]),_:1})])]),_:1}))}},[["__scopeId","data-v-5aa8c239"]]);export{M as default};
