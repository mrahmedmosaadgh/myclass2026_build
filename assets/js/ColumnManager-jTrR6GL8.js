import{d as e}from"./vuedraggable.umd-C4qRof-w.js";import{M as l}from"./Modal-ClD0vphk.js";import{f as s,o as a,k as o,N as t,J as n,b as r,K as d,O as i,z as u,y as c,ac as p,aR as m,ae as v,U as h}from"./vendor-nQjeLEvd.js";import"./index-DTdDyFNb.js";import"./app-Cs5CKgHw.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const g={class:"p-2"},x={class:"p-6"},y={class:"flex items-center space-x-4 p-2 bg-gray-50 rounded border border-gray-200"},f={class:"flex-grow"},k=["onUpdate:modelValue","placeholder"],b={class:"flex items-center space-x-4"},w={class:"flex items-center space-x-2"},C=["value","onChange"],j={class:"flex items-center space-x-2"},M=["onUpdate:modelValue"],_=["onClick","title"],U={__name:"ColumnManager",props:{show:{type:Boolean,default:!1},columns:{type:Array,required:!0}},emits:["update:columns","close"],setup(U,{emit:V}){const q=U,z=V,S=s([...q.columns]),B=s("");a(()=>{const e=S.value.find(e=>!0===e.is_id);e&&(B.value=e.key)}),o(()=>q.columns,e=>{if(JSON.stringify(e)!==JSON.stringify(S.value)){S.value=[...e];const l=S.value.find(e=>!0===e.is_id);l&&(B.value=l.key)}},{deep:!0});const J=()=>{z("update:columns",[...S.value])},N=()=>{S.value=[...q.columns];const e=S.value.find(e=>!0===e.is_id);e&&(B.value=e.key),J()},O=()=>{console.log("Updated columns:",S.value),J(),z("close")};return(s,a)=>(n(),t("div",g,[r(l,{show:U.show,onClose:a[2]||(a[2]=e=>s.$emit("close"))},{default:d(()=>[i("div",x,[a[7]||(a[7]=i("h3",{class:"text-lg font-semibold mb-4"},"Manage Import Columns",-1)),r(u(e),{modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),class:"space-y-2",handle:".handle","item-key":"key",onEnd:J},{item:d(({element:e})=>[i("div",y,[a[6]||(a[6]=i("div",{class:"handle cursor-move px-2"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),i("div",f,[c(i("input",{type:"text","onUpdate:modelValue":l=>e.label=l,class:"w-full px-2 py-1 border rounded",placeholder:e.key,onChange:J},null,40,k),[[p,e.label]])]),i("div",b,[i("label",w,[c(i("input",{type:"radio",value:e.key,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e),onChange:l=>{return s=e.key,S.value.forEach(e=>{e.is_id=e.key===s}),void J();var s},name:"id_field"},null,40,C),[[m,B.value]]),a[3]||(a[3]=i("span",{class:"text-sm"},"ID Field",-1))]),i("label",j,[c(i("input",{type:"checkbox","onUpdate:modelValue":l=>e.required=l,onChange:J},null,40,M),[[v,e.required]]),a[4]||(a[4]=i("span",{class:"text-sm"},"Required",-1))]),i("button",{onClick:l=>{return(s=e).hidden=!s.hidden,void J();var s},class:"p-1 rounded hover:bg-gray-200",title:e.hidden?"Show column":"Hide column"},[(n(),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:h(["h-5 w-5",e.hidden?"text-gray-400":"text-gray-600"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},a[5]||(a[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)]),2))],8,_)])])]),_:1},8,["modelValue"]),i("div",{class:"mt-4 flex justify-end space-x-2"},[i("button",{onClick:N,class:"px-4 py-2 text-sm text-gray-600 border rounded hover:bg-gray-50"}," Reset "),i("button",{onClick:O,class:"px-4 py-2 text-sm text-white bg-blue-600 rounded hover:bg-blue-700"}," Save Changes ")])])]),_:1},8,["show"])]))}};export{U as default};
