import{a7 as a,f as s,a as e,o,M as r,J as l,b as n,N as i,Q as t,K as c,z as d,a4 as u,S as p,F as m,R as g,U as b,V as f,a0 as v,y,W as h,ac as _,ad as w,ae as k}from"./vendor-DuKqz2x4.js";import{o as x}from"./app-CqJgtQaN.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const P={class:"school-login-page"},S=["href"],j={key:0,class:"particles"},U={class:"login-container"},D={key:0,class:"school-logo"},E=["src","alt"],L={class:"school-name"},V={key:1,class:"school-name-ar"},$={class:"form-group"},C={key:0,class:"error-message"},F={class:"form-group"},I={class:"password-input-wrapper"},R=["type"],q={key:0,class:"error-message"},M={class:"form-group-inline"},W={class:"checkbox-label"},z=["disabled"],J={key:0},K={key:1,class:"loading-spinner"},N=x({__name:"SchoolLogin",props:{schoolSlug:String,branding:Object},setup(x){const N=x,O=new URLSearchParams(window.location.search).get("email")||"",Q=a({email:O,password:"",remember:!1}),T=s(!1);s(!1);const A=s(null),B=e(()=>{var a;return(null==(a=N.branding.colors)?void 0:a.primary)||"#6366f1"}),G=e(()=>{var a;return(null==(a=N.branding.colors)?void 0:a.secondary)||"#8b5cf6"}),H=e(()=>{var a;return(null==(a=N.branding.colors)?void 0:a.accent)||"#ec4899"}),X=e(()=>{var a;return(null==(a=N.branding.login_page_settings)?void 0:a.card_style)||"glassmorphism"}),Y=e(()=>{var a,s;return null==(s=null==(a=N.branding.login_page_settings)?void 0:a.show_particles)||s});o(()=>{document.documentElement.style.setProperty("--primary-color",B.value),document.documentElement.style.setProperty("--secondary-color",G.value),document.documentElement.style.setProperty("--accent-color",H.value),O&&A.value&&setTimeout(()=>{A.value.focus()},100)});const Z=()=>{Q.post(route("school.login.authenticate",N.schoolSlug),{onFinish:()=>Q.reset("password")})};return(a,s)=>(l(),r("div",P,[n(d(u),{title:x.branding.school_name_en},{default:c(()=>[i("link",{rel:"icon",type:"image/x-icon",href:x.branding.logo_url||"/favicon.ico"},null,8,S)]),_:1},8,["title"]),i("div",{class:"background-image",style:p({backgroundImage:x.branding.background_url?`url(${x.branding.background_url})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})},null,4),i("div",{class:"gradient-overlay",style:p({background:`linear-gradient(135deg, ${B.value}DD 0%, ${G.value}DD 100%)`})},null,4),Y.value?(l(),r("div",j,[(l(),r(m,null,g(50,a=>i("div",{key:a,class:"particle"})),64))])):t("",!0),i("div",U,[i("div",{class:b(["login-card",`card-${X.value}`])},[x.branding.logo_url?(l(),r("div",D,[i("img",{src:x.branding.logo_url,alt:x.branding.school_name_en},null,8,E)])):t("",!0),i("h1",L,f(x.branding.school_name_en),1),x.branding.school_name_ar?(l(),r("p",V,f(x.branding.school_name_ar),1)):t("",!0),s[10]||(s[10]=i("p",{class:"welcome-text"}," Welcome back! Please login to your account. ",-1)),i("form",{onSubmit:v(Z,["prevent"]),class:"login-form"},[i("div",$,[s[4]||(s[4]=i("label",{for:"email",class:"form-label"},[i("i",{class:"fas fa-user"}),h(" Email or Username ")],-1)),y(i("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=a=>d(Q).email=a),type:"text",class:b(["form-input",{"input-error":d(Q).errors.email}]),required:"",autofocus:"",autocomplete:"username"},null,2),[[_,d(Q).email]]),d(Q).errors.email?(l(),r("div",C,f(d(Q).errors.email),1)):t("",!0)]),i("div",F,[s[5]||(s[5]=i("label",{for:"password",class:"form-label"},[i("i",{class:"fas fa-lock"}),h(" Password ")],-1)),i("div",I,[y(i("input",{id:"password",ref_key:"passwordInput",ref:A,"onUpdate:modelValue":s[1]||(s[1]=a=>d(Q).password=a),type:T.value?"text":"password",class:b(["form-input",{"input-error":d(Q).errors.password}]),required:"",autocomplete:"current-password"},null,10,R),[[w,d(Q).password]]),i("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=a=>T.value=!T.value)},[i("i",{class:b(T.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),d(Q).errors.password?(l(),r("div",q,f(d(Q).errors.password),1)):t("",!0)]),i("div",M,[i("label",W,[y(i("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>d(Q).remember=a),type:"checkbox",class:"checkbox-input"},null,512),[[k,d(Q).remember]]),s[6]||(s[6]=i("span",{class:"checkbox-text"},"Remember me",-1))]),s[7]||(s[7]=i("a",{href:"#",class:"forgot-password"}," Forgot password? ",-1))]),i("button",{type:"submit",class:"submit-button",disabled:d(Q).processing,style:p({backgroundColor:B.value})},[d(Q).processing?(l(),r("span",K,s[9]||(s[9]=[i("i",{class:"fas fa-spinner fa-spin"},null,-1),h(" Logging in... ")]))):(l(),r("span",J,s[8]||(s[8]=[i("i",{class:"fas fa-sign-in-alt"},null,-1),h(" Login ")])))],12,z)],32),s[11]||(s[11]=i("div",{class:"card-footer"},[i("p",{class:"footer-text"}," Powered by MyClass2026 ")],-1))],2)])]))}},[["__scopeId","data-v-78d3ed5d"]]);export{N as default};
