import{o as e}from"./app-BwCflFkV.js";import{f as o,k as l,n as t,o as a,e as s,a as n,H as d,I as r,L as i,O as u,M as m,S as c,K as v,D as f}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const p={key:0,class:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 flex items-center justify-center z-50"},y={class:"modal-body"},x=e({__name:"Modal copy",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},persistent:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})},submitting:{type:Boolean,default:!1}},emits:["close","opened","closed"],setup(e,{emit:x}){const w=e,g=x,k=o(null),b=o(null),h=o(w.show),j=o(!1);l(()=>w.show,async e=>{var o;e?(document.body.style.overflow="hidden",h.value=!0,j.value=!0,await t(),null==(o=k.value)||o.showModal(),g("opened")):(j.value=!1,document.body.style.overflow=null,setTimeout(async()=>{var e;null==(e=k.value)||e.close(),h.value=!1,g("closed")},200))});const E=()=>{!w.closeable||w.persistent||w.loading||g("close")},B=e=>{"Escape"!==e.key||w.persistent||w.loading||(e.preventDefault(),w.show&&E())},C=e=>{var o;(null==(o=b.value)?void 0:o.contains(e.target))||!w.closeOnClickOutside||w.persistent||w.loading||E()};let L,O;const _=e=>{var o;if(!(null==(o=k.value)?void 0:o.contains(document.activeElement)))return void L.focus();"Tab"===e.key&&(e.shiftKey?document.activeElement===L&&(O.focus(),e.preventDefault()):document.activeElement===O&&(L.focus(),e.preventDefault()))};a(()=>{document.addEventListener("keydown",B),document.addEventListener("keydown",_)}),s(()=>{document.removeEventListener("keydown",B),document.removeEventListener("keydown",_),document.body.style.overflow=null});const M=n(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl",full:"sm:max-w-full"}[w.maxWidth]));return(o,l)=>(r(),d(f,{to:"body"},[h.value?(r(),i("div",{key:0,onClick:C},[m("dialog",{ref_key:"dialog",ref:k,class:c(["fixed inset-0 overflow-y-auto px-6 py-8 sm:px-0 z-50",[M.value,{"pointer-events-none":e.loading}]]),onClose:E},[m("div",{ref_key:"modalContent",ref:b,class:c(["modal-content bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",{"modal-enter":j.value}])},[e.loading?(r(),i("div",p,l[0]||(l[0]=[m("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)]))):u("",!0),!e.closeable||e.persistent||e.loading?u("",!0):(r(),i("button",{key:1,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400",onClick:E},l[1]||(l[1]=[m("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))),m("div",y,[v(o.$slots,"default",{},void 0,!0)])],2)],34)])):u("",!0)]))}},[["__scopeId","data-v-c951521f"]]);export{x as default};
