import{a as e,f as a,H as l,I as o,J as t,M as r,b as s,O as i,V as c,_ as n,Z as m}from"./vendor-EI0FRBVb.js";import{_ as d}from"./AppLayout-CE2yjlSr.js";import{_ as u}from"./PrimaryButton-D4MqeasW.js";import{_ as p}from"./SecondaryButton-UHI6KqaH.js";import{_ as v}from"./Pagination-wcG7j81T.js";import{_ as b}from"./DataTable-ByHcWWGX.js";import{_ as y}from"./FormModal-C-n-oFqk.js";import{_ as f}from"./ImportExcel-CQRIBkf3.js";import{e as j}from"./exportHelper-DgqGG-tE.js";import"./LucideIcon-DP3BSI4t.js";import"./createLucideIcon-APVJ2SH-.js";import"./align-right-CnRMXp62.js";import"./underline-PDlIMkNx.js";import"./image-CpjPXLZL.js";import"./printer-DTcC0fi8.js";import"./Modal-DOPZQLRD.js";import"./app-BzjXrVp9.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./xlsx-cMC2LkxH.js";const h={class:"py-12"},x={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},k={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},_={class:"flex justify-between items-center mb-6"},w={class:"flex space-x-2"},g="/admin/academic-year",I={__name:"Index copy",props:{records:Object,options:Object},setup(I){var S,A;const D=I,N=e(()=>{var e;return(null==(e=D.records)?void 0:e.data)||[]}),E=e(()=>{var e;return(null==(e=D.records)?void 0:e.links)||null}),P=[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"school.name",label:"School"},{key:"active",label:"Status"}],Y=[{name:"name",label:"Name",type:"text",required:!0},{name:"school_id",label:"School",type:"select",required:!0,options:(null==(A=null==(S=D.options)?void 0:S.schools)?void 0:A.map(e=>({value:e.id,label:e.name})))||[]},{name:"active",label:"Status",type:"select",options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}]}],M=a(!1),O=a(null),$=(e=null)=>{O.value=e,M.value=!0},C=()=>{M.value=!1,O.value=null},L=()=>{n.reload({only:["records"]})},q=async({form:e,onSuccess:a,onError:l})=>{var o;const t=null==(o=O.value)?void 0:o.id,r=t?`${g}/${t}`:g;try{await m.post(r,{...t&&{_method:"PUT"},...e}),a(),C(),L()}catch(s){l(s.response.data.errors)}},B=async e=>{if(confirm("Are you sure you want to delete this record?"))try{await m.delete(`${g}/${e.id}`),L()}catch(a){console.error("Deletion error:",a),alert("An error occurred while deleting the record.")}},H=[{key:"name",label:"Name"},{key:"school_id",label:"School ID"},{key:"active",label:"Status"}],T=()=>{j({items:N.value,columns:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"school.name",label:"School"},{key:"active",label:"Status"}],fileName:"academic_years",sheetName:"Academic Years"})};return(e,a)=>(o(),l(d,{title:"Academic Years Management"},{default:t(()=>[r("div",h,[r("div",x,[r("div",k,[r("div",_,[r("div",w,[s(u,{onClick:a[0]||(a[0]=e=>$())},{default:t(()=>a[1]||(a[1]=[c(" Add New Academic Year ")])),_:1}),s(f,{onImported:L,"validate-url":g+"/validate-import","import-url":g+"/import",columns:H,"button-text":"Import Academic Years","preview-title":"Preview Data"},null,8,["validate-url","import-url"]),s(p,{onClick:T},{default:t(()=>a[2]||(a[2]=[c(" Export ")])),_:1})])]),s(b,{items:N.value,columns:P,onEdit:$,onDelete:B},null,8,["items"]),E.value?(o(),l(v,{key:0,links:E.value},null,8,["links"])):i("",!0)])]),s(y,{show:M.value,title:"Academic Year",fields:Y,editing:O.value,onClose:C,onSubmitted:q},null,8,["show","editing"])])]),_:1}))}};export{I as default};
