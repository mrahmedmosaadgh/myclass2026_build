import{j as e,aP as l,h as t,i as a,a as s,g as o,aO as i}from"./app-B77gjd5a.js";import{R as r,A as u}from"./RichTextEditor-DZSonAId.js";import{f as m,o as n,M as p,J as d,N as c,b as f,K as b,I as j,Q as v,y as x,W as _,F as V,R as h,V as y}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./QColor-wHZP5dke.js";import"./QSlider-DfH-qdFu.js";import"./QTabs-D_ZwIIJm.js";import"./rtl-Cr6c3OOr.js";import"./QTab-CnAf4tCv.js";import"./QTabPanels-B5JhG1n5.js";import"./use-panel-N2fkKyR_.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-B_PJ80R0.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-CPVN-kGD.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-DL2HQ2sN.js";import"./QBadge-ZkvAqPBD.js";import"./QSelect-DB_tK-Lk.js";const g={class:"min-h-full flex flex-col"},k={class:"flex items-center justify-between mb-2"},P={__name:"TextSlide",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(P,{emit:S}){const Q=P,T=S,I=m(!1),C=m(""),M=m([]);n(()=>{const e=localStorage.getItem("textSlide_recentPrompts");if(e)try{M.value=JSON.parse(e)}catch(l){console.error("Failed to load recent prompts:",l)}});const N=e=>{T("update:modelValue",{...Q.modelValue,text:e})},O=()=>{C.value="",I.value=!0},R=e=>{C.value&&C.value.trim()&&w(C.value),N((Q.modelValue.text||"")+e)},w=e=>{const l=M.value.filter(l=>l!==e);l.unshift(e),M.value=l.slice(0,3),localStorage.setItem("textSlide_recentPrompts",JSON.stringify(M.value))};return(m,n)=>(d(),p("div",g,[c("div",k,[n[3]||(n[3]=c("label",{class:"block text-sm font-medium text-gray-700"},"Slide Text",-1)),f(i,{flat:"",dense:"",color:"accent",icon:"psychology",label:"Generate with AI",size:"sm",onClick:O},{default:b(()=>[M.value.length>0?(d(),j(o,{key:0},{default:b(()=>[f(e,{header:""},{default:b(()=>n[1]||(n[1]=[_("Recent Prompts")])),_:1}),(d(!0),p(V,null,h(M.value,(s,o)=>x((d(),j(t,{key:o,clickable:"",onClick:e=>(e=>{C.value=e,I.value=!0})(s)},{default:b(()=>[f(a,null,{default:b(()=>[f(e,{lines:"2"},{default:b(()=>[_(y(s),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[l]])),128)),f(s),x((d(),j(t,{clickable:"",onClick:O},{default:b(()=>[f(a,null,{default:b(()=>[f(e,null,{default:b(()=>n[2]||(n[2]=[_("New Prompt...")])),_:1})]),_:1})]),_:1})),[[l]])]),_:1})):v("",!0)]),_:1})]),f(r,{modelValue:P.modelValue.text||"","onUpdate:modelValue":N,class:"flex-1"},null,8,["modelValue"]),f(u,{modelValue:I.value,"onUpdate:modelValue":n[0]||(n[0]=e=>I.value=e),"initial-prompt":C.value,"on-insert":R},null,8,["modelValue","initial-prompt"])]))}};export{P as default};
