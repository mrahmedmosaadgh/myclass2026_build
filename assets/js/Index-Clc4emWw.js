import{f as e,a7 as s,I as t,J as a,K as o,R as l,b as r,V as i,W as n,N as d,Q as c,U as m,O as u,F as g,z as p,$ as f}from"./vendor-BWKGNkNB.js";import{_ as x}from"./AppLayout-B3PyevP7.js";import{_ as h}from"./PrimaryButton-DVJXOzHH.js";import{_ as b}from"./SecondaryButton-WaufSYeJ.js";import{_ as y}from"./DialogModal-CrtL4ZBR.js";import{_ as v}from"./InputLabel-Ch3YeqCE.js";import{_}from"./TextInput-QkZjzCho.js";import{_ as w}from"./InputError-DEGVtjzl.js";import"./Modal-C_QFFTwO.js";import"./app-DraepSDZ.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const j={class:"py-12"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg shadow-xl p-8 mb-8 text-white"},k={class:"text-2xl font-bold mb-2"},I={class:"flex justify-between items-center mb-6"},V={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},N={class:"p-6"},A={class:"flex justify-between items-start mb-4"},M={class:"flex flex-col items-end"},z={key:0,class:"mt-1 text-xs text-indigo-600 font-bold"},D={class:"text-xl font-bold text-gray-800 mb-1"},U={class:"text-sm text-gray-500 mb-4"},E={class:"grid grid-cols-3 gap-2 mb-6 text-center text-sm"},W={class:"bg-gray-50 p-2 rounded"},Y={class:"font-bold text-gray-800"},q={class:"bg-gray-50 p-2 rounded"},B={class:"font-bold text-gray-800"},F={class:"bg-gray-50 p-2 rounded"},L={class:"font-bold text-gray-800"},O={class:"space-y-2"},T=["onClick"],J=["onClick"],K={class:"space-y-4"},P={__name:"Index",props:{schools:Array,hr:Object,currentSchoolId:Number},setup(P){const Q=P,R=e(!1),$=s({name:"",name_ar:"",established_year:(new Date).getFullYear()}),G=()=>{$.post(route("admin.hr.my-schools.store"),{onSuccess:()=>{R.value=!1,$.reset()}})};return(e,s)=>(a(),t(x,{title:"My Schools"},{header:o(()=>s[6]||(s[6]=[l("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," My Schools Dashboard ",-1)])),default:o(()=>[l("div",j,[l("div",S,[l("div",C,[l("h3",k,"Welcome, "+i(P.hr.name)+"!",1),s[7]||(s[7]=l("p",{class:"opacity-90"},"Manage your educational institutions and configure their settings from this central dashboard.",-1))]),l("div",I,[s[9]||(s[9]=l("h3",{class:"text-lg font-medium text-gray-900"},"Your Schools",-1)),r(h,{onClick:s[0]||(s[0]=e=>R.value=!0)},{default:o(()=>s[8]||(s[8]=[l("span",{class:"flex items-center"},[l("i",{class:"material-icons mr-2"},"add"),n(" Add New School ")],-1)])),_:1})]),l("div",V,[(a(!0),d(g,null,c(P.schools,e=>(a(),d("div",{key:e.id,class:m(["bg-white rounded-lg shadow border border-gray-100 hover:shadow-lg transition-shadow duration-300 overflow-hidden",{"ring-2 ring-indigo-500":e.id===P.currentSchoolId}])},[l("div",N,[l("div",A,[s[10]||(s[10]=l("div",{class:"bg-indigo-50 p-3 rounded-full text-indigo-600"},[l("span",{class:"material-icons"},"school")],-1)),l("div",M,[l("span",{class:m(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(e.is_active?"Active":"Inactive"),3),e.id===P.currentSchoolId?(a(),d("span",z," Current Context ")):u("",!0)])]),l("h4",D,i(e.name),1),l("p",U,i(e.name_ar||"No Arabic Name"),1),l("div",E,[l("div",W,[l("div",Y,i(e.students_count||0),1),s[11]||(s[11]=l("div",{class:"text-gray-500 text-xs"},"Students",-1))]),l("div",q,[l("div",B,i(e.teachers_count||0),1),s[12]||(s[12]=l("div",{class:"text-gray-500 text-xs"},"Teachers",-1))]),l("div",F,[l("div",L,i(e.classrooms_count||0),1),s[13]||(s[13]=l("div",{class:"text-gray-500 text-xs"},"Classes",-1))])]),l("div",O,[l("button",{onClick:s=>(e=>{e.id!==Q.currentSchoolId?f.post(route("admin.hr.my-schools.select",e.id),{},{onSuccess:()=>{f.visit(route("admin.hr.setup-wizard"))}}):f.visit(route("admin.hr.setup-wizard"))})(e),class:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},s[14]||(s[14]=[l("span",{class:"material-icons text-sm mr-2"},"settings",-1),n(" Setup Wizard ")]),8,T),e.id!==P.currentSchoolId?(a(),d("button",{key:0,onClick:s=>(e=>{f.post(route("admin.hr.my-schools.select",e.id))})(e),class:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Switch Dashboard Context ",8,J)):u("",!0)])])],2))),128))])])]),r(y,{show:R.value,onClose:s[5]||(s[5]=e=>R.value=!1)},{title:o(()=>s[15]||(s[15]=[n("Add New School")])),content:o(()=>[l("div",K,[l("div",null,[r(v,{for:"name",value:"School Name (English) *"}),r(_,{id:"name",modelValue:p($).name,"onUpdate:modelValue":s[1]||(s[1]=e=>p($).name=e),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(w,{message:p($).errors.name,class:"mt-2"},null,8,["message"])]),l("div",null,[r(v,{for:"name_ar",value:"School Name (Arabic)"}),r(_,{id:"name_ar",modelValue:p($).name_ar,"onUpdate:modelValue":s[2]||(s[2]=e=>p($).name_ar=e),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),l("div",null,[r(v,{for:"year",value:"Established Year"}),r(_,{id:"year",modelValue:p($).established_year,"onUpdate:modelValue":s[3]||(s[3]=e=>p($).established_year=e),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),footer:o(()=>[r(b,{onClick:s[4]||(s[4]=e=>R.value=!1)},{default:o(()=>s[16]||(s[16]=[n("Cancel")])),_:1}),r(h,{class:m(["ml-3",{"opacity-25":p($).processing}]),onClick:G,disabled:p($).processing},{default:o(()=>s[17]||(s[17]=[n(" Create School ")])),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{P as default};
