import{k as e}from"./katex-BXKQVcz-.js";import{a as r,N as t,J as n}from"./vendor-BWKGNkNB.js";const a=["innerHTML"],l={__name:"MathRenderer",props:{content:{type:String,default:""},inlineDelimiter:{type:String,default:"$"},displayDelimiter:{type:String,default:"$$"}},setup(l){const s=l,i=r(()=>{if(!s.content)return"";const r=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=r(s.inlineDelimiter),n=r(s.displayDelimiter),a=new RegExp(`${n}([\\s\\S]*?)${n}|${t}([\\s\\S]*?)${t}`,"g");let l,i=0,p="";for(;null!==(l=a.exec(s.content));){const r=s.content.slice(i,l.index);p+=o(r);const t=l[1],n=l[2];try{t?p+=e.renderToString(t,{throwOnError:!1,displayMode:!0}):n&&(p+=e.renderToString(n,{throwOnError:!1,displayMode:!1}))}catch(c){p+=`<span class="text-red-500">Error: ${c.message}</span>`}i=a.lastIndex}return p+=o(s.content.slice(i)),p}),o=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return(e,r)=>(n(),t("span",{class:"math-renderer",innerHTML:i.value},null,8,a))}};export{l as default};
