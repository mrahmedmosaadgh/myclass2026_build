import e from"./CanvasEditor-CYGLFxAl.js";import{_ as l}from"./LucideIcon-BIJr1cpK.js";import{o as t}from"./app-BwCflFkV.js";import{f as n,a,o as s,e as o,L as i,I as u,M as r,O as c,b as m,U as v,S as d,H as p}from"./vendor-CUZ9QTQV.js";import"./ElementContent-C8NYo1Y4.js";import"./presentationStore-DbZ9uug6.js";import"./youtube_VideoPlayer-CAEb3AQp.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./VideoPlayer-DdlD2sDY.js";import"./text_el-zTYspd_m.js";import"./createLucideIcon-D8qi68V_.js";import"./align-right-BZZ7ajs4.js";import"./underline-o77cex9c.js";import"./image-odJN2dKV.js";import"./printer-D7revZzT.js";const b={class:"presentation-mode-container"},f={class:"slide-navigation"},j=["disabled"],k={class:"slide-counter"},g=["disabled"],h={class:"control-buttons"},y={class:"presentation-view"},E={class:"slide-container"},x=t({__name:"PresentationMode",props:{slides:{type:Array,required:!0},initialIndex:{type:Number,default:0}},emits:["exit"],setup(t,{emit:x}){const w=t,L=x,z=n(w.initialIndex),C=n(!1),T=n(!1),_=n(!1),I=n(null),F=a(()=>w.slides[z.value]),M=()=>{z.value<w.slides.length-1&&z.value++},V=()=>{z.value>0&&z.value--},S=()=>{C.value=!1,I.value&&(clearTimeout(I.value),I.value=null)},q=()=>{T.value||(I.value=setTimeout(()=>{C.value=!0},3e3))},A=()=>{C.value=!1,I.value=setTimeout(()=>{T.value&&(C.value=!0)},5e3)},P=()=>{T.value=!T.value,T.value?(C.value=!1,I.value=setTimeout(()=>{C.value=!0},3e3)):C.value=!1},U=async()=>{try{document.fullscreenElement?(await document.exitFullscreen(),_.value=!1):(await document.documentElement.requestFullscreen(),_.value=!0)}catch(e){console.error("Error toggling fullscreen:",e)}},H=async()=>{document.fullscreenElement&&await document.exitFullscreen(),L("exit")},N=e=>{switch(e.key){case"ArrowRight":case"Space":M();break;case"ArrowLeft":V();break;case"Escape":H()}};return s(()=>{document.addEventListener("keydown",N),document.documentElement.requestFullscreen().then(()=>{_.value=!0}).catch(e=>console.log("Fullscreen error:",e)),I.value=setTimeout(()=>{C.value=!0},3e3),document.addEventListener("fullscreenchange",()=>{_.value=!!document.fullscreenElement})}),o(()=>{document.removeEventListener("keydown",N),document.removeEventListener("fullscreenchange",()=>{}),I.value&&clearTimeout(I.value)}),(n,a)=>(u(),i("div",b,[r("div",{class:d(["presentation-controls",{hidden:C.value&&T.value}]),onMouseenter:S,onMouseleave:q},[r("div",f,[r("button",{onClick:V,disabled:0===z.value,class:"nav-btn"},[m(l,{name:"chevron-left",size:"20"})],8,j),r("span",k,v(z.value+1)+" / "+v(t.slides.length),1),r("button",{onClick:M,disabled:z.value===t.slides.length-1,class:"nav-btn"},[m(l,{name:"chevron-right",size:"20"})],8,g)]),r("div",h,[r("button",{onClick:P,class:d(["control-btn",{active:T.value}]),title:"Lock controls visibility"},[m(l,{name:T.value?"lock":"unlock",size:"18"},null,8,["name"])],2),r("button",{onClick:U,class:"control-btn",title:"Toggle fullscreen"},[m(l,{name:_.value?"minimize":"maximize",size:"18"},null,8,["name"])]),r("button",{onClick:H,class:"exit-btn"},[m(l,{name:"x",size:"18",class:"mr-1"}),a[1]||(a[1]=r("span",null,"Exit",-1))])])],34),C.value&&T.value?(u(),i("button",{key:0,onClick:A,class:"show-controls-btn",title:"Show controls"},[m(l,{name:"menu",size:"20"})])):c("",!0),r("div",y,[r("div",E,[F.value?(u(),p(e,{key:z.value,modelValue:F.value.content,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value.content=e),presentationMode:!0,readonly:!0},null,8,["modelValue"])):c("",!0)])])]))}},[["__scopeId","data-v-14c0e610"]]);export{x as default};
