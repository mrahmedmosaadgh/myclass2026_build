import{r as e,m as o}from"./app-YpH5vqWh.js";import{Q as a}from"./QSelect-jBpShTzY.js";import{a as s,Q as t}from"./QTable-CgaOzZjZ.js";import{Q as l}from"./QTr-BHzjgG2r.js";import{Q as r}from"./QTd-CiPqKlV-.js";import{f as d,a as i,k as p,o as u,N as m,J as n,R as c,b as f,K as v,W as y,V as _,F as w,Q as g}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-DGv5_oX8.js";import"./QLinearProgress-DZgk7T4R.js";import"./use-fullscreen-DDGrUiCT.js";const S={class:"schedule-preview"},b={class:"mb-4 bg-grey-2 p-4 rounded-borders"},j={class:"flex items-center justify-between"},h={class:"flex gap-2"},Q={class:"schedule-grid q-pa-md"},T="schedule-preview-slots",V=e({__name:"SchedulePreview",props:{timing:{type:Object,required:!0},timeSlots:{type:Array,required:!0}},setup(e){const V=e,k=["Sunday","Monday","Tuesday","Wednesday","Thursday"],x=d([0]),L=i(()=>Array.from({length:V.timeSlots.length},(e,o)=>o)),q=i(()=>{const e=[];return(V.timing.d1||[]).forEach(o=>{e.push({period_code:o.period_code,...k.reduce((e,a,s)=>{var t;const l=`d${s+1}`,r=null==(t=V.timing[l])?void 0:t.find(e=>e.period_code===o.period_code);return e[a.toLowerCase()]=r,e},{})})}),e}),C=i(()=>[{name:"period",label:"Period",field:"period_code",align:"left"},...k.map(e=>({name:e.toLowerCase(),label:e,field:e.toLowerCase(),align:"left"}))]),O=(e,o)=>{const a=e[o];return(null==a?void 0:a.timeSlots)?a.timeSlots.filter(e=>e.active):[]};return p(x,()=>{localStorage.setItem(T,JSON.stringify(x.value))},{deep:!0}),u(()=>{(()=>{const e=localStorage.getItem(T);e&&(x.value=JSON.parse(e))})()}),(e,d)=>(n(),m("div",S,[c("div",b,[c("div",j,[d[2]||(d[2]=c("h5",{class:"text-subtitle1 q-my-none"},"Time Slot Display Options",-1)),c("div",h,[f(a,{modelValue:x.value,"onUpdate:modelValue":d[1]||(d[1]=e=>x.value=e),options:L.value,multiple:"",dense:"","options-dense":"",label:"Select Time Slots",style:{"min-width":"200px"}},{option:v(({opt:e})=>[f(o,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=e=>x.value=e),val:e},{default:v(()=>[y(" Slot "+_(e+1),1)]),_:2},1032,["modelValue","val"])]),_:1},8,["modelValue","options"])])])]),c("div",Q,[f(t,{flat:"",rows:q.value,columns:C.value,"row-key":"period_code",dense:""},{header:v(e=>[f(l,{props:e},{default:v(()=>[f(s,{"auto-width":""},{default:v(()=>d[3]||(d[3]=[y("Period")])),_:1}),(n(),m(w,null,g(k,e=>f(s,{key:e},{default:v(()=>[y(_(e),1)]),_:2},1024)),64))]),_:2},1032,["props"])]),body:v(e=>[f(l,{props:e},{default:v(()=>[f(r,{"auto-width":""},{default:v(()=>[y(_(e.row.period_code),1)]),_:2},1024),(n(),m(w,null,g(k,o=>f(r,{key:o},{default:v(()=>[(n(!0),m(w,null,g(O(e.row,o.toLowerCase()),e=>(n(),m("div",{key:e.from},_((e=>e.from&&e.to?`${e.from} - ${e.to}`:"")(e)),1))),128))]),_:2},1024)),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])]))}},[["__scopeId","data-v-7ccb2ccd"]]);export{V as default};
