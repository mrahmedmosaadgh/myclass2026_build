import{r as e,u as i,Q as a}from"./app-CmR0nRZC.js";import{f as t,a as n,o as r,A as s,N as m,J as o,b as u,R as l,V as p,U as v}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const c={class:"timer-display"},g=e({__name:"QuExamTimer",props:{remainingSeconds:{type:Number,required:!0},autoSubmit:{type:Function,required:!0}},emits:["time-warning","time-expired"],setup(e,{emit:g}){const d=i(),f=e,y=g,S=t(f.remainingSeconds);let w=null;const M=t({fiveMin:!1,oneMin:!1}),b=n(()=>{const e=Math.floor(S.value/60),i=Math.floor(S.value%60);return`${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`}),x=n(()=>S.value<=60?"timer-critical":S.value<=300?"timer-warning":"timer-normal"),j=()=>{if(S.value--,S.value<=0)return clearInterval(w),y("time-expired"),d.notify({type:"negative",message:"Time expired! Submitting exam...",icon:"alarm",timeout:3e3}),void f.autoSubmit();300!==S.value||M.value.fiveMin||(M.value.fiveMin=!0,y("time-warning",5),d.notify({type:"warning",message:"5 minutes remaining",icon:"warning",timeout:5e3})),60!==S.value||M.value.oneMin||(M.value.oneMin=!0,y("time-warning",1),d.notify({type:"warning",message:"1 minute remaining - please submit soon!",icon:"warning",timeout:5e3,position:"top"}))};return r(()=>{w=setInterval(j,1e3)}),s(()=>{w&&clearInterval(w)}),(e,i)=>(o(),m("div",{class:v(["timer-container",x.value])},[u(a,{name:"timer",size:"24px",class:"q-mr-sm"}),l("div",c,p(b.value),1)],2))}},[["__scopeId","data-v-6ee0b14e"]]);export{g as default};
