import{p as e,u as i,e as a}from"./app-BzjXrVp9.js";import{f as t,a as n,o as r,z as s,L as m,I as o,b as u,M as l,U as p,S as v}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const c={class:"timer-display"},g=e({__name:"QuExamTimer",props:{remainingSeconds:{type:Number,required:!0},autoSubmit:{type:Function,required:!0}},emits:["time-warning","time-expired"],setup(e,{emit:g}){const d=i(),f=e,S=g,y=t(f.remainingSeconds);let M=null;const w=t({fiveMin:!1,oneMin:!1}),b=n(()=>{const e=Math.floor(y.value/60),i=Math.floor(y.value%60);return`${String(e).padStart(2,"0")}:${String(i).padStart(2,"0")}`}),x=n(()=>y.value<=60?"timer-critical":y.value<=300?"timer-warning":"timer-normal"),j=()=>{if(y.value--,y.value<=0)return clearInterval(M),S("time-expired"),d.notify({type:"negative",message:"Time expired! Submitting exam...",icon:"alarm",timeout:3e3}),void f.autoSubmit();300!==y.value||w.value.fiveMin||(w.value.fiveMin=!0,S("time-warning",5),d.notify({type:"warning",message:"5 minutes remaining",icon:"warning",timeout:5e3})),60!==y.value||w.value.oneMin||(w.value.oneMin=!0,S("time-warning",1),d.notify({type:"warning",message:"1 minute remaining - please submit soon!",icon:"warning",timeout:5e3,position:"top"}))};return r(()=>{M=setInterval(j,1e3)}),s(()=>{M&&clearInterval(M)}),(e,i)=>(o(),m("div",{class:v(["timer-container",x.value])},[u(a,{name:"timer",size:"24px",class:"q-mr-sm"}),l("div",c,p(b.value),1)],2))}},[["__scopeId","data-v-6ee0b14e"]]);export{g as default};
