import{Q as e}from"./QSpinnerDots-iSvAMlO9.js";import{Q as s}from"./QTab-DzZGFS5V.js";import{Q as a}from"./QTabs-BC5MrYhV.js";import{p as l,u as o,a as t,e as r,n as i}from"./app-DXXarK7I.js";import{Q as m}from"./QTabPanel-Cip5Q1JD.js";import{Q as n}from"./QTabPanels-BXLgHK63.js";import{u as c}from"./schoolData-BnE_O2cp.js";import{f as u,k as d,o as p,L as y,I as b,b as v,M as h,H as j,U as f,y as g,J as w,Z as Q}from"./vendor-EI0FRBVb.js";import S from"./WeeklyPlanMenu-C9GR9cZP.js";import x from"./SchoolOverview-j4mVvpdS.js";import k from"./ClassroomHierarchy-CO-WjS7l.js";import _ from"./AssignmentsTable-D26-7ppk.js";import{u as T}from"./i18n-BbKXhR_S.js";import"./rtl-Cr6c3OOr.js";import"./offline-BzIlwqNM.js";import"./ui-B__oX9pK.js";import"./use-panel-v2pzMR_n.js";import"./use-render-cache-CmTcazfP.js";import"./QSpace-B3qNlK-o.js";import"./WeeklySystemGuide-ClJa6Pcs.js";import"./MainSchoolData-DxLPfCkc.js";import"./QBadge-ZjTd_Ty8.js";import"./SchoolSettingsDialog-DqxSWqfS.js";import"./QSelect-OI6RFhnT.js";import"./QForm-BR4sPudX.js";import"./QTd-DaKXGNl2.js";import"./QTable-CIXbyzJI.js";import"./QMarkupTable-BVGvqYSu.js";import"./QLinearProgress-BEkk-xFg.js";import"./use-fullscreen-DIOkwRkq.js";const B={class:"q-pa-md"},q={class:"row items-center q-mb-md"},I={class:"col"},V={class:"text-h4 text-weight-bold text-primary"},D={class:"text-subtitle2 text-grey-7"},H={key:0,class:"row justify-center q-my-xl"},M={key:1},P={class:"text-h6 text-grey-7 q-mt-md"},A={class:"text-body2 text-grey-6"},C=l({__name:"SchoolBrowser",setup(l){const{t:C}=T(),F=o(),U=c(),z=u(null),J=u(!1),K=u("overview");return d(()=>U.hasAllContext,async e=>{e?await(async()=>{var e,s;if(U.schoolId){J.value=!0;try{const e=await Q.get(route("weekly-system.api.school-data"),{params:{school_id:U.schoolId}});z.value=e.data}catch(a){F.notify({type:"negative",message:"Failed to load school data",caption:(null==(s=null==(e=a.response)?void 0:e.data)?void 0:s.message)||a.message})}finally{J.value=!1}}else z.value=null})():z.value=null},{immediate:!0}),p(()=>{}),(l,o)=>(b(),y("div",B,[v(S),h("div",q,[h("div",I,[h("div",V,f(g(C)("weeklySystem.schoolBrowser.title")),1),h("div",D,f(g(C)("weeklySystem.schoolBrowser.subtitle")),1)])]),J.value?(b(),y("div",H,[v(e,{color:"primary",size:"50px"})])):g(U).hasAllContext&&z.value?(b(),y("div",M,[v(a,{modelValue:K.value,"onUpdate:modelValue":o[0]||(o[0]=e=>K.value=e),dense:"",class:"text-grey-7 q-mb-md","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:w(()=>[v(s,{name:"overview",icon:"dashboard",label:g(C)("weeklySystem.schoolBrowser.overviewTab")},null,8,["label"]),v(s,{name:"classrooms",icon:"class",label:g(C)("weeklySystem.schoolBrowser.classroomsTab")},null,8,["label"]),v(s,{name:"assignments",icon:"assignment",label:g(C)("weeklySystem.schoolBrowser.assignmentsTab")},null,8,["label"])]),_:1},8,["modelValue"]),v(t,{class:"q-mb-md"}),v(n,{modelValue:K.value,"onUpdate:modelValue":o[1]||(o[1]=e=>K.value=e),animated:""},{default:w(()=>[v(m,{name:"overview"},{default:w(()=>[v(x,{stats:z.value.stats||{},subjects:z.value.subjects||[],teachers:z.value.teachers||[]},null,8,["stats","subjects","teachers"])]),_:1}),v(m,{name:"classrooms"},{default:w(()=>[v(k,{hierarchy:z.value.hierarchy||[],assignments:z.value.assignments||[]},null,8,["hierarchy","assignments"])]),_:1}),v(m,{name:"assignments"},{default:w(()=>[v(_,{assignments:z.value.assignments||[]},null,8,["assignments"])]),_:1})]),_:1},8,["modelValue"])])):(b(),j(i,{key:2,flat:"",bordered:"",class:"q-pa-xl text-center"},{default:w(()=>[v(r,{name:"school",size:"80px",color:"grey-5"}),h("div",P,f(g(C)("weeklySystem.schoolBrowser.selectSchool")),1),h("div",A,f(g(C)("weeklySystem.schoolBrowser.selectSchoolHint")),1)]),_:1}))]))}},[["__scopeId","data-v-36b63738"]]);export{C as default};
