import{o as e,d as t,Q as s,R as a,i as l,A as i,j as r,h as o,ao as d,g as n,p as c}from"./app-BwCflFkV.js";import{Q as u}from"./QBadge-CShv2hr3.js";import{L as p,I as b,M as g,O as f,b as x,V as m,J as y,F as v,Q as w,S as h,x as _,H as S,U as k,K as j,$}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const C={class:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50"},z={class:"flex items-center justify-between"},D={class:"flex items-center gap-2"},q={class:"text-xs text-gray-600 mt-1 flex items-center gap-1"},Q={class:"flex-1 overflow-y-auto p-3 custom-scrollbar"},A={class:"flex items-center gap-2"},B={key:0,class:"bg-white border-t border-gray-100 p-3"},E={class:"space-y-2"},I=["onClick"],L={class:"flex justify-between items-center mb-1"},N={class:"font-bold text-xs text-gray-700"},O={class:"text-[10px] text-gray-500 truncate pl-1 border-l-2 border-gray-300"},R={key:0,class:"text-center py-4 text-gray-400 text-xs italic"},F=e({__name:"LessonSidebar copy",props:{sections:{type:Array,required:!0},currentSection:{type:String,required:!0},slides:{type:Array,default:()=>[]},showDrawer:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},activeSlide:{type:Object,default:null}},emits:["update:currentSection","update:showDrawer","addSlide","selectSlide"],setup(e,{emit:F}){const H=e,J=e=>H.slides.filter(t=>t.section===e),K=e=>H.slides.indexOf(e),M=e=>!!H.activeSlide&&(e===H.activeSlide||e.id&&e.id===H.activeSlide.id),P=e=>{var t,s,a;if("text"===e.slide_type){const s=(null==(t=e.slide_content)?void 0:t.text)||"";return s.replace(/<[^>]*>/g,"").substring(0,30)+(s.length>30?"...":"")}if("question"===e.slide_type){const t=(null==(a=null==(s=e.slide_content)?void 0:s.questions)?void 0:a.length)||0;return`${t} Question${1!==t?"s":""}`}return`${e.slide_type} content`};return(F,H)=>(b(),p("div",null,[g("div",{class:h(["fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-gray-200 flex flex-col",e.showDrawer?"translate-x-0":"-translate-x-full"])},[g("div",C,[g("div",z,[g("div",D,[x(t,{name:"view_sidebar",size:"24px",color:"primary"}),H[4]||(H[4]=g("h2",{class:"text-lg font-bold text-gray-800"},"Lesson Plan",-1))]),x(s,{flat:"",dense:"",round:"",icon:"close",onClick:H[0]||(H[0]=e=>F.$emit("update:showDrawer",!1)),class:"lg:hidden"})]),g("p",q,[x(t,{name:"touch_app",size:"14px"}),H[5]||(H[5]=m(" Select a section to manage slides "))])]),g("div",Q,[x(n,{separator:""},{default:y(()=>[(b(!0),p(v,null,w(e.sections,s=>(b(),p("div",{key:s.id,class:h(["mb-3 rounded-xl overflow-hidden transition-all duration-300 border",e.currentSection===s.id?"bg-blue-50 border-blue-200 shadow-md":"bg-white border-transparent hover:bg-gray-50"])},[_((b(),S(o,{clickable:"",onClick:e=>F.$emit("update:currentSection",s.id),class:"py-3"},{default:y(()=>[x(l,{avatar:""},{default:y(()=>[x(i,{color:e.currentSection===s.id?s.borderColor:"grey-2","text-color":"white",size:"40px",class:"shadow-sm"},{default:y(()=>[x(t,{name:s.qIcon||s.icon,size:"22px"},null,8,["name"])]),_:2},1032,["color"])]),_:2},1024),x(l,null,{default:y(()=>[x(r,{class:"font-bold text-gray-800 text-sm"},{default:y(()=>[m(k(s.title),1)]),_:2},1024),x(r,{caption:"",class:"text-xs text-gray-500"},{default:y(()=>{return[m(k((e=s.id,J(e).length))+" slide(s) ",1)];var e}),_:2},1024)]),_:2},1024),x(l,{side:""},{default:y(()=>[g("div",A,[j(F.$slots,"section-status",{section:s},void 0,!0),x(t,{name:e.currentSection===s.id?"expand_less":"expand_more",color:e.currentSection===s.id?"primary":"grey"},null,8,["name","color"])])]),_:2},1024)]),_:2},1032,["onClick"])),[[a]]),x(d,null,{default:y(()=>[e.currentSection===s.id?(b(),p("div",B,[e.canEdit?(b(),p("button",{key:0,type:"button",onClick:H[1]||(H[1]=$(e=>F.$emit("addSlide"),["stop"])),class:"w-full py-2 px-3 mb-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all flex items-center justify-center gap-2"},[x(t,{name:"add",size:"16px"}),H[6]||(H[6]=m(" Add New Slide "))])):f("",!0),g("div",E,[(b(!0),p(v,null,w(J(s.id),(e,t)=>(b(),p("div",{key:e.id||t,onClick:$(t=>F.$emit("selectSlide",e),["stop"]),class:h(["p-2 rounded-lg cursor-pointer border transition-all group relative",M(e)?"bg-blue-50 border-blue-400 ring-1 ring-blue-400":"bg-gray-50 border-gray-200 hover:border-blue-300"])},[g("div",L,[g("span",N,"Slide "+k(K(e)+1),1),x(u,{color:M(e)?"blue":"grey",size:"sm",label:e.slide_type},null,8,["color","label"])]),g("div",O,k(P(e)),1)],10,I))),128)),0===J(s.id).length?(b(),p("div",R,k(e.canEdit?"No slides yet. Click above to add one.":"No slides in this section."),1)):f("",!0)])])):f("",!0)]),_:2},1024)],2))),128))]),_:3})])],2),e.showDrawer?(b(),p("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:H[2]||(H[2]=e=>F.$emit("update:showDrawer",!1))})):f("",!0),x(s,{round:"",color:"primary",icon:"menu",class:"fixed bottom-6 left-6 z-50 lg:hidden shadow-lg",onClick:H[3]||(H[3]=e=>F.$emit("update:showDrawer",!0))},{default:y(()=>[x(c,null,{default:y(()=>H[7]||(H[7]=[m("Show Sections")])),_:1})]),_:1})]))}},[["__scopeId","data-v-9f559150"]]);export{F as default};
