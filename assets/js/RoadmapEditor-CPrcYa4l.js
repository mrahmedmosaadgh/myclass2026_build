import{r as e,u as a,f as t,c as l,h as o,b as s,d as r}from"./app-CmR0nRZC.js";import{f as i,k as n,a as d,N as u,J as c,b as p,K as m,R as f,V as y}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const v={class:"q-pa-md"},g={class:"q-mt-md flex justify-between"},b={class:"q-mt-md"},S={class:"bg-grey-2 q-pa-sm q-mt-sm"},x=e({__name:"RoadmapEditor",props:{nodes:{type:[Array,String],default:()=>[]}},emits:["update:nodes"],setup(e,{emit:x}){const J=a(),N=e,_=x,O=i(""),h=i([]);function j(e){try{return Array.isArray(e)?e:JSON.parse(e||"[]")}catch(a){return console.warn("Invalid JSON detected:",a),[]}}function q(){const e=j(O.value);h.value=e,_("update:nodes",e),J.notify({message:"Roadmap updated successfully âœ…",color:"green",icon:"check"})}function w(){navigator.clipboard.writeText(JSON.stringify(h.value,null,2)),J.notify({message:"Copied to clipboard ðŸ“‹",color:"primary",icon:"content_copy"})}h.value=j(N.nodes),O.value=JSON.stringify(h.value,null,2),n(()=>N.nodes,e=>{h.value=j(e),O.value=JSON.stringify(h.value,null,2)},{immediate:!0});const R=d(()=>JSON.stringify(h.value,null,2));return(e,a)=>(c(),u("div",v,[p(r,{flat:"",bordered:"",class:"bg-grey-1"},{default:m(()=>[p(t,null,{default:m(()=>a[1]||(a[1]=[f("div",{class:"text-h6"},"ðŸ§­ LMS Roadmap Editor",-1),f("div",{class:"text-caption text-grey"},"Modify your roadmap tree nodes safely.",-1)])),_:1}),p(l),p(t,null,{default:m(()=>[p(o,{modelValue:O.value,"onUpdate:modelValue":a[0]||(a[0]=e=>O.value=e),type:"textarea",autogrow:"",filled:"",label:"Edit JSON Tree Data",placeholder:'[ { "label": "Root", "children": [] } ]'},null,8,["modelValue"]),f("div",g,[p(s,{color:"primary",icon:"save",label:"Save",onClick:q}),p(s,{color:"secondary",icon:"content_copy",label:"Copy JSON",onClick:w})]),f("div",b,[a[2]||(a[2]=f("div",{class:"text-subtitle2 text-primary"},"Preview Tree:",-1)),f("pre",S,y(R.value),1)])]),_:1})]),_:1})]))}},[["__scopeId","data-v-a8020420"]]);export{x as default};
