import{r as e,t as i,b as t,Q as a,F as d}from"./app-DraepSDZ.js";import{f as s,N as n,J as l,R as c,b as r,I as o,O as u,K as v,W as p,F as m,Q as S,U as f,V as _,B as y,y as b,Y as g,a0 as x}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const h={class:"slides-sidebar"},k={class:"sidebar-header"},w={class:"slides-container"},C=["onClick"],z={class:"section-header-content"},j={class:"section-info"},A={class:"section-title"},I={class:"section-count"},q={class:"section-slides"},D=["onClick"],E={class:"slide-number"},O={class:"thumbnail-box"},B={class:"thumbnail-content"},F={class:"slide-type-label"},Q={key:0,class:"delete-overlay"},N=["onClick"],V=e({__name:"LessonSidebar",props:{sections:Array,currentSection:String,slides:Array,showDrawer:Boolean,canEdit:Boolean,activeSlide:Object},emits:["update:currentSection","update:currentSection_data","addSlide","deleteSlide","selectSlide"],setup(e,{emit:V}){const $=e,J=V,K=s(new Set);$.currentSection&&K.value.add($.currentSection);const L=e=>$.slides.filter(i=>i.section===e),P=e=>K.value.has(e),R=e=>!!$.activeSlide&&($.activeSlide.id&&e.id?$.activeSlide.id===e.id:$.activeSlide===e),T=e=>$.slides.indexOf(e),U=e=>{switch(e){case"text":return"description";case"image":return"image";case"video":return"videocam";case"audio":return"audiotrack";case"pdf":return"picture_as_pdf";case"question":return"quiz";case"drawing":return"brush";default:return"article"}};return(s,V)=>(l(),n("div",h,[c("div",k,[V[2]||(V[2]=c("div",{class:"text-subtitle2 text-weight-bold text-grey-8"},"Slides",-1)),e.canEdit?(l(),o(t,{key:0,flat:"",dense:"",round:"",size:"sm",icon:"add",color:"primary",onClick:V[0]||(V[0]=e=>s.$emit("addSlide"))},{default:v(()=>[r(i,null,{default:v(()=>V[1]||(V[1]=[p("Add New Slide")])),_:1})]),_:1})):u("",!0)]),r(d,{class:"slides-scroll-area"},{default:v(()=>[c("div",w,[(l(!0),n(m,null,S(e.sections,d=>{return l(),n("div",{key:d.id,class:"section-group"},[c("div",{class:f(["section-header",{"active-section":e.currentSection===d.id}]),onClick:e=>(e=>{K.value.has(e.id)?K.value.delete(e.id):K.value.add(e.id),J("update:currentSection",e.id),J("update:currentSection_data",e)})(d)},[c("div",z,[r(a,{name:d.icon||d.qIcon||"folder",size:"18px",color:e.currentSection===d.id?"white":"grey-7"},null,8,["name","color"]),c("div",j,[c("div",A,_(d.title),1),c("div",I,_((o=d.id,L(o).length))+" slides",1)])]),r(a,{name:P(d.id)?"expand_less":"expand_more",size:"20px",color:e.currentSection===d.id?"white":"grey-6"},null,8,["name","color"])],10,C),r(y,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:v(()=>[b(c("div",q,[(l(!0),n(m,null,S(L(d.id),(d,o)=>{return l(),n("div",{key:d.id||o,class:f(["slide-thumbnail",{active:R(d)}]),onClick:e=>(e=>{if(e.section&&e.section!==$.currentSection){const i=$.sections.find(i=>i.id===e.section);i&&(J("update:currentSection",i.id),J("update:currentSection_data",i),K.value.add(i.id))}J("selectSlide",e)})(d)},[c("div",E,_(T(d)+1),1),c("div",O,[c("div",B,[r(a,{name:U(d.slide_type),size:"28px",color:R(d)?"primary":"grey-6"},null,8,["name","color"]),c("div",F,_((m=d.slide_type,{text:"Text",image:"Image",video:"Video",audio:"Audio",pdf:"PDF",question:"Quiz",drawing:"Drawing"}[m]||"Slide")),1)])]),e.canEdit?(l(),n("div",Q,[r(t,{round:"",dense:"",size:"xs",icon:"delete",color:"negative",onClick:x(e=>s.$emit("deleteSlide",d),["stop"])},{default:v(()=>[r(i,null,{default:v(()=>V[3]||(V[3]=[p("Delete Slide")])),_:1})]),_:2},1032,["onClick"])])):u("",!0)],10,D);var m}),128)),e.canEdit?(l(),n("div",{key:0,class:"add-slide-button",onClick:e=>(e=>{J("update:currentSection",e.id),J("update:currentSection_data",e),K.value.add(e.id),J("addSlide")})(d)},[r(a,{name:"add_circle",size:"20px",color:"positive"}),c("span",null,"Add slide to "+_(d.title),1)],8,N)):u("",!0)],512),[[g,P(d.id)]])]),_:2},1024)]);var o}),128))])]),_:1})]))}},[["__scopeId","data-v-6047a0bf"]]);export{V as default};
