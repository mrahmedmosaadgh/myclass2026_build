import{l as e}from"./ui-BITzTqrO.js";import{k as r}from"./katex-BXKQVcz-.js";import"./app-CqJgtQaN.js";import t from"./purify.es-C2Ba6vpb.js";import{f as s,k as o,M as n,J as a,N as i,Q as l,F as u,R as c,V as d}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";const m={class:"p-6 bg-white rounded-lg shadow"},p={key:0,class:"mb-6"},g={class:"bg-gray-50 p-4 rounded-lg"},v=["innerHTML"],y={key:1,class:"space-y-4"},f={class:"bg-gray-50 p-4 rounded-lg"},x=["innerHTML"],h={class:"space-y-2"},b={class:"font-medium"},w=["innerHTML"],k={key:0,class:"text-green-600 ml-2"},T={class:"bg-gray-800 text-white p-4 rounded-lg overflow-x-auto"},M={__name:"QuestionParser_copy_past",props:{get_text:{type:String,required:!0}},emits:["set_question"],setup(M,{emit:_}){const j=M,q=_,C=s(""),E=s(null),H=s("");o(()=>j.get_text,e=>{e&&(C.value=e,O())},{immediate:!0});const L=e=>{try{let t=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return t=t.replace(/\\\((.*?)\\\)/g,(e,t)=>{try{return r.renderToString(t.trim(),{throwOnError:!1,displayMode:!1,strict:!1})}catch(s){return console.warn("KaTeX rendering error:",s),e}}),t=t.replace(/\n/g,"<br>"),t}catch(t){return console.error("Error in renderKaTeX:",t),e}};o(C,e=>{if(e){const r=L(e);H.value=t.sanitize(r)}else H.value=""});const O=()=>{try{if(!C.value.trim())return void e.error("Please enter question text");const r=C.value.match(/(.*?)(?=\s*\*\*A\)\*\*)/s),t=r?r[1].trim():"",s=/\*\*([A-D])\)\*\*\s*(.*?)(?=\s*\*\*[A-D]\)\*\*|$)/gs,o=[];let n;for(;null!==(n=s.exec(C.value));)o.push({option:n[2].trim(),feedback:"",isCorrect:!1});if(!t)throw new Error("Could not extract question body");if(0===o.length)throw new Error("Could not extract any options");const a={body:t,options:o};E.value=a,q("set_question",a),e.success("Question parsed successfully")}catch(r){console.error("Error parsing question:",r),e.error(r.message||"Error parsing question. Please check the format.")}};return(e,r)=>(a(),n("div",m,[r[5]||(r[5]=i("h2",{class:"text-xl font-semibold mb-4"},"Question Text to JSON Parser",-1)),C.value?(a(),n("div",p,[r[0]||(r[0]=i("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Preview:",-1)),i("div",g,[i("div",{innerHTML:H.value,class:"katex-preview prose max-w-none"},null,8,v)])])):l("",!0),E.value?(a(),n("div",y,[r[4]||(r[4]=i("h3",{class:"text-lg font-medium text-gray-900"},"Parsed Result:",-1)),i("div",f,[r[1]||(r[1]=i("h4",{class:"font-medium text-gray-700 mb-2"},"Question Body:",-1)),i("div",{class:"mb-4",innerHTML:L(E.value.body)},null,8,x),r[2]||(r[2]=i("h4",{class:"font-medium text-gray-700 mb-2"},"Options:",-1)),i("div",h,[(a(!0),n(u,null,c(E.value.options,(e,r)=>(a(),n("div",{key:r,class:"flex items-center gap-2"},[i("span",b,d(["A","B","C","D"][r])+")",1),i("div",{innerHTML:L(e.option)},null,8,w),e.isCorrect?(a(),n("span",k,"(Correct)")):l("",!0)]))),128))])]),i("div",null,[r[3]||(r[3]=i("h4",{class:"font-medium text-gray-700 mb-2"},"JSON Output:",-1)),i("pre",T,d(JSON.stringify(E.value,null,2)),1)])])):l("",!0)]))}};export{M as default};
