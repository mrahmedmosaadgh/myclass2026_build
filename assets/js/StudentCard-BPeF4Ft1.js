import{r as e,Q as t}from"./app-BxJhpxku.js";import{u as a}from"./i18n-B0T1C7j3.js";import s from"./AvatarManager-BBpcOWb-.js";import{a as r,N as l,J as n,R as o,O as d,U as i,b as u,V as m}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./ui-B7TfxbV_.js";import"./CameraCapture-Bws2meS3.js";import"./QFile-CLL4r4Tq.js";import"./use-file-CTRmpBK5.js";import"./QImg-6mrswKOg.js";const c={class:"relative mb-2"},p={class:"absolute -bottom-1 -left-3 bg-white border border-gray-200 shadow-md rounded-lg px-2 py-0.5 min-w-[2.5rem] text-center z-20 flex items-center justify-center transform scale-90"},f={class:"text-sm font-bold text-gray-700"},b={class:"text-sm font-bold"},v={key:1,class:"absolute -top-1 -right-1 z-30 bg-green-500 rounded-full w-4 h-4 flex items-center justify-center shadow-sm"},y={class:"truncate transition-colors duration-300"},g={key:0},h={key:1},x=e({__name:"StudentCard",props:{student:{type:Object,required:!0},selected:{type:Boolean,default:!1},selectedId:{type:[String,Number],default:null},cardClass:{type:[String,Object,Array],default:""},studentSummary:{type:Object,default:()=>({positive:0,negative:0,total:0})},overallPoints:{type:Number,default:0},avatarEditEnabled:{type:Boolean,default:!1},showAvatarButtons:{type:Boolean,default:!1},disableBehavior:{type:Boolean,default:!1},allowDisabledClick:{type:Boolean,default:!1},isAbsent:{type:Boolean,default:!1}},emits:["select","open-camera","open-behavior","preview","leave"],setup(e,{emit:x}){const{locale:N}=a(),w=e,j=x;function B(){j("preview",w.student),w.disableBehavior&&!w.allowDisabledClick||j("select",w.student.id)}function k(e){if(!e||"string"!=typeof e)return{firstName:"",secondName:"",lastName:""};const t=e.trim().split(/\s+/).filter(e=>e.length>0),a=t[0]||"",s=t.length>1?t[t.length-1]:"";return{firstName:a,secondName:t.length>2?t.slice(1,-1).join(" "):"",lastName:s}}const S=r(()=>{if("ar"===N.value&&w.student.name_ar){return{...k(w.student.name_ar),fullName:w.student.name_ar}}const e=k(w.student.name);return{firstName:w.student.firstName||e.firstName,lastName:w.student.lastName||e.lastName,secondName:e.secondName,fullName:w.student.name}});return(a,r)=>(n(),l("div",{class:i(["relative flex flex-col items-center group cursor-pointer transition-transform duration-200 hover:-translate-y-1",[e.disableBehavior?"opacity-60 grayscale":"",e.isAbsent?"opacity-50 grayscale":""]]),onClick:B,onMouseenter:r[1]||(r[1]=t=>a.$emit("preview",e.student)),onMouseleave:r[2]||(r[2]=e=>a.$emit("leave"))},[o("div",c,[o("div",{class:i(["w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center relative overflow-visible border-4 transition-all duration-300 shadow-sm",[e.selected?"border-blue-500 shadow-md scale-105":"border-white",e.disableBehavior?"border-gray-200":""]])},[u(s,{student:e.student,size:"5.5rem","edit-enabled":e.avatarEditEnabled,"onUpdate:avatar":r[0]||(r[0]=t=>e.student.avatar=t)},null,8,["student","edit-enabled"])],2),o("div",p,[o("span",f,m(e.overallPoints),1)]),e.studentSummary?(n(),l("div",{key:0,class:i(["absolute -bottom-1 -right-3 w-8 h-8 rounded-full border-2 flex items-center justify-center z-20 shadow-md transition-all duration-300 transform scale-90",{"bg-green-100 border-green-500 text-green-800":e.studentSummary.total>0,"bg-red-100 border-red-500 text-red-800":e.studentSummary.total<0,"bg-gray-100 border-gray-300 text-gray-600":0===e.studentSummary.total}])},[o("span",b,m(e.studentSummary.total),1)],2)):d("",!0),e.selected?(n(),l("div",v,[u(t,{name:"check",color:"white",size:"10px"})])):d("",!0)]),o("div",{class:i(["text-center leading-tight max-w-[140px] mt-2 px-1 transition-all duration-300",{"drop-shadow-md scale-105":e.selected}])},[o("div",y,[o("span",{class:i(["font-extrabold text-base",e.selected?"text-blue-900":"text-gray-800"])},m(S.value.firstName),3),S.value.secondName||S.value.lastName?(n(),l("span",{key:0,class:i(["font-bold text-sm ml-0.5",e.selected?"text-blue-800":"text-gray-600"])},[S.value.secondName?(n(),l("span",g,", "+m(S.value.secondName),1)):d("",!0),S.value.lastName?(n(),l("span",h,m(S.value.secondName?"":",")+" "+m(S.value.lastName),1)):d("",!0)],2)):d("",!0)])],2)],34))}},[["__scopeId","data-v-3ea9210b"]]);export{x as default};
