import{O as s,f as l,o as e,_ as a,M as t,J as o,N as i,b as n,F as d,R as u,S as c,V as r,a0 as v,W as m,K as p,Q as f,B as x}from"./vendor-DuKqz2x4.js";import{o as b}from"./app-CqJgtQaN.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const y={class:"p-6"},g={key:0,class:"text-slate-500"},h={key:1},k={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},w=["onClick"],C={class:"p-4"},j={class:"flex items-center justify-between"},_={class:"text-sm uppercase tracking-wide opacity-80"},A=["onClick"],S={class:"text-xl font-bold mt-1"},$={class:"mt-3 text-sm opacity-90"},z={class:"font-semibold"},L={key:0,class:"fixed inset-0 z-40"},M={class:"absolute right-0 top-0 h-full w-full sm:w-96 bg-white shadow-xl z-50 flex flex-col"},O={class:"p-4 border-b flex items-center justify-between"},T={class:"text-xs text-slate-500"},B={class:"text-lg font-semibold"},F={class:"p-4 space-y-3 overflow-y-auto"},I={key:0,class:"text-slate-500 text-sm"},J={key:1,class:"space-y-1"},K={class:"list-disc list-inside text-sm"},N={key:2,class:"space-y-1"},Q={class:"list-disc list-inside text-sm"},R=b({__name:"Classrooms",props:{assignments:{type:Array,default:()=>[]}},setup(b){s();const R=l(b.assignments),V=l(!1),W=l(null),q=l([]),D=l([]),E=l(!1),G=s=>{W.value=s,q.value=[],D.value=[]},H=s=>{var l,e;return{backgroundColor:(null==(l=null==s?void 0:s.colors)?void 0:l.bg)||"#f8fafc",color:(null==(e=null==s?void 0:s.colors)?void 0:e.text)||"#0f172a"}},P=async()=>{if(W.value){E.value=!0;try{const{data:s}=await a.get(`/api/classrooms/${W.value.classroom.id}/students`);q.value=(null==s?void 0:s.data)||[]}finally{E.value=!1}}},U=async()=>{if(W.value){E.value=!0;try{const{data:s}=await a.get(`/api/classrooms/${W.value.classroom.id}/teachers`);D.value=(null==s?void 0:s.data)||[]}finally{E.value=!1}}},X=s=>{window.alert(`${s} coming soon`)};return e(async()=>{var s;if(!(null==(s=R.value)?void 0:s.length)){V.value=!0;try{const{data:s}=await a.get("/api/teacher/dashboard/classrooms");R.value=(null==s?void 0:s.data)||[]}finally{V.value=!1}}}),(s,l)=>(o(),t("div",y,[l[7]||(l[7]=i("h1",{class:"text-2xl font-semibold mb-4"},"My Classrooms",-1)),V.value?(o(),t("div",g,"Loading...")):(o(),t("div",h,[i("div",k,[(o(!0),t(d,null,u(R.value,s=>{var e,a,n;return o(),t("div",{key:s.id,class:"rounded-lg shadow border hover:shadow-md transition cursor-pointer",style:c(H(s)),onClick:l=>G(s)},[i("div",C,[i("div",j,[i("div",_,r(null==(e=s.subject)?void 0:e.name),1),i("button",{class:"text-xs px-2 py-1 rounded bg-white/20 hover:bg-white/30",onClick:v(l=>G(s),["stop"])},"Options",8,A)]),i("h2",S,r(null==(a=s.classroom)?void 0:a.name),1),i("div",$,[l[4]||(l[4]=m("Classes / week: ")),i("span",z,r(null!=(n=s.classes_per_week)?n:"-"),1)])])],12,w)}),128))])])),n(x,{name:"fade"},{default:p(()=>{var s,e,a,n;return[W.value?(o(),t("div",L,[i("div",{class:"absolute inset-0 bg-black/30",onClick:l[0]||(l[0]=s=>W.value=null)}),i("div",M,[i("div",O,[i("div",null,[i("div",T,r(null==(e=null==(s=W.value)?void 0:s.subject)?void 0:e.name),1),i("div",B,r(null==(n=null==(a=W.value)?void 0:a.classroom)?void 0:n.name),1)]),i("button",{class:"text-slate-600 hover:text-slate-900",onClick:l[1]||(l[1]=s=>W.value=null)},"âœ•")]),i("div",F,[i("button",{class:"w-full text-left px-3 py-2 rounded border hover:bg-slate-50",onClick:P},"Students"),i("button",{class:"w-full text-left px-3 py-2 rounded border hover:bg-slate-50",onClick:U},"Teachers"),i("button",{class:"w-full text-left px-3 py-2 rounded border hover:bg-slate-50",onClick:l[2]||(l[2]=s=>X("Assignments"))},"Assignments"),i("button",{class:"w-full text-left px-3 py-2 rounded border hover:bg-slate-50",onClick:l[3]||(l[3]=s=>X("Attendance"))},"Attendance"),E.value?(o(),t("div",I,"Loading...")):f("",!0),q.value.length?(o(),t("div",J,[l[5]||(l[5]=i("div",{class:"text-xs font-medium text-slate-500"},"Students",-1)),i("ul",K,[(o(!0),t(d,null,u(q.value,s=>(o(),t("li",{key:s.id},r(s.name),1))),128))])])):f("",!0),D.value.length?(o(),t("div",N,[l[6]||(l[6]=i("div",{class:"text-xs font-medium text-slate-500"},"Teachers",-1)),i("ul",Q,[(o(!0),t(d,null,u(D.value,s=>(o(),t("li",{key:s.id},r(s.name),1))),128))])])):f("",!0)])])])):f("",!0)]}),_:1})]))}},[["__scopeId","data-v-559d564b"]]);export{R as default};
