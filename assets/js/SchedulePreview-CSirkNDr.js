import{p as e,l as o}from"./app-DXXarK7I.js";import{Q as s}from"./QSelect-OI6RFhnT.js";import{a,Q as t}from"./QTable-CIXbyzJI.js";import{Q as l}from"./QTr-9i42lPDt.js";import{Q as r}from"./QTd-DaKXGNl2.js";import{f as d,a as i,k as p,o as u,L as n,I as m,M as c,b as f,J as v,V as _,U as y,F as b,Q as g}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-BVGvqYSu.js";import"./QLinearProgress-BEkk-xFg.js";import"./use-fullscreen-DIOkwRkq.js";const w={class:"schedule-preview"},j={class:"mb-4 bg-grey-2 p-4 rounded-borders"},S={class:"flex items-center justify-between"},h={class:"flex gap-2"},Q={class:"schedule-grid q-pa-md"},T="schedule-preview-slots",V=e({__name:"SchedulePreview",props:{timing:{type:Object,required:!0},timeSlots:{type:Array,required:!0}},setup(e){const V=e,k=["Sunday","Monday","Tuesday","Wednesday","Thursday"],L=d([0]),x=i(()=>Array.from({length:V.timeSlots.length},(e,o)=>o)),q=i(()=>{const e=[];return(V.timing.d1||[]).forEach(o=>{e.push({period_code:o.period_code,...k.reduce((e,s,a)=>{var t;const l=`d${a+1}`,r=null==(t=V.timing[l])?void 0:t.find(e=>e.period_code===o.period_code);return e[s.toLowerCase()]=r,e},{})})}),e}),C=i(()=>[{name:"period",label:"Period",field:"period_code",align:"left"},...k.map(e=>({name:e.toLowerCase(),label:e,field:e.toLowerCase(),align:"left"}))]),I=(e,o)=>{const s=e[o];return(null==s?void 0:s.timeSlots)?s.timeSlots.filter(e=>e.active):[]};return p(L,()=>{localStorage.setItem(T,JSON.stringify(L.value))},{deep:!0}),u(()=>{(()=>{const e=localStorage.getItem(T);e&&(L.value=JSON.parse(e))})()}),(e,d)=>(m(),n("div",w,[c("div",j,[c("div",S,[d[2]||(d[2]=c("h5",{class:"text-subtitle1 q-my-none"},"Time Slot Display Options",-1)),c("div",h,[f(s,{modelValue:L.value,"onUpdate:modelValue":d[1]||(d[1]=e=>L.value=e),options:x.value,multiple:"",dense:"","options-dense":"",label:"Select Time Slots",style:{"min-width":"200px"}},{option:v(({opt:e})=>[f(o,{modelValue:L.value,"onUpdate:modelValue":d[0]||(d[0]=e=>L.value=e),val:e},{default:v(()=>[_(" Slot "+y(e+1),1)]),_:2},1032,["modelValue","val"])]),_:1},8,["modelValue","options"])])])]),c("div",Q,[f(t,{flat:"",rows:q.value,columns:C.value,"row-key":"period_code",dense:""},{header:v(e=>[f(l,{props:e},{default:v(()=>[f(a,{"auto-width":""},{default:v(()=>d[3]||(d[3]=[_("Period")])),_:1}),(m(),n(b,null,g(k,e=>f(a,{key:e},{default:v(()=>[_(y(e),1)]),_:2},1024)),64))]),_:2},1032,["props"])]),body:v(e=>[f(l,{props:e},{default:v(()=>[f(r,{"auto-width":""},{default:v(()=>[_(y(e.row.period_code),1)]),_:2},1024),(m(),n(b,null,g(k,o=>f(r,{key:o},{default:v(()=>[(m(!0),n(b,null,g(I(e.row,o.toLowerCase()),e=>(m(),n("div",{key:e.from},y((e=>e.from&&e.to?`${e.from} - ${e.to}`:"")(e)),1))),128))]),_:2},1024)),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])]))}},[["__scopeId","data-v-7ccb2ccd"]]);export{V as default};
