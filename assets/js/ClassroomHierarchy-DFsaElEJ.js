import{p as e,u as a,d as l,e as s,h as t,n as r,Q as o,m as d,b as u,b2 as i,i as n,j as c,A as m,k as _,aD as f,C as y}from"./app-Dccx8xF5.js";import{Q as p}from"./QBadge-BoQNzKR2.js";import{Q as b}from"./QSpace-BWA-UIs7.js";import{f as g,L as v,I as x,b as h,J as k,M as j,H as q,F as C,Q as w,O as Q,x as A,U as N,y as V,V as z,R as H}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const I={key:0,class:"text-center q-pa-xl"},S={class:"text-h6"},U={class:"q-mb-md"},$={class:"text-h6"},B={class:"q-mb-md"},D={class:"text-subtitle2 text-grey-7 q-mb-sm"},F={class:"row q-col-gutter-xs"},J=e({__name:"ClassroomHierarchy",props:{hierarchy:{type:Array,required:!0},assignments:{type:Array,required:!0}},setup(e){const J=a(),L=e,M=g(!1),O=g(null);return(a,g)=>(x(),v("div",null,[h(r,{flat:"",bordered:""},{default:k(()=>[h(l,null,{default:k(()=>[g[4]||(g[4]=j("div",{class:"text-h6 q-mb-md"},"Classroom Hierarchy",-1)),0===e.hierarchy.length?(x(),v("div",I,[h(s,{name:"folder_open",size:"64px",color:"grey-5"}),g[1]||(g[1]=j("div",{class:"text-body1 text-grey-7 q-mt-md"},"No stages found",-1))])):(x(),q(t,{key:1,bordered:"",separator:""},{default:k(()=>[(x(!0),v(C,null,w(e.hierarchy,e=>(x(),q(i,{key:e.id,label:e.name,icon:"account_tree","header-class":"text-primary text-weight-bold","expand-separator":""},{default:k(()=>[h(r,{flat:""},{default:k(()=>[0===e.grades.length?(x(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[2]||(g[2]=[z(" No grades in this stage ")])),_:1})):(x(),q(t,{key:1},{default:k(()=>[(x(!0),v(C,null,w(e.grades,e=>(x(),q(i,{key:e.id,label:e.name,icon:"grade","header-class":"text-secondary",dense:""},{default:k(()=>[h(r,{flat:""},{default:k(()=>[0===e.classrooms.length?(x(),q(l,{key:0,class:"text-grey-7"},{default:k(()=>g[3]||(g[3]=[z(" No classrooms in this grade ")])),_:1})):(x(),q(t,{key:1,dense:""},{default:k(()=>[(x(!0),v(C,null,w(e.classrooms,e=>(x(),q(n,{key:e.id,clickable:"",onClick:a=>(e=>{O.value=e,M.value=!0})(e)},{default:k(()=>[h(c,{avatar:""},{default:k(()=>[h(m,{color:"accent","text-color":"white",icon:"class"})]),_:1}),h(c,null,{default:k(()=>[h(_,null,{default:k(()=>[z(N(e.name),1)]),_:2},1024),h(_,{caption:""},{default:k(()=>[z(" Capacity: "+N(e.capacity||"N/A"),1)]),_:2},1024)]),_:2},1024),h(c,{side:""},{default:k(()=>[h(p,{color:"primary",label:`${e.assignments_count} assignments`},null,8,["label"])]),_:2},1024),h(c,{side:""},{default:k(()=>[h(s,{name:"chevron_right",color:"grey-5"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:2},1024))]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}))]),_:1})]),_:1}),h(u,{modelValue:M.value,"onUpdate:modelValue":g[0]||(g[0]=e=>M.value=e),maximized:V(J).screen.lt.md},{default:k(()=>[h(r,{style:{"min-width":"500px"}},{default:k(()=>[h(l,{class:"row items-center q-pb-none"},{default:k(()=>{var e;return[j("div",S,N(null==(e=O.value)?void 0:e.name),1),h(b),A(h(o,{icon:"close",flat:"",round:"",dense:""},null,512),[[f]])]}),_:1}),O.value?(x(),q(l,{key:0},{default:k(()=>[j("div",U,[g[5]||(g[5]=j("div",{class:"text-subtitle2 text-grey-7"},"Capacity",-1)),j("div",$,N(O.value.capacity||"N/A"),1)]),j("div",B,[j("div",D,"Subjects ("+N(O.value.subjects.length)+")",1),j("div",F,[(x(!0),v(C,null,w(O.value.subjects,(e,a)=>(x(),v("div",{key:a,class:"col-auto"},[h(y,{color:"primary","text-color":"white",icon:"menu_book"},{default:k(()=>[z(N(e),1)]),_:2},1024)]))),128))])]),j("div",null,[g[6]||(g[6]=j("div",{class:"text-subtitle2 text-grey-7 q-mb-sm"},"Assignments",-1)),h(t,{dense:"",bordered:"",separator:""},{default:k(()=>{return[(x(!0),v(C,null,w((e=O.value.id,L.assignments.filter(a=>a.classroom_id===e)),e=>(x(),q(n,{key:e.id},{default:k(()=>[h(c,{avatar:""},{default:k(()=>[h(m,{style:H({backgroundColor:e.subject_color_bg,color:e.subject_color_text}),icon:"menu_book"},null,8,["style"])]),_:2},1024),h(c,null,{default:k(()=>[h(_,null,{default:k(()=>[z(N(e.subject_name),1)]),_:2},1024),h(_,{caption:""},{default:k(()=>[z(N(e.teacher_name),1)]),_:2},1024)]),_:2},1024),h(c,{side:""},{default:k(()=>[h(p,{color:"primary",label:`${e.classes_per_week} classes/week`},null,8,["label"])]),_:2},1024)]),_:2},1024))),128))];var e}),_:1})])]),_:1})):Q("",!0),h(d,{align:"right"},{default:k(()=>[A(h(o,{flat:"",label:"Close",color:"primary"},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]))}},[["__scopeId","data-v-6fa3250c"]]);export{J as default};
