import{a as e,f as a,I as r,J as t,K as s,O as o,b as l,N as i,Q as n,V as u,W as d,_ as c,$ as p}from"./vendor-nQjeLEvd.js";import{_ as m}from"./AppLayout-33RltWFH.js";import{_ as v}from"./PrimaryButton-CsGumtxq.js";import{_ as b}from"./Pagination-YMPFegkz.js";import{_ as f}from"./DataTable-DrJMYeT2.js";import{_ as y}from"./FormModal-nOTqiVLK.js";import"./LucideIcon-CvBD6-wv.js";import"./createLucideIcon-B92OCqKn.js";import"./align-right-Bgq5iJ0f.js";import"./underline-W2dy4QkK.js";import"./image-Bjqqm2aR.js";import"./printer-CB3iEnDW.js";import"./Modal-Gmv4jxfs.js";import"./app-ggGwxJON.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";import"./SecondaryButton-DFYJg0hY.js";const g={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},h={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg p-6"},x={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},w={class:"mb-6"},_={key:1,class:"mt-4"},k="/admin/hr",S={__name:"Index",props:{records:{type:Object,required:!0},options:{type:Object,default:()=>({})}},setup(S){const $=S,I=e(()=>{var e;return(null==(e=$.records)?void 0:e.data)||[]}),A=e(()=>{var e;return(null==(e=$.records)?void 0:e.links)||null}),q="HR Management",N=[{key:"name",label:"Name"},{key:"active",label:"Status",type:"status"}],B=[{name:"name",label:"Name",type:"text",required:!0,autofocus:!0},{name:"active",label:"Status",type:"select",options:[{value:!0,label:"Active"},{value:!1,label:"Inactive"}]}];$.options.users&&B.push({name:"user_id",label:"User",type:"select",required:!0,options:$.options.users.map(e=>({value:e.id,label:e.name}))});const D=a(!1),L=a(null),M=a(!1),O=(e=null)=>{L.value=e,D.value=!0},P=()=>{D.value=!1,L.value=null},R=()=>{p.reload({only:["records"],preserveScroll:!0,preserveState:!0})},U=async({form:e,onSuccess:a,onError:r})=>{var t;if(M.value)return;M.value=!0;const s=null==(t=L.value)?void 0:t.id,o=s?`${k}/${s}`:k;try{await c.post(o,{...s&&{_method:"PUT"},...e}),a(),P(),R()}catch(l){r(l)}finally{M.value=!1}},C=async e=>{if(confirm("Are you sure you want to delete this record?"))try{await c.delete(`${k}/${e.id}`),R()}catch(a){console.error("Deletion error:",a),alert("An error occurred while deleting the record.")}};return(e,a)=>(t(),r(m,{title:q},{header:s(()=>[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},u(q))]),default:s(()=>{var r;return[o("div",g,[o("div",j,[o("div",h,[(null==(r=e.$page.props.flash)?void 0:r.success)?(t(),i("div",x,u(e.$page.props.flash.success),1)):n("",!0),o("div",w,[l(v,{onClick:a[0]||(a[0]=e=>O())},{default:s(()=>a[1]||(a[1]=[d(" Add New Record ")])),_:1})]),l(f,{items:I.value,columns:N,onEdit:O,onDelete:C},null,8,["items"]),A.value?(t(),i("div",_,[l(b,{links:A.value},null,8,["links"])])):n("",!0)])])]),l(y,{show:D.value,title:"Record",fields:B,editing:L.value,onClose:P,onSubmitted:U},null,8,["show","editing"])]}),_:1}))}};export{S as default};
