import{f as e,m as l,o as a,b as s,d as o,e as t}from"./app-BxJhpxku.js";import{f as r,k as u,I as n,J as i,K as m,b as d,R as p,V as v,N as c,Q as f,F as g}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const h={class:"text-h6"},b={class:"q-gutter-sm"},_={__name:"RoleManager",props:{show:Boolean,user:Object,allRoles:Array},emits:["close","save"],setup(_,{emit:j}){const y=_,w=j,R=r([]),V=r(!1);u(()=>y.user,e=>{R.value=e?e.roles.map(e=>e.name):[]});const k=()=>{V.value=!0,w("save",{userId:y.user.id,roles:R.value}),setTimeout(()=>V.value=!1,2e3)};return(r,u)=>(i(),n(t,{"model-value":_.show,"onUpdate:modelValue":u[2]||(u[2]=e=>r.$emit("close")),persistent:""},{default:m(()=>[d(o,{style:{width:"500px","max-width":"80vw"}},{default:m(()=>[d(e,null,{default:m(()=>{var e;return[p("div",h,"Manage Roles for "+v(null==(e=_.user)?void 0:e.name),1)]}),_:1}),d(e,{class:"q-pt-none"},{default:m(()=>[u[3]||(u[3]=p("p",null,"Select the roles to assign to this user.",-1)),p("div",b,[(i(!0),c(g,null,f(_.allRoles,e=>(i(),n(l,{key:e,modelValue:R.value,"onUpdate:modelValue":u[0]||(u[0]=e=>R.value=e),val:e,label:e,color:"primary"},null,8,["modelValue","val","label"]))),128))])]),_:1}),d(a,{align:"right"},{default:m(()=>[d(s,{flat:"",label:"Cancel",color:"primary",onClick:u[1]||(u[1]=e=>r.$emit("close"))}),d(s,{label:"Save",color:"primary",onClick:k,loading:V.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}};export{_ as default};
