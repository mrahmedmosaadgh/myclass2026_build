import{u as e}from"./i18n-kquWfmcz.js";import{f as t,a,N as l,J as n,O as s,V as o,y as r,L as u,ac as c,F as i,R as y,Q as d,I as p,K as b,W as f,U as m,am as v}from"./vendor-nQjeLEvd.js";const g={class:"p-4"},k={class:"text-xl font-bold mb-3"},h={class:"mb-3 flex justify-between items-center"},x=["placeholder"],j={class:"border border-gray-300"},A={class:"bg-gray-100"},w={key:0,class:"mr-1"},_={key:0},C=["colspan"],L={__name:"JsonDataTable",props:{data:{type:Array,default:()=>[]},config:{type:Object,default:()=>({columns:[]})}},emits:["action","edit","delete"],setup(L,{emit:O}){const{notsafe_t:J,locale:R}=e(),U=e=>{if(!e||"string"!=typeof e)return e||"";try{return J(e)}catch(t){return e}},V=L,D=O,F=t(""),I=a(()=>Array.isArray(V.config.columns)?V.config.columns.filter(e=>!1!==e.show):[]),K=a(()=>{const e=Array.isArray(V.data)?V.data:[];if(!F.value)return e;const t=F.value.toLowerCase();return e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(t)))});function N(e){return"button"===e.type?"button":"span"}function P(e){return e?"string"==typeof e?e:e[R.value]||e.en||"":""}return(e,t)=>(n(),l("div",g,[s("h2",k,o(U("user.management_dashboard")),1),s("div",h,[r(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>F.value=e),type:"text",placeholder:U("common.searchPlaceholder"),class:"border rounded px-3 py-1 w-1/3"},null,8,x),[[c,F.value]]),u(e.$slots,"toolbar")]),s("table",j,[s("thead",A,[s("tr",null,[(n(!0),l(i,null,y(I.value,e=>(n(),l("th",{key:e.key,class:"border px-3 py-2 text-left"},o(P(e.title)),1))),128))])]),s("tbody",null,[(n(!0),l(i,null,y(K.value,(e,t)=>(n(),l("tr",{key:t,class:"hover:bg-gray-50"},[(n(!0),l(i,null,y(I.value,t=>(n(),l("td",{key:t.key,class:"border px-3 py-2"},[(n(),p(v(N(t)),{value:e[t.key],config:t,onClick:a=>function(e,t){var a;"button"===e.type&&(null==(a=e.button)?void 0:a.emit)&&D(e.button.emit,t)}(t,e)},{default:b(()=>{var a,r,u;return["button"===t.type?(n(),l(i,{key:0},[(null==(a=t.button)?void 0:a.icon)?(n(),l("span",w,[s("i",{class:m("fa fa-"+t.button.icon)},null,2)])):d("",!0),f(" "+o(P(null==(r=t.button)?void 0:r.label)),1)],64)):"list"===t.type?(n(),l(i,{key:1},[f(o((u=e[t.key],Array.isArray(u)?u.every(e=>"object"==typeof e&&e.name)?u.map(e=>e.name).join(", "):u.join(", "):u)),1)],64)):(n(),l(i,{key:2},[f(o(e[t.key]),1)],64))]}),_:2},1032,["value","config","onClick"]))]))),128))]))),128)),K.value.length?d("",!0):(n(),l("tr",_,[s("td",{colspan:I.value.length,class:"text-center py-3 text-gray-500"},o(U("common.noResults")),9,C)]))])])]))}};export{L as default};
