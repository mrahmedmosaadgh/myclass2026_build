import{D as e,aX as t,aD as o,G as i,aY as l,P as n,aV as a}from"./app-BwCflFkV.js";import{f as s,p as r,a as c,r as u,k as d,e as v,h as f,ai as h}from"./vendor-CUZ9QTQV.js";const p=e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:p,emit:m}){const{proxy:{$q:g}}=r(),y=s(null),w=s(g.screen.height),b=s(!0===e.container?0:g.screen.width),z=s({position:0,direction:"down",inflectionPoint:0}),L=s(0),q=s(!0===o.value?0:t()),x=c(()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard")),S=c(()=>!1===e.container?{minHeight:g.screen.height+"px"}:null),H=c(()=>0!==q.value?{[!0===g.lang.rtl?"left":"right"]:`${q.value}px`}:null),$=c(()=>0!==q.value?{[!0===g.lang.rtl?"right":"left"]:0,[!0===g.lang.rtl?"left":"right"]:`-${q.value}px`,width:`calc(100% + ${q.value}px)`}:null);function C(t){if(!0===e.container||!0!==document.qScrollPrevented){const o={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};z.value=o,void 0!==e.onScroll&&m("scroll",o)}}function P(t){const{height:o,width:i}=t;let l=!1;w.value!==o&&(l=!0,w.value=o,void 0!==e.onScrollHeight&&m("scrollHeight",o),T()),b.value!==i&&(l=!0,b.value=i),!0===l&&void 0!==e.onResize&&m("resize",t)}function R({height:e}){L.value!==e&&(L.value=e,T())}function T(){if(!0===e.container){const e=w.value>L.value?t():0;q.value!==e&&(q.value=e)}}let F=null;const j={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:y,height:w,containerHeight:L,scrollbarWidth:q,totalWidth:c(()=>b.value+q.value),rows:c(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:u({size:0,offset:0,space:!1}),right:u({size:300,offset:0,space:!1}),footer:u({size:0,offset:0,space:!1}),left:u({size:300,offset:0,space:!1}),scroll:z,animate(){null!==F?clearTimeout(F):document.body.classList.add("q-body--layout-animate"),F=setTimeout(()=>{F=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,t,o){j[e][t]=o}};if(h(a,j),t()>0){let t=function(){l=null,n.classList.remove("hide-scrollbar")},o=function(){if(null===l){if(n.scrollHeight>g.screen.height)return;n.classList.add("hide-scrollbar")}else clearTimeout(l);l=setTimeout(t,300)},i=function(e){null!==l&&"remove"===e&&(clearTimeout(l),t()),window[`${e}EventListener`]("resize",o)},l=null;const n=document.body;d(()=>!0!==e.container?"add":"remove",i),!0!==e.container&&i("add"),v(()=>{i("remove")})}return()=>{const t=i(p.default,[f(l,{onScroll:C}),f(n,{onResize:P})]),o=f("div",{class:x.value,style:S.value,ref:!0===e.container?void 0:y,tabindex:-1},t);return!0===e.container?f("div",{class:"q-layout-container overflow-hidden",ref:y},[f(n,{onResize:R}),f("div",{class:"absolute-full",style:H.value},[f("div",{class:"scroll",style:$.value},[o])])]):o}}});export{p as Q};
