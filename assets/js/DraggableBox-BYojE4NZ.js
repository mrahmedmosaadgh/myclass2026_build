import{o as e}from"./app-DOc39CFu.js";import{f as t,a as i,e as n,M as a,J as o,V as l,a0 as u,S as s}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const v=e({__name:"DraggableBox",props:{text:String,initialX:Number,initialY:Number,originalZone:Object},setup(e,{expose:v}){const r=e,m=t(!1),c=t(r.initialX),p=t(r.initialY),x=t({x:0,y:0}),d=t({x:0,y:0}),g=t([]),y=e=>{const t=e.target.getBoundingClientRect();x.value={x:e.clientX-t.left,y:e.clientY-t.top},g.value=[],m.value=!0,document.addEventListener("mousemove",f,{passive:!0}),document.addEventListener("mouseup",b,{passive:!0})},f=e=>{d.value={x:e.clientX,y:e.clientY},g.value.push({x:e.clientX,y:e.clientY,time:Date.now()}),g.value.length>5&&g.value.shift()},b=e=>{if(document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",b),m.value=!1,c.value=d.value.x-x.value.x,p.value=d.value.y-x.value.y,g.value.length>1){const e=g.value[0],t=g.value.at(-1),i=t.time-e.time||1,n=(t.x-e.x)/i,a=(t.y-e.y)/i;c.value+=10*n,p.value+=10*a}if(r.originalZone){const t=r.originalZone.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom&&X()}},X=()=>{c.value=r.initialX,p.value=r.initialY},Y=i(()=>({position:"fixed",top:d.value.y-x.value.y+"px",left:d.value.x-x.value.x+"px",zIndex:9999,pointerEvents:"none"}));return n(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",b)}),v({isPicked:m,text:r.text,drop:b,reset:X,returnToOriginalZone:X}),(t,i)=>m.value?(o(),a("div",{key:1,class:"box dragging",style:s(Y.value)},l(e.text),5)):(o(),a("div",{key:0,class:"box",style:s({top:`${p.value}px`,left:`${c.value}px`}),onMousedown:y,onDblclick:u(X,["stop"])},l(e.text),37))}},[["__scopeId","data-v-005350cd"]]);export{v as default};
