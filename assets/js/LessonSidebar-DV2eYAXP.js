import{o as e,p as i,Q as t,d as a,B as d}from"./app-C-NJhdpe.js";import{f as s,L as n,I as l,M as c,b as r,H as o,O as u,J as v,V as p,F as S,Q as m,S as f,U as _,A as x,x as y,X as b,$ as g}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const h={class:"slides-sidebar"},k={class:"sidebar-header"},w={class:"slides-container"},C=["onClick"],z={class:"section-header-content"},j={class:"section-info"},A={class:"section-title"},I={class:"section-count"},q={class:"section-slides"},D=["onClick"],E={class:"slide-number"},O={class:"thumbnail-box"},B={class:"thumbnail-content"},Q={class:"slide-type-label"},$={key:0,class:"delete-overlay"},F=["onClick"],L=e({__name:"LessonSidebar",props:{sections:Array,currentSection:String,slides:Array,showDrawer:Boolean,canEdit:Boolean,activeSlide:Object},emits:["update:currentSection","update:currentSection_data","addSlide","deleteSlide","selectSlide"],setup(e,{emit:L}){const V=e,H=L,J=s(new Set);V.currentSection&&J.value.add(V.currentSection);const M=e=>V.slides.filter(i=>i.section===e),N=e=>J.value.has(e),P=e=>!!V.activeSlide&&(V.activeSlide.id&&e.id?V.activeSlide.id===e.id:V.activeSlide===e),T=e=>V.slides.indexOf(e),U=e=>{switch(e){case"text":return"description";case"image":return"image";case"video":return"videocam";case"audio":return"audiotrack";case"pdf":return"picture_as_pdf";case"question":return"quiz";case"drawing":return"brush";default:return"article"}};return(s,L)=>(l(),n("div",h,[c("div",k,[L[2]||(L[2]=c("div",{class:"text-subtitle2 text-weight-bold text-grey-8"},"Slides",-1)),e.canEdit?(l(),o(t,{key:0,flat:"",dense:"",round:"",size:"sm",icon:"add",color:"primary",onClick:L[0]||(L[0]=e=>s.$emit("addSlide"))},{default:v(()=>[r(i,null,{default:v(()=>L[1]||(L[1]=[p("Add New Slide")])),_:1})]),_:1})):u("",!0)]),r(d,{class:"slides-scroll-area"},{default:v(()=>[c("div",w,[(l(!0),n(S,null,m(e.sections,d=>{return l(),n("div",{key:d.id,class:"section-group"},[c("div",{class:f(["section-header",{"active-section":e.currentSection===d.id}]),onClick:e=>(e=>{J.value.has(e.id)?J.value.delete(e.id):J.value.add(e.id),H("update:currentSection",e.id),H("update:currentSection_data",e)})(d)},[c("div",z,[r(a,{name:d.icon||d.qIcon||"folder",size:"18px",color:e.currentSection===d.id?"white":"grey-7"},null,8,["name","color"]),c("div",j,[c("div",A,_(d.title),1),c("div",I,_((o=d.id,M(o).length))+" slides",1)])]),r(a,{name:N(d.id)?"expand_less":"expand_more",size:"20px",color:e.currentSection===d.id?"white":"grey-6"},null,8,["name","color"])],10,C),r(x,{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:v(()=>[y(c("div",q,[(l(!0),n(S,null,m(M(d.id),(d,o)=>{return l(),n("div",{key:d.id||o,class:f(["slide-thumbnail",{active:P(d)}]),onClick:e=>(e=>{if(e.section&&e.section!==V.currentSection){const i=V.sections.find(i=>i.id===e.section);i&&(H("update:currentSection",i.id),H("update:currentSection_data",i),J.value.add(i.id))}H("selectSlide",e)})(d)},[c("div",E,_(T(d)+1),1),c("div",O,[c("div",B,[r(a,{name:U(d.slide_type),size:"28px",color:P(d)?"primary":"grey-6"},null,8,["name","color"]),c("div",Q,_((S=d.slide_type,{text:"Text",image:"Image",video:"Video",audio:"Audio",pdf:"PDF",question:"Quiz",drawing:"Drawing"}[S]||"Slide")),1)])]),e.canEdit?(l(),n("div",$,[r(t,{round:"",dense:"",size:"xs",icon:"delete",color:"negative",onClick:g(e=>s.$emit("deleteSlide",d),["stop"])},{default:v(()=>[r(i,null,{default:v(()=>L[3]||(L[3]=[p("Delete Slide")])),_:1})]),_:2},1032,["onClick"])])):u("",!0)],10,D);var S}),128)),e.canEdit?(l(),n("div",{key:0,class:"add-slide-button",onClick:e=>(e=>{H("update:currentSection",e.id),H("update:currentSection_data",e),J.value.add(e.id),H("addSlide")})(d)},[r(a,{name:"add_circle",size:"20px",color:"positive"}),c("span",null,"Add slide to "+_(d.title),1)],8,F)):u("",!0)],512),[[b,N(d.id)]])]),_:2},1024)]);var o}),128))])]),_:1})]))}},[["__scopeId","data-v-6047a0bf"]]);export{L as default};
