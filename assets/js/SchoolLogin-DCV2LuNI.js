import{a6 as a,f as s,a as e,o,L as r,I as l,b as n,M as i,O as t,J as c,y as d,a3 as u,R as p,F as m,Q as g,S as b,U as f,$ as v,x as y,V as h,ab as _,ac as w,ad as k}from"./vendor-CUZ9QTQV.js";import{o as x}from"./app-C-NJhdpe.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const P={class:"school-login-page"},S=["href"],j={key:0,class:"particles"},L={class:"login-container"},U={key:0,class:"school-logo"},$=["src","alt"],D={class:"school-name"},E={key:1,class:"school-name-ar"},I={class:"form-group"},V={key:0,class:"error-message"},C={class:"form-group"},F={class:"password-input-wrapper"},R=["type"],q={key:0,class:"error-message"},M={class:"form-group-inline"},O={class:"checkbox-label"},J=["disabled"],Q={key:0},T={key:1,class:"loading-spinner"},W=x({__name:"SchoolLogin",props:{schoolSlug:String,branding:Object},setup(x){const W=x,z=new URLSearchParams(window.location.search).get("email")||"",A=a({email:z,password:"",remember:!1}),B=s(!1);s(!1);const G=s(null),H=e(()=>{var a;return(null==(a=W.branding.colors)?void 0:a.primary)||"#6366f1"}),K=e(()=>{var a;return(null==(a=W.branding.colors)?void 0:a.secondary)||"#8b5cf6"}),N=e(()=>{var a;return(null==(a=W.branding.colors)?void 0:a.accent)||"#ec4899"}),X=e(()=>{var a;return(null==(a=W.branding.login_page_settings)?void 0:a.card_style)||"glassmorphism"}),Y=e(()=>{var a,s;return null==(s=null==(a=W.branding.login_page_settings)?void 0:a.show_particles)||s});o(()=>{document.documentElement.style.setProperty("--primary-color",H.value),document.documentElement.style.setProperty("--secondary-color",K.value),document.documentElement.style.setProperty("--accent-color",N.value),z&&G.value&&setTimeout(()=>{G.value.focus()},100)});const Z=()=>{A.post(route("school.login.authenticate",W.schoolSlug),{onFinish:()=>A.reset("password")})};return(a,s)=>(l(),r("div",P,[n(d(u),{title:`Login - ${x.branding.school_name_en}`},{default:c(()=>[i("link",{rel:"icon",type:"image/x-icon",href:x.branding.logo_url||"/favicon.ico"},null,8,S)]),_:1},8,["title"]),i("div",{class:"background-image",style:p({backgroundImage:x.branding.background_url?`url(${x.branding.background_url})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})},null,4),i("div",{class:"gradient-overlay",style:p({background:`linear-gradient(135deg, ${H.value}DD 0%, ${K.value}DD 100%)`})},null,4),Y.value?(l(),r("div",j,[(l(),r(m,null,g(50,a=>i("div",{key:a,class:"particle"})),64))])):t("",!0),i("div",L,[i("div",{class:b(["login-card",`card-${X.value}`])},[x.branding.logo_url?(l(),r("div",U,[i("img",{src:x.branding.logo_url,alt:x.branding.school_name_en},null,8,$)])):t("",!0),i("h1",D,f(x.branding.school_name_en),1),x.branding.school_name_ar?(l(),r("p",E,f(x.branding.school_name_ar),1)):t("",!0),s[10]||(s[10]=i("p",{class:"welcome-text"}," Welcome back! Please login to your account. ",-1)),i("form",{onSubmit:v(Z,["prevent"]),class:"login-form"},[i("div",I,[s[4]||(s[4]=i("label",{for:"email",class:"form-label"},[i("i",{class:"fas fa-user"}),h(" Email or Username ")],-1)),y(i("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=a=>d(A).email=a),type:"text",class:b(["form-input",{"input-error":d(A).errors.email}]),required:"",autofocus:"",autocomplete:"username"},null,2),[[_,d(A).email]]),d(A).errors.email?(l(),r("div",V,f(d(A).errors.email),1)):t("",!0)]),i("div",C,[s[5]||(s[5]=i("label",{for:"password",class:"form-label"},[i("i",{class:"fas fa-lock"}),h(" Password ")],-1)),i("div",F,[y(i("input",{id:"password",ref_key:"passwordInput",ref:G,"onUpdate:modelValue":s[1]||(s[1]=a=>d(A).password=a),type:B.value?"text":"password",class:b(["form-input",{"input-error":d(A).errors.password}]),required:"",autocomplete:"current-password"},null,10,R),[[w,d(A).password]]),i("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=a=>B.value=!B.value)},[i("i",{class:b(B.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),d(A).errors.password?(l(),r("div",q,f(d(A).errors.password),1)):t("",!0)]),i("div",M,[i("label",O,[y(i("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>d(A).remember=a),type:"checkbox",class:"checkbox-input"},null,512),[[k,d(A).remember]]),s[6]||(s[6]=i("span",{class:"checkbox-text"},"Remember me",-1))]),s[7]||(s[7]=i("a",{href:"#",class:"forgot-password"}," Forgot password? ",-1))]),i("button",{type:"submit",class:"submit-button",disabled:d(A).processing,style:p({backgroundColor:H.value})},[d(A).processing?(l(),r("span",T,s[9]||(s[9]=[i("i",{class:"fas fa-spinner fa-spin"},null,-1),h(" Logging in... ")]))):(l(),r("span",Q,s[8]||(s[8]=[i("i",{class:"fas fa-sign-in-alt"},null,-1),h(" Login ")])))],12,J)],32),s[11]||(s[11]=i("div",{class:"card-footer"},[i("p",{class:"footer-text"}," Powered by MyClass2026 ")],-1))],2)])]))}},[["__scopeId","data-v-fd4f2a95"]]);export{W as default};
