import{d as e}from"./vuedraggable.umd-DshT_Vng.js";import{M as l}from"./Modal-B4dYYb0V.js";import{f as a,o as s,k as o,N as t,J as n,b as r,K as d,R as i,z as u,y as c,ac as p,aQ as m,ae as v,U as h}from"./vendor-BWKGNkNB.js";import"./index-SlSKjXnq.js";import"./app-NYt77MEb.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const g={class:"p-2"},x={class:"p-6"},y={class:"flex items-center space-x-4 p-2 bg-gray-50 rounded border border-gray-200"},f={class:"flex-grow"},b=["onUpdate:modelValue","placeholder"],k={class:"flex items-center space-x-4"},w={class:"flex items-center space-x-2"},C=["value","onChange"],j={class:"flex items-center space-x-2"},M=["onUpdate:modelValue"],_=["onClick","title"],U={__name:"ColumnManager",props:{show:{type:Boolean,default:!1},columns:{type:Array,required:!0}},emits:["update:columns","close"],setup(U,{emit:V}){const q=U,S=V,z=a([...q.columns]),B=a("");s(()=>{const e=z.value.find(e=>!0===e.is_id);e&&(B.value=e.key)}),o(()=>q.columns,e=>{if(JSON.stringify(e)!==JSON.stringify(z.value)){z.value=[...e];const l=z.value.find(e=>!0===e.is_id);l&&(B.value=l.key)}},{deep:!0});const J=()=>{S("update:columns",[...z.value])},N=()=>{z.value=[...q.columns];const e=z.value.find(e=>!0===e.is_id);e&&(B.value=e.key),J()},R=()=>{console.log("Updated columns:",z.value),J(),S("close")};return(a,s)=>(n(),t("div",g,[r(l,{show:U.show,onClose:s[2]||(s[2]=e=>a.$emit("close"))},{default:d(()=>[i("div",x,[s[7]||(s[7]=i("h3",{class:"text-lg font-semibold mb-4"},"Manage Import Columns",-1)),r(u(e),{modelValue:z.value,"onUpdate:modelValue":s[1]||(s[1]=e=>z.value=e),class:"space-y-2",handle:".handle","item-key":"key",onEnd:J},{item:d(({element:e})=>[i("div",y,[s[6]||(s[6]=i("div",{class:"handle cursor-move px-2"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})])],-1)),i("div",f,[c(i("input",{type:"text","onUpdate:modelValue":l=>e.label=l,class:"w-full px-2 py-1 border rounded",placeholder:e.key,onChange:J},null,40,b),[[p,e.label]])]),i("div",k,[i("label",w,[c(i("input",{type:"radio",value:e.key,"onUpdate:modelValue":s[0]||(s[0]=e=>B.value=e),onChange:l=>{return a=e.key,z.value.forEach(e=>{e.is_id=e.key===a}),void J();var a},name:"id_field"},null,40,C),[[m,B.value]]),s[3]||(s[3]=i("span",{class:"text-sm"},"ID Field",-1))]),i("label",j,[c(i("input",{type:"checkbox","onUpdate:modelValue":l=>e.required=l,onChange:J},null,40,M),[[v,e.required]]),s[4]||(s[4]=i("span",{class:"text-sm"},"Required",-1))]),i("button",{onClick:l=>{return(a=e).hidden=!a.hidden,void J();var a},class:"p-1 rounded hover:bg-gray-200",title:e.hidden?"Show column":"Hide column"},[(n(),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:h(["h-5 w-5",e.hidden?"text-gray-400":"text-gray-600"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s[5]||(s[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)]),2))],8,_)])])]),_:1},8,["modelValue"]),i("div",{class:"mt-4 flex justify-end space-x-2"},[i("button",{onClick:N,class:"px-4 py-2 text-sm text-gray-600 border rounded hover:bg-gray-50"}," Reset "),i("button",{onClick:R,class:"px-4 py-2 text-sm text-white bg-blue-600 rounded hover:bg-blue-700"}," Save Changes ")])])]),_:1},8,["show"])]))}};export{U as default};
