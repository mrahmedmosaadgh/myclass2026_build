import{_ as e}from"./TextInput-QkZjzCho.js";import{r as o}from"./app-DlLesFGi.js";import{f as t,o as r,a as s,k as a,N as l,J as n,R as i,V as d,F as c,Q as u,U as p,O as f,b as g,y as m,ac as v,W as h}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const b={class:"space-y-4"},k={class:"flex space-x-4 mb-6"},x={class:"bg-gray-100 rounded-lg p-3 flex-1 text-center shadow-sm"},y={class:"text-2xl font-bold text-gray-800"},w={class:"bg-green-100 rounded-lg p-3 flex-1 text-center shadow-sm"},C={class:"text-2xl font-bold text-green-600"},V={class:"p-4"},j={class:"flex items-start space-x-4"},O={class:"flex-shrink-0 w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-semibold shadow-sm"},F={class:"flex-grow space-y-3"},J={class:"flex items-center space-x-4"},M={class:"flex-grow"},N={class:"flex items-center space-x-2"},S=["onClick","title"],A=["onClick","title"],U=["onClick"],_={key:0,class:"mt-3 animate-fade-in"},B=["onUpdate:modelValue","placeholder"],H=o({__name:"QuestionOptions",props:{modelValue:{type:[Array,String],default:()=>[]}},emits:["update:modelValue"],setup(o,{emit:H}){const E=o,I=H;function L(e){if("string"==typeof e)try{return JSON.parse(e)}catch(o){return[]}return Array.isArray(e)?e:[]}const Q=t([]);r(()=>{Q.value=L(E.modelValue).map(e=>({...e,showFeedback:!!e.feedback}))});const T=s(()=>Q.value.filter(e=>e.isCorrect).length);function $(){Q.value.push({option:"",isCorrect:!1,feedback:"",showFeedback:!1})}return a(()=>E.modelValue,e=>{const o=L(e);JSON.stringify(o)!==JSON.stringify(Q.value)&&(Q.value=o.map(e=>({...e,showFeedback:!!e.feedback})))},{deep:!0}),a(Q,e=>{const o=e.map(({showFeedback:e,...o})=>o),t="string"==typeof E.modelValue?JSON.parse(E.modelValue):E.modelValue;JSON.stringify(o)!==JSON.stringify(t)&&("string"==typeof E.modelValue?I("update:modelValue",JSON.stringify(o)):I("update:modelValue",o))},{deep:!0}),(o,t)=>(n(),l("div",b,[i("div",k,[i("div",x,[t[0]||(t[0]=i("div",{class:"text-sm text-gray-600"},"Total Options",-1)),i("div",y,d(Q.value.length),1)]),i("div",w,[t[1]||(t[1]=i("div",{class:"text-sm text-gray-600"},"Correct Answers",-1)),i("div",C,d(T.value),1)])]),(n(!0),l(c,null,u(Q.value,(o,r)=>(n(),l("div",{key:r,class:p(["group relative transition-all duration-200 hover:shadow-lg bg-white rounded-lg border",o.isCorrect?"border-green-200":"border-gray-200"])},[i("div",V,[i("div",j,[i("div",O,d(r+1),1),i("div",F,[i("div",J,[i("div",M,[g(e,{modelValue:o.option,"onUpdate:modelValue":e=>o.option=e,class:"w-full",placeholder:`Enter option ${r+1} text`},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),i("div",N,[i("button",{onClick:e=>function(e){Q.value[e].showFeedback=!Q.value[e].showFeedback}(r),type:"button",class:p(["p-2 rounded-full hover:bg-gray-100 transition-colors",o.showFeedback?"text-indigo-600 bg-indigo-50":"text-gray-400"]),title:o.showFeedback?"Hide feedback":"Add feedback"},t[2]||(t[2]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1)]),10,S),i("button",{onClick:e=>function(e){Q.value[e].isCorrect=!Q.value[e].isCorrect}(r),type:"button",class:p(["p-2 rounded-full transition-colors",o.isCorrect?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-400"]),title:o.isCorrect?"Mark as incorrect":"Mark as correct"},t[3]||(t[3]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)]),10,A),i("button",{onClick:e=>function(e){Q.value.splice(e,1)}(r),class:"p-2 rounded-full hover:bg-red-100 text-red-400 hover:text-red-600 transition-colors",type:"button",title:"Delete option"},t[4]||(t[4]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,U)])]),o.showFeedback?(n(),l("div",_,[m(i("textarea",{"onUpdate:modelValue":e=>o.feedback=e,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-sm",rows:"2",placeholder:`Enter feedback for option ${r+1} (optional)`},null,8,B),[[v,o.feedback]])])):f("",!0)])])])],2))),128)),i("button",{onClick:$,type:"button",class:"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:text-indigo-600 hover:border-indigo-300 transition-colors duration-200 hover:bg-indigo-50/50"},t[5]||(t[5]=[i("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),h(" Add Option ")]))]))}},[["__scopeId","data-v-5d77d200"]]);export{H as default};
