import{r as e,u as t,f as l,b as s,c as a,d as o,h as r,i,j as n,k as d,Q as c,l as u}from"./app-4gpSDtVV.js";import{Q as m}from"./QForm-B3HUaoek.js";import{r as v,f,I as p,J as b,K as _,R as g,b as y,V as x,W as h,$ as q}from"./vendor-BWKGNkNB.js";import{_ as S}from"./AppLayout-B3PyevP7.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const j={class:"q-pa-md"},w={class:"row items-center justify-between"},k={class:"text-subtitle2"},V={class:"row q-col-gutter-md"},C={class:"col-12 col-md-8"},U={class:"q-mb-md"},E={class:"q-mb-md"},L={class:"col-12 col-md-4"},O={class:"level-context"},A={class:"text-h6 text-primary"},F={class:"text-caption text-grey-7 q-mt-xs"},I={class:"section-preview"},P={class:"text-subtitle1 text-primary"},Q={class:"text-caption text-grey-7"},$={class:"row justify-end q-gutter-sm"},B=e({__name:"Edit",props:{section:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(e){const B=e,T=t(),J=v({title:B.section.title,order:B.section.order}),K=f(!1),M=()=>{K.value=!0,q.put(route("course-management.sections.update",B.section.id),J,{onSuccess:()=>{T.notify({type:"positive",message:"Section updated successfully!",icon:"check_circle"})},onError:e=>{T.notify({type:"negative",message:"Please check the form for errors.",icon:"error"})},onFinish:()=>{K.value=!1}})};return(t,v)=>(b(),p(S,{title:"Edit Section"},{default:_(()=>[g("div",j,[y(o,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>{var l;return[g("div",w,[g("div",null,[v[4]||(v[4]=g("div",{class:"text-h6"},"Edit Section",-1)),g("div",k,'Update section information for "'+x(null==(l=e.section.level)?void 0:l.title)+'"',1)]),y(s,{flat:"",color:"grey-7",icon:"arrow_back",label:"Back to Section",onClick:v[0]||(v[0]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))})])]}),_:1}),y(a),y(m,{onSubmit:M,class:"q-pa-md"},{default:_(()=>[g("div",V,[g("div",C,[y(o,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>[v[5]||(v[5]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Information",-1)),g("div",U,[y(r,{modelValue:J.title,"onUpdate:modelValue":v[1]||(v[1]=e=>J.title=e),label:"Section Title *",outlined:"",error:!!e.errors.title,"error-message":e.errors.title,placeholder:"e.g., Adding Fractions, Basic Shapes"},null,8,["modelValue","error","error-message"])]),g("div",E,[y(r,{modelValue:J.order,"onUpdate:modelValue":v[2]||(v[2]=e=>J.order=e),modelModifiers:{number:!0},label:"Order",outlined:"",type:"number",min:"0",error:!!e.errors.order,"error-message":e.errors.order,hint:"Position of this section in the level"},null,8,["modelValue","error","error-message"])])]),_:1})]),_:1})]),g("div",L,[y(o,{flat:"",bordered:""},{default:_(()=>[y(l,null,{default:_(()=>{var t,l,s;return[v[6]||(v[6]=g("div",{class:"text-subtitle1 q-mb-md"},"Level Context",-1)),g("div",O,[g("div",A,x(null==(t=e.section.level)?void 0:t.title),1),g("div",F,' Level in "'+x(null==(s=null==(l=e.section.level)?void 0:l.course)?void 0:s.name)+'" ',1)])]}),_:1})]),_:1}),y(o,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[y(l,null,{default:_(()=>[v[8]||(v[8]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Stats",-1)),y(i,{dense:""},{default:_(()=>[y(n,null,{default:_(()=>[y(d,{avatar:""},{default:_(()=>[y(c,{name:"school",color:"orange"})]),_:1}),y(d,null,{default:_(()=>[y(u,null,{default:_(()=>{var t;return[h(x((null==(t=e.section.lessons)?void 0:t.length)||0)+" Lessons",1)]}),_:1})]),_:1})]),_:1}),y(n,null,{default:_(()=>[y(d,{avatar:""},{default:_(()=>[y(c,{name:"person",color:"purple"})]),_:1}),y(d,null,{default:_(()=>[y(u,null,{default:_(()=>{var t;return[h(x((null==(t=e.section.creator)?void 0:t.name)||"Unknown"),1)]}),_:1}),y(u,{caption:""},{default:_(()=>v[7]||(v[7]=[h("Creator")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),y(o,{flat:"",bordered:"",class:"q-mt-md"},{default:_(()=>[y(l,null,{default:_(()=>[v[9]||(v[9]=g("div",{class:"text-subtitle1 q-mb-md"},"Section Preview",-1)),g("div",I,[g("div",P,x(J.title||"Section Title"),1),g("div",Q," Order: "+x(J.order||"Auto"),1)])]),_:1})]),_:1})])]),y(a,{class:"q-my-md"}),g("div",$,[y(s,{flat:"",label:"Cancel",color:"grey-7",onClick:v[3]||(v[3]=l=>t.$inertia.visit(t.route("course-management.sections.show",e.section.id)))}),y(s,{type:"submit",label:"Update Section",color:"primary",icon:"save",loading:K.value},null,8,["loading"])])]),_:1})]),_:1})])]),_:1}))}},[["__scopeId","data-v-5aa8c239"]]);export{B as default};
