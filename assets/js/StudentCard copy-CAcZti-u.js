import{Q as e}from"./QImg-Clm5LzUL.js";import{o as t,Q as a,p as s,c as l,l as r,m as o}from"./app-Cs5CKgHw.js";import{N as i,J as d,b as n,O as u,K as m,B as c,Q as v,U as f,a0 as p,W as b,V as x}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const h={class:"p-0 relative w-32 h-40 mt-12"},g={class:"relative w-full justify-center"},y={class:"relative"},w={key:0,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-full transition-all duration-300"},N={key:0,class:"text-sm -mt-4 text-gray-700 font-semibold"},_={key:1,class:"text-xs text-gray-500"},j={class:"p-0 opacity-5 hover:opacity-100 overflow-hidden hover:overflow-visible text-xl"},B={class:"rounded-xl px-2 w-full text-blue-600 text-xl bg-yellow-300"},k={class:"p-0 text-blue-600"},S={class:"flex flex-col items-center text-sm leading-tight"},C={class:"text-lg font-bold text-primary"},$={key:0,class:"text-green-600"},I={key:0,class:"text-red-500"},A={class:"absolute -top-20 -left-4 text-white rounded-full px-2 text-xl bg-blue-700 overflow-visible"},E={class:"text-xs absolute -top-4 -left-4 text-blue-600"},O=t({__name:"StudentCard copy",props:{student:{type:Object,required:!0},selectedId:{type:[String,Number],default:null},cardClass:{type:[String,Object,Array],default:""},studentSummary:{type:Object,default:()=>({positive:0,negative:0,total:0})},avatarEditEnabled:{type:Boolean,default:!1},showAvatarButtons:{type:Boolean,default:!1},disableBehavior:{type:Boolean,default:!1}},emits:["select","open-camera","open-behavior"],setup(t,{emit:O}){function Q(e){if(!e||"string"!=typeof e)return{firstName:"",secondName:"",lastName:""};const t=e.trim().split(/\s+/).filter(e=>e.length>0),a=t[0]||"",s=t.length>1?t[t.length-1]:"";return{firstName:a,secondName:t.length>2?t.slice(1,-1).join(" "):"",lastName:s}}function U(e){try{if(e){const t=e.split(" ").map(e=>e[0]||"").slice(0,2).join("").toUpperCase(),a=`<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 96 96"><rect width="96" height="96" fill="${"#e2e8f0"}" rx="48" ry="48"/><text x="48" y="48" dy="8" text-anchor="middle" font-family="Arial" font-size="32" font-weight="bold" fill="${"#475569"}">${t}</text></svg>`;return`data:image/svg+xml,${encodeURIComponent(a)}`}}catch(t){console.warn("Failed to generate avatar SVG:",t)}return"/images/avatars/default-avatar.svg"}return(O,z)=>(d(),i("div",h,[n(o,{class:f([[t.cardClass,{"selected-card":t.selectedId===t.student.id}],"absolute top-10 left-0 rounded-2xl shadow-lg transform hover:scale-105 transition-all duration-300 bg-gradient-to-br from-white via-blue-50 to-blue-100 border border-blue-100 cursor-pointer hover:z-50 hover:shadow-2xl hover:w-96"]),onClick:z[2]||(z[2]=e=>t.disableBehavior?null:O.$emit("select",t.student.id)),flat:""},{default:m(()=>[u("div",g,[n(e,{src:t.student.avatar||U(t.student.name),ratio:"1",class:"w-32 h-32 absolute rounded-full -top-24 -left-5"},null,8,["src"]),u("div",y,[n(c,{name:"fade"},{default:m(()=>[t.avatarEditEnabled?(d(),i("div",w,[n(a,{round:"",dense:"",color:"white","text-color":"dark",icon:"photo_camera",onClick:z[0]||(z[0]=p(e=>O.$emit("open-camera",t.student),["stop","prevent"])),class:f(["shadow-lg",t.showAvatarButtons?"":"hidden"])},{default:m(()=>[n(s,{class:"bg-primary text-white text-sm rounded-lg px-2 py-1"},{default:m(()=>z[3]||(z[3]=[b("ðŸ“· Take a photo!")])),_:1})]),_:1},8,["class"])])):v("",!0)]),_:1})])]),n(l,{class:"text-left overflow-hidden"},{default:m(()=>[Q(t.student.name).firstName?(d(),i("div",N)):v("",!0),Q(t.student.name).firstName?(d(),i("div",_,[u("div",j,[u("div",B,x(Q(t.student.name).firstName),1),b(" "+x(Q(t.student.name).secondName)+" ",1),u("div",k,x(Q(t.student.name).lastName),1)])])):v("",!0)]),_:1}),n(r,{class:"flex justify-between items-center px-5 py-3 bg-gradient-to-r from-blue-100 to-blue-50 rounded-b-2xl"},{default:m(()=>{var e;return[n(a,{round:"",dense:"",color:t.disableBehavior?"grey-5":"primary",icon:"star",glossy:"",onClick:z[1]||(z[1]=p(e=>t.disableBehavior?null:O.$emit("open-behavior",t.student.id,t.student.name),["stop","prevent"])),disable:t.disableBehavior,class:"shadow-sm"},{default:m(()=>[n(s,{class:f([t.disableBehavior?"bg-grey-8 text-white":"bg-primary text-white","text-sm rounded-lg px-2 py-1"])},{default:m(()=>[b(" ðŸŒŸ "+x(t.disableBehavior?"Not available today":"Give a star!"),1)]),_:1},8,["class"])]),_:1},8,["color","disable"]),u("div",S,[u("div",C,"ðŸŽ¯ "+x((null==(e=t.studentSummary)?void 0:e.total)||0),1),n(c,{name:"fade"},{default:m(()=>{var e,a;return[(null==(e=t.studentSummary)?void 0:e.positive)>0?(d(),i("div",$,"ðŸŸ¢ +"+x(null==(a=t.studentSummary)?void 0:a.positive),1)):v("",!0)]}),_:1}),n(c,{name:"fade"},{default:m(()=>{var e,a;return[(null==(e=t.studentSummary)?void 0:e.negative)<0?(d(),i("div",I,"ðŸ”´ "+x(null==(a=t.studentSummary)?void 0:a.negative),1)):v("",!0)]}),_:1})])]}),_:1})]),_:1},8,["class"]),u("div",A,[b(x(Q(t.student.name).firstName)+" ",1),u("div",E,x(Q(t.student.name).lastName),1)])]))}},[["__scopeId","data-v-9092c4e6"]]);export{O as default};
