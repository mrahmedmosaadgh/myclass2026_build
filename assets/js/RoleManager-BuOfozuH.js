import{c as e,k as l,l as a,Q as s,m as o,b as t}from"./app-BwCflFkV.js";import{f as r,k as u,H as n,I as i,J as m,b as d,M as p,U as v,L as c,Q as f,F as g}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const h={class:"text-h6"},b={class:"q-gutter-sm"},_={__name:"RoleManager",props:{show:Boolean,user:Object,allRoles:Array},emits:["close","save"],setup(_,{emit:j}){const y=_,k=j,w=r([]),x=r(!1);u(()=>y.user,e=>{w.value=e?e.roles.map(e=>e.name):[]});const R=()=>{x.value=!0,k("save",{userId:y.user.id,roles:w.value}),setTimeout(()=>x.value=!1,2e3)};return(r,u)=>(i(),n(t,{"model-value":_.show,"onUpdate:modelValue":u[2]||(u[2]=e=>r.$emit("close")),persistent:""},{default:m(()=>[d(o,{style:{width:"500px","max-width":"80vw"}},{default:m(()=>[d(e,null,{default:m(()=>{var e;return[p("div",h,"Manage Roles for "+v(null==(e=_.user)?void 0:e.name),1)]}),_:1}),d(e,{class:"q-pt-none"},{default:m(()=>[u[3]||(u[3]=p("p",null,"Select the roles to assign to this user.",-1)),p("div",b,[(i(!0),c(g,null,f(_.allRoles,e=>(i(),n(l,{key:e,modelValue:w.value,"onUpdate:modelValue":u[0]||(u[0]=e=>w.value=e),val:e,label:e,color:"primary"},null,8,["modelValue","val","label"]))),128))])]),_:1}),d(a,{align:"right"},{default:m(()=>[d(s,{flat:"",label:"Cancel",color:"primary",onClick:u[1]||(u[1]=e=>r.$emit("close"))}),d(s,{label:"Save",color:"primary",onClick:R,loading:x.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}};export{_ as default};
