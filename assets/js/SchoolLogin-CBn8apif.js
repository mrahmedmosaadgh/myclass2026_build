import{a7 as a,f as e,a as s,o,N as l,J as r,b as n,O as t,Q as i,K as c,z as u,a4 as d,S as m,F as g,R as p,U as b,V as f,a0 as v,y,W as h,ac as _,ad as w,ae as k}from"./vendor-nQjeLEvd.js";import{o as S}from"./app-ggGwxJON.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const x={class:"school-login-page"},I=["href"],P={key:0,class:"particles"},j={class:"login-container"},U={key:0,class:"school-logo"},C=["src","alt"],D={class:"school-name"},E={key:1,class:"school-name-ar"},L={class:"form-group"},V={key:0,class:"error-message"},$={class:"form-group"},F={class:"password-input-wrapper"},R=["type"],q={key:0,class:"error-message"},O={class:"form-group-inline"},W={class:"checkbox-label"},z=["disabled"],J={key:0},K={key:1,class:"loading-spinner"},M=S({__name:"SchoolLogin",props:{schoolSlug:String,branding:Object},setup(S){const M=S,N="myclass_user_email",Q="myclass_school_slug",T=new URLSearchParams(window.location.search).get("email")||"",A=a({email:T||localStorage.getItem(N)||"",password:"",remember:!1}),B=e(!1);e(!1);const G=e(null),H=s(()=>{var a;return(null==(a=M.branding.colors)?void 0:a.primary)||"#6366f1"}),X=s(()=>{var a;return(null==(a=M.branding.colors)?void 0:a.secondary)||"#8b5cf6"}),Y=s(()=>{var a;return(null==(a=M.branding.colors)?void 0:a.accent)||"#ec4899"}),Z=s(()=>{var a;return(null==(a=M.branding.login_page_settings)?void 0:a.card_style)||"glassmorphism"}),aa=s(()=>{var a,e;return null==(e=null==(a=M.branding.login_page_settings)?void 0:a.show_particles)||e});o(()=>{document.documentElement.style.setProperty("--primary-color",H.value),document.documentElement.style.setProperty("--secondary-color",X.value),document.documentElement.style.setProperty("--accent-color",Y.value),localStorage.setItem(Q,M.schoolSlug),(T||A.email)&&G.value&&setTimeout(()=>{G.value.focus()},100)});const ea=()=>{A.remember?localStorage.setItem(N,A.email):localStorage.removeItem(N),A.post(route("school.login.authenticate",M.schoolSlug),{onFinish:()=>A.reset("password")})};function sa(){localStorage.removeItem(Q),window.location.href=route("login")}return(a,e)=>(r(),l("div",x,[n(u(d),{title:S.branding.school_name_en},{default:c(()=>[t("link",{rel:"icon",type:"image/x-icon",href:S.branding.logo_url||"/favicon.ico"},null,8,I)]),_:1},8,["title"]),t("div",{class:"background-image",style:m({backgroundImage:S.branding.background_url?`url(${S.branding.background_url})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})},null,4),t("div",{class:"gradient-overlay",style:m({background:`linear-gradient(135deg, ${H.value}DD 0%, ${X.value}DD 100%)`})},null,4),aa.value?(r(),l("div",P,[(r(),l(g,null,p(50,a=>t("div",{key:a,class:"particle"})),64))])):i("",!0),t("div",j,[t("div",{class:b(["login-card",`card-${Z.value}`])},[S.branding.logo_url?(r(),l("div",U,[t("img",{src:S.branding.logo_url,alt:S.branding.school_name_en},null,8,C)])):i("",!0),t("h1",D,f(S.branding.school_name_en),1),S.branding.school_name_ar?(r(),l("p",E,f(S.branding.school_name_ar),1)):i("",!0),e[12]||(e[12]=t("p",{class:"welcome-text"}," Welcome back! Please login to your account. ",-1)),t("form",{onSubmit:v(ea,["prevent"]),class:"login-form"},[t("div",L,[e[4]||(e[4]=t("label",{for:"email",class:"form-label"},[t("i",{class:"fas fa-user"}),h(" Email or Username ")],-1)),y(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>u(A).email=a),type:"text",class:b(["form-input",{"input-error":u(A).errors.email}]),required:"",autofocus:"",autocomplete:"username"},null,2),[[_,u(A).email]]),u(A).errors.email?(r(),l("div",V,f(u(A).errors.email),1)):i("",!0)]),t("div",$,[e[5]||(e[5]=t("label",{for:"password",class:"form-label"},[t("i",{class:"fas fa-lock"}),h(" Password ")],-1)),t("div",F,[y(t("input",{id:"password",ref_key:"passwordInput",ref:G,"onUpdate:modelValue":e[1]||(e[1]=a=>u(A).password=a),type:B.value?"text":"password",class:b(["form-input",{"input-error":u(A).errors.password}]),required:"",autocomplete:"current-password"},null,10,R),[[w,u(A).password]]),t("button",{type:"button",class:"password-toggle",onClick:e[2]||(e[2]=a=>B.value=!B.value)},[t("i",{class:b(B.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),u(A).errors.password?(r(),l("div",q,f(u(A).errors.password),1)):i("",!0)]),t("div",O,[t("label",W,[y(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>u(A).remember=a),type:"checkbox",class:"checkbox-input"},null,512),[[k,u(A).remember]]),e[6]||(e[6]=t("span",{class:"checkbox-text"},"Remember me",-1))]),e[7]||(e[7]=t("a",{href:"#",class:"forgot-password"}," Forgot password? ",-1))]),t("button",{type:"submit",class:"submit-button",disabled:u(A).processing,style:m({backgroundColor:H.value})},[u(A).processing?(r(),l("span",K,e[9]||(e[9]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),h(" Logging in... ")]))):(r(),l("span",J,e[8]||(e[8]=[t("i",{class:"fas fa-sign-in-alt"},null,-1),h(" Login ")])))],12,z)],32),t("div",{class:"card-footer"},[e[11]||(e[11]=t("p",{class:"footer-text"}," Powered by MyClass2026 ",-1)),t("button",{type:"button",onClick:sa,class:"change-school-link"},e[10]||(e[10]=[t("i",{class:"fas fa-exchange-alt"},null,-1),h(" Change School ")]))])],2)])]))}},[["__scopeId","data-v-56ed8637"]]);export{M as default};
