import{Q as e}from"./QSelect-DZElG_R-.js";import{f as l,k as o,N as a,J as s,W as i,b as t,V as d,_ as u}from"./vendor-BWKGNkNB.js";import"./app-CCwy2VVq.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";import"./rtl-Cr6c3OOr.js";const c={__name:"ScheduleCopies",props:{schoolId:{type:Number,required:!0}},emits:["selected","scheduleCopyId"],setup(c,{emit:p}){const n=c,r=p,m=l(null),v=l([]),h=l(!1),f=e=>{r("selected",e),r("scheduleCopyId",e)};return o(()=>n.schoolId,()=>{n.schoolId&&(h.value=!0,u.get(`/admin/school/${n.schoolId}/schedule-copies`).then(e=>{v.value=e.data.map(e=>({label:e.name,value:e.id,description:e.description,active:e.active}));const l=e.data.find(e=>e.active);l&&(m.value=l.id,r("selected",l.id),r("scheduleCopyId",l.id))}).catch(e=>{console.error("Error loading schedules:",e)}).finally(()=>{h.value=!1}))},{immediate:!0}),(l,o)=>(s(),a("div",null,[i(":"+d(c.schoolId)+" ",1),t(e,{modelValue:m.value,"onUpdate:modelValue":[o[0]||(o[0]=e=>m.value=e),f],options:v.value,label:"Select Schedule Copy",outlined:"","emit-value":"","map-options":"",loading:h.value,"option-value":"value","option-label":"label"},null,8,["modelValue","options","loading"])]))}};export{c as default};
