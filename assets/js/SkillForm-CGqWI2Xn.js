import{u as e,c as l,a,f as o,aP as t,Q as s,l as d,m as i}from"./app-Buylb2AA.js";import{Q as u}from"./QSelect-CcTxzM62.js";import{f as n,k as m,o as r,H as p,I as v,J as c,b as f,M as b,U as V,x as _,Z as k}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";import"./rtl-Cr6c3OOr.js";const j={class:"text-h6"},y={__name:"SkillForm",props:{model:Object},emits:["saved"],setup(y,{emit:S}){const g=y,h=S,U=e(),x=n({name:"",description:"",level_id:null,order:null}),q=n([]);function O(){const e=g.model?`/qdrat/skills/${g.model.id}`:"/qdrat/skills",l=g.model?"put":"post";k[l](e,x.value).then(()=>{U.notify({type:"positive",message:"Saved successfully"}),h("saved")}).catch(()=>{U.notify({type:"negative",message:"Failed to save"})})}return m(()=>g.model,e=>{x.value=e?{...e}:{name:"",description:"",level_id:null,order:null}},{immediate:!0}),r(function(){k.get("/qdrat/skill-levels").then(e=>q.value=e.data)}),(e,n)=>(v(),p(i,null,{default:c(()=>[f(l,null,{default:c(()=>[b("div",j,V(g.model?"Edit Skill":"Add Skill"),1)]),_:1}),f(a),f(l,null,{default:c(()=>[f(o,{modelValue:x.value.name,"onUpdate:modelValue":n[0]||(n[0]=e=>x.value.name=e),label:"Skill Name"},null,8,["modelValue"]),f(o,{modelValue:x.value.description,"onUpdate:modelValue":n[1]||(n[1]=e=>x.value.description=e),label:"Description",type:"textarea"},null,8,["modelValue"]),f(u,{modelValue:x.value.level_id,"onUpdate:modelValue":n[2]||(n[2]=e=>x.value.level_id=e),label:"Level",options:q.value,"option-value":"id","option-label":"name"},null,8,["modelValue","options"]),f(o,{modelValue:x.value.order,"onUpdate:modelValue":n[3]||(n[3]=e=>x.value.order=e),type:"number",label:"Order"},null,8,["modelValue"])]),_:1}),f(d,{align:"right"},{default:c(()=>[_(f(s,{flat:"",label:"Cancel"},null,512),[[t]]),f(s,{color:"primary",label:"Save",onClick:O})]),_:1})]),_:1}))}};export{y as default};
