import e from"./CanvasEditor-uZnO0G4A.js";import{_ as l}from"./LucideIcon-CvBD6-wv.js";import{o as t}from"./app-C-WHvmzS.js";import{f as n,a,o as s,e as o,N as i,J as u,O as r,Q as c,b as m,V as v,U as d,I as p}from"./vendor-nQjeLEvd.js";import"./ElementContent-B0NjKZaa.js";import"./presentationStore-B6dVkEOw.js";import"./youtube_VideoPlayer-BntHTk7O.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";import"./VideoPlayer-DgYpxfFj.js";import"./text_el-Dqsw8tcP.js";import"./createLucideIcon-B92OCqKn.js";import"./align-right-Bgq5iJ0f.js";import"./underline-W2dy4QkK.js";import"./image-Bjqqm2aR.js";import"./printer-CB3iEnDW.js";const b={class:"presentation-mode-container"},f={class:"slide-navigation"},j=["disabled"],k={class:"slide-counter"},g=["disabled"],h={class:"control-buttons"},y={class:"presentation-view"},E={class:"slide-container"},x=t({__name:"PresentationMode",props:{slides:{type:Array,required:!0},initialIndex:{type:Number,default:0}},emits:["exit"],setup(t,{emit:x}){const w=t,z=x,C=n(w.initialIndex),L=n(!1),T=n(!1),_=n(!1),I=n(null),V=a(()=>w.slides[C.value]),F=()=>{C.value<w.slides.length-1&&C.value++},M=()=>{C.value>0&&C.value--},q=()=>{L.value=!1,I.value&&(clearTimeout(I.value),I.value=null)},A=()=>{T.value||(I.value=setTimeout(()=>{L.value=!0},3e3))},P=()=>{L.value=!1,I.value=setTimeout(()=>{T.value&&(L.value=!0)},5e3)},S=()=>{T.value=!T.value,T.value?(L.value=!1,I.value=setTimeout(()=>{L.value=!0},3e3)):L.value=!1},N=async()=>{try{document.fullscreenElement?(await document.exitFullscreen(),_.value=!1):(await document.documentElement.requestFullscreen(),_.value=!0)}catch(e){console.error("Error toggling fullscreen:",e)}},U=async()=>{document.fullscreenElement&&await document.exitFullscreen(),z("exit")},J=e=>{switch(e.key){case"ArrowRight":case"Space":F();break;case"ArrowLeft":M();break;case"Escape":U()}};return s(()=>{document.addEventListener("keydown",J),document.documentElement.requestFullscreen().then(()=>{_.value=!0}).catch(e=>console.log("Fullscreen error:",e)),I.value=setTimeout(()=>{L.value=!0},3e3),document.addEventListener("fullscreenchange",()=>{_.value=!!document.fullscreenElement})}),o(()=>{document.removeEventListener("keydown",J),document.removeEventListener("fullscreenchange",()=>{}),I.value&&clearTimeout(I.value)}),(n,a)=>(u(),i("div",b,[r("div",{class:d(["presentation-controls",{hidden:L.value&&T.value}]),onMouseenter:q,onMouseleave:A},[r("div",f,[r("button",{onClick:M,disabled:0===C.value,class:"nav-btn"},[m(l,{name:"chevron-left",size:"20"})],8,j),r("span",k,v(C.value+1)+" / "+v(t.slides.length),1),r("button",{onClick:F,disabled:C.value===t.slides.length-1,class:"nav-btn"},[m(l,{name:"chevron-right",size:"20"})],8,g)]),r("div",h,[r("button",{onClick:S,class:d(["control-btn",{active:T.value}]),title:"Lock controls visibility"},[m(l,{name:T.value?"lock":"unlock",size:"18"},null,8,["name"])],2),r("button",{onClick:N,class:"control-btn",title:"Toggle fullscreen"},[m(l,{name:_.value?"minimize":"maximize",size:"18"},null,8,["name"])]),r("button",{onClick:U,class:"exit-btn"},[m(l,{name:"x",size:"18",class:"mr-1"}),a[1]||(a[1]=r("span",null,"Exit",-1))])])],34),L.value&&T.value?(u(),i("button",{key:0,onClick:P,class:"show-controls-btn",title:"Show controls"},[m(l,{name:"menu",size:"20"})])):c("",!0),r("div",y,[r("div",E,[V.value?(u(),p(e,{key:C.value,modelValue:V.value.content,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value.content=e),presentationMode:!0,readonly:!0},null,8,["modelValue"])):c("",!0)])])]))}},[["__scopeId","data-v-14c0e610"]]);export{x as default};
