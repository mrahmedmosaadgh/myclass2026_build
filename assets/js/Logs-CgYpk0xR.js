import{f as e,I as t,J as s,K as o,b as r,N as a,z as l,a4 as n,V as i,y as d,ab as g,ac as c,a2 as u,M as b,F as m,R as p,Q as x,U as f,$ as y}from"./vendor-DuKqz2x4.js";import{A as v}from"./AdminLayout-CCgn0nWg.js";import"./app-DOc39CFu.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const h={class:"py-6 mx-auto max-w-7xl sm:px-6 lg:px-8"},w={class:"mb-8 flex justify-between items-center"},k={class:"text-sm text-gray-500 mt-1"},j={class:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={class:"flex space-x-2"},S={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},B={class:"text-lg font-medium text-gray-900 mb-4"},C={key:0,class:"text-center py-8 text-gray-500"},A={key:1,class:"space-y-3"},N={class:"flex items-start justify-between mb-2"},R={class:"flex items-center space-x-3"},E={class:"text-xs text-gray-500"},I={class:"text-sm text-gray-900 mb-2"},O={key:0,class:"mt-2 bg-gray-50 border border-gray-200 rounded p-3"},U={class:"text-xs font-mono text-gray-700 whitespace-pre-wrap overflow-x-auto"},V={__name:"Logs",props:{logs:Array,filters:Object,stats:Object},setup(V){const _=V,D=e(_.filters.level),G=e(_.filters.search),K=()=>{y.get(route("v2.super-system.logs"),{level:D.value,search:G.value},{preserveState:!0,preserveScroll:!0})},z=()=>{confirm("Clear all logs? This cannot be undone.")&&y.post(route("v2.super-system.logs.clear"))},F=()=>{window.location.href=route("v2.super-system.logs.download")},W=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(e,y)=>(s(),t(v,null,{default:o(()=>[r(l(n),{title:"System Logs"}),a("div",h,[a("div",w,[a("div",null,[y[2]||(y[2]=a("h1",{class:"text-3xl font-bold text-gray-900 tracking-tight"},"System Logs",-1)),a("p",k,"View and manage application logs ("+i(W(V.stats.file_size))+")",1)]),a("div",{class:"flex space-x-3"},[a("button",{onClick:F,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"}," Download "),a("button",{onClick:z,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Clear Logs ")])]),a("div",j,[a("div",L,[a("div",null,[y[4]||(y[4]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Log Level",-1)),d(a("select",{"onUpdate:modelValue":y[0]||(y[0]=e=>D.value=e),onChange:K,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},y[3]||(y[3]=[a("option",{value:"all"},"All Levels",-1),a("option",{value:"error"},"Error",-1),a("option",{value:"warning"},"Warning",-1),a("option",{value:"info"},"Info",-1),a("option",{value:"debug"},"Debug",-1)]),544),[[g,D.value]])]),a("div",null,[y[5]||(y[5]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),a("div",M,[d(a("input",{"onUpdate:modelValue":y[1]||(y[1]=e=>G.value=e),onKeyup:u(K,["enter"]),type:"text",placeholder:"Search logs...",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,544),[[c,G.value]]),a("button",{onClick:K,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Search ")])])])]),a("div",S,[a("h2",B,"Log Entries ("+i(V.stats.total)+")",1),0===V.logs.length?(s(),b("div",C," No logs found ")):(s(),b("div",A,[(s(!0),b(m,null,p(V.logs,(e,t)=>{return s(),b("div",{key:t,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[a("div",N,[a("div",R,[a("span",{class:f(`px-2 py-1 text-xs font-medium rounded border ${o=e.level,{ERROR:"bg-red-100 text-red-800 border-red-200",WARNING:"bg-yellow-100 text-yellow-800 border-yellow-200",INFO:"bg-blue-100 text-blue-800 border-blue-200",DEBUG:"bg-gray-100 text-gray-800 border-gray-200"}[o]||"bg-gray-100 text-gray-800 border-gray-200"}`)},i(e.level),3),a("span",E,i(e.timestamp),1)])]),a("p",I,i(e.message),1),e.context&&e.context.trim()?(s(),b("div",O,[a("pre",U,i(e.context),1)])):x("",!0)]);var o}),128))]))])])]),_:1}))}};export{V as default};
