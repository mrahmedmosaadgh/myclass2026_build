import{o as e}from"./app-DOc39CFu.js";import{f as t,M as a,J as n,N as o,Q as l,U as i}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const s={class:"flex flex-col items-center gap-4"},r=e({__name:"img_trans",setup(e){const r=t(null),u=t(!1);let c=null,d=new Image;function g(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{d.onload=()=>{const e=r.value;e.width=d.width,e.height=d.height,c=e.getContext("2d"),c.drawImage(d,0,0),u.value=!0},d.src=e.target.result},a.readAsDataURL(t)}function f(e){if(!c)return;const t=r.value.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top,o=c.getImageData(a,n,1,1).data,[l,i,s]=o;!function(e,t,a){const n=c.getImageData(0,0,r.value.width,r.value.height),o=n.data;for(let l=0;l<o.length;l+=4)m(o[l],o[l+1],o[l+2],e,t,a)&&(o[l+3]=0);c.putImageData(n,0,0)}(l,i,s)}function m(e,t,a,n,o,l){return Math.abs(e-n)<30&&Math.abs(t-o)<30&&Math.abs(a-l)<30}function p(){const e=document.createElement("a");e.download="edited-image.png",e.href=r.value.toDataURL("image/png"),e.click()}return(e,t)=>(n(),a("div",s,[o("input",{type:"file",onChange:g,accept:"image/*"},null,32),o("canvas",{ref_key:"canvas",ref:r,class:i([{hidden:!u.value},"border shadow rounded-xl"]),onClick:f},null,2),u.value?(n(),a("button",{key:0,onClick:p,class:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700"}," Save Image ")):l("",!0)]))}},[["__scopeId","data-v-0779961e"]]);export{r as default};
