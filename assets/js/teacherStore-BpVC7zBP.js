import{Y as a,f as e,Z as t}from"./vendor-DNM7Y6Xn.js";const s=a("teacher",()=>{const a=e([]),s=e([]),l=e(!1),r=e(null),d=e(!1);return{grades:a,classrooms:s,loading:l,error:r,loaded:d,fetchTeacherData:async(e=!1)=>{if(!d.value||e){l.value=!0,r.value=null;try{const e=await t.get(route("lesson-presentation.teacher.grades"));e.data.data?(a.value=e.data.data.map(a=>({...a.grade,subjects:a.classrooms.flatMap(a=>a.subjects).filter((a,e,t)=>t.findIndex(e=>e.id===a.id)===e)})),s.value=e.data.data.flatMap(a=>a.classrooms)):(a.value=e.data.grades||[],s.value=e.data.classrooms||[]),d.value=!0}catch(o){console.error("Failed to fetch teacher data:",o),r.value="Failed to load teacher data."}finally{l.value=!1}}},getGradeById:e=>a.value.find(a=>a.id===e)}});export{s as u};
