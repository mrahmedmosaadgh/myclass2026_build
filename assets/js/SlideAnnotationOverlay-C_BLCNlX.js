import{Q as e}from"./QBtnToggle-Lw6F7ljP.js";import{p as a,d as l,a as o,Q as s,q as t,n as r,e as n,C as i}from"./app-DXXarK7I.js";import{Q as d}from"./QColor-k9ZQo2Mz.js";import{Q as u}from"./QPopupProxy-CSpgzgFh.js";import{Q as c}from"./QSlider-CR6iWVp_.js";import p from"./DrawingCanvas-JckEaKTC.js";import{f as m,a as f,k as v,L as b,I as g,b as _,M as y,J as j,R as k,F as x,Q as F,V as Q,U as C}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./QTabs-BC5MrYhV.js";import"./rtl-Cr6c3OOr.js";import"./QTab-DzZGFS5V.js";import"./QTabPanels-BXLgHK63.js";import"./use-panel-v2pzMR_n.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-Cip5Q1JD.js";const S={class:"slide-annotation-overlay"},w={class:"annotation-toolbar"},V={class:"row items-center q-gutter-xs"},z={style:{width:"80px"}},h={class:"annotation-info"},I=a({__name:"SlideAnnotationOverlay",props:{currentSlideId:{type:[String,Number],required:!0},currentSection:{type:String,default:""},currentSlideIndex:{type:Number,default:0}},emits:["close"],setup(a,{emit:I}){const U=a,q=m(null),T=m("pen"),P=m("#FF0000"),A=m(3),N=m(0),$=["#FF0000","#0000FF","#00FF00","#FFFF00","#000000"],D=f(()=>{const e=window.location.pathname.match(/\/lesson-presentation\/student\/(\d+)/);return`slide-annotations-${e?e[1]:"unknown"}-${U.currentSlideId}`}),J=()=>{q.value&&q.value.undo()},M=()=>{N.value++},O=e=>{};return v(()=>U.currentSlideId,()=>{q.value&&q.value.loadFromStorage()}),(a,m)=>(g(),b("div",S,[_(p,{ref_key:"canvasRef",ref:q,"is-active":!0,"drawing-tool":T.value,"pen-color":P.value,"pen-size":A.value,"background-color":"transparent","current-page":1,"clear-trigger":N.value,"storage-key":D.value,onStrokesUpdated:O},null,8,["drawing-tool","pen-color","pen-size","clear-trigger","storage-key"]),y("div",w,[_(r,{flat:"",bordered:"",class:"toolbar-card"},{default:j(()=>[_(l,{class:"q-pa-xs"},{default:j(()=>[y("div",V,[_(e,{modelValue:T.value,"onUpdate:modelValue":m[0]||(m[0]=e=>T.value=e),"toggle-color":"primary",flat:"",dense:"",size:"sm",options:[{value:"pen",icon:"brush"},{value:"eraser",icon:"cleaning_services"}]},null,8,["modelValue"]),_(o,{vertical:"",inset:""}),_(s,{flat:"",round:"",style:k({backgroundColor:P.value,border:"2px solid #fff"}),size:"sm"},{default:j(()=>[_(u,null,{default:j(()=>[_(d,{modelValue:P.value,"onUpdate:modelValue":m[1]||(m[1]=e=>P.value=e),"no-header":"","no-footer":""},null,8,["modelValue"])]),_:1})]),_:1},8,["style"]),(g(),b(x,null,F($,e=>_(s,{key:e,flat:"",round:"",style:k({backgroundColor:e,border:P.value===e?"2px solid #000":"1px solid #ddd"}),size:"xs",onClick:a=>P.value=e},null,8,["style","onClick"])),64)),_(o,{vertical:"",inset:""}),y("div",z,[_(c,{modelValue:A.value,"onUpdate:modelValue":m[2]||(m[2]=e=>A.value=e),min:1,max:15,label:"","label-always":"",color:"primary",dense:""},{label:j(({value:e})=>[Q(C(e)+"px ",1)]),_:1},8,["modelValue"])]),_(o,{vertical:"",inset:""}),_(s,{flat:"",dense:"",round:"",icon:"undo",onClick:J,size:"sm"},{default:j(()=>[_(t,null,{default:j(()=>m[4]||(m[4]=[Q("Undo")])),_:1})]),_:1}),_(s,{flat:"",dense:"",round:"",icon:"delete_sweep",color:"negative",onClick:M,size:"sm"},{default:j(()=>[_(t,null,{default:j(()=>m[5]||(m[5]=[Q("Clear")])),_:1})]),_:1}),_(s,{flat:"",dense:"",round:"",icon:"close",color:"negative",onClick:m[3]||(m[3]=e=>a.$emit("close")),size:"sm"},{default:j(()=>[_(t,null,{default:j(()=>m[6]||(m[6]=[Q("Close")])),_:1})]),_:1})])]),_:1})]),_:1})]),y("div",h,[_(i,{color:"primary","text-color":"white",dense:""},{default:j(()=>[_(n,{name:"edit_note",size:"xs",class:"q-mr-xs"}),m[7]||(m[7]=Q(" Annotating Slide "))]),_:1})])]))}},[["__scopeId","data-v-54e43efb"]]);export{I as default};
