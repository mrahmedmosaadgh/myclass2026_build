import{o as e,u as t,d as o,C as a,c as n,Q as c,aj as r,g as i,aP as s,h as d,i as l,l as u,m}from"./app-ggGwxJON.js";import{Q as f}from"./QSpace-DKhB4IlP.js";import{Q as p}from"./QBadge-DVUbh_5M.js";import{I as g,J as y,K as b,b as v,O as _,V as h,W as w,Q as k,N as x,y as q}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const C={class:"row items-center justify-between"},j={class:"col"},D={class:"row items-center"},z={class:"text-h6 text-weight-bold ellipsis"},L={class:"col-auto"},M={class:"text-body2 text-grey-7 q-mb-sm"},Q={class:"row items-center q-gutter-xs q-mb-sm"},B={class:"document-meta text-caption text-grey-6"},E={key:0,class:"q-mb-xs"},A={key:1},N={key:2},O={class:"status-indicators"},S=e({__name:"DocumentationCard",props:{document:{type:Object,required:!0}},emits:["view","edit"],setup(e,{emit:S}){const I=t(),K=e,V=()=>{var e;if("file"===K.document.source)return"description";return{code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=K.document.type)?void 0:e.toLowerCase()]||"description"},$=()=>{var e;return{offline:"cloud_off",code:"code",tutorial:"school",guide:"map",api:"api",reference:"book",general:"description",note:"note",research:"science",question:"help",comment:"comment",idea:"lightbulb"}[null==(e=K.document.category)?void 0:e.toLowerCase()]||"description"},G=()=>{if(K.document.excerpt)return K.document.excerpt;if(K.document.content){if("string"==typeof K.document.content)return K.document.content.substring(0,150)+"...";if(Array.isArray(K.document.content)){return K.document.content.map(e=>e.content||"").join(" ").substring(0,150)+"..."}}return"No description available."},J=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]},P=()=>{if(K.document.created_at){const e=new Date(K.document.created_at),t=new Date;return t.setDate(t.getDate()-7),e>t}return!1},T=()=>{I.notify({type:"positive",message:"Link copied to clipboard",position:"top"})},U=()=>{I.notify({type:"info",message:"Export functionality coming soon",position:"top"})},W=()=>{I.notify({type:"info",message:"Editor functionality coming soon",position:"top"})};return(t,S)=>(y(),g(m,{class:"documentation-card"},{default:b(()=>[v(n,{class:"card-header"},{default:b(()=>{return[_("div",C,[_("div",j,[_("div",D,[v(o,{name:V(),color:{code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=K.document.type)?void 0:t.toLowerCase()]||"primary",size:"1.5rem",class:"q-mr-sm"},null,8,["name","color"]),_("div",z,h(e.document.title),1)])]),_("div",L,[v(a,{color:"database"===e.document.source?"green":"orange","text-color":"white",size:"sm",icon:"database"===e.document.source?"storage":"folder"},{default:b(()=>[w(h(e.document.source),1)]),_:1},8,["color","icon"])])])];var t}),_:1}),v(n,{class:"card-content"},{default:b(()=>{return[_("div",M,h(G()),1),_("div",Q,[v(a,{color:{offline:"orange",code:"green",tutorial:"blue",guide:"purple",api:"red",reference:"indigo",general:"grey",note:"yellow",research:"teal",question:"pink",comment:"cyan",idea:"amber"}[null==(t=K.document.category)?void 0:t.toLowerCase()]||"primary","text-color":"white",size:"sm",icon:$()},{default:b(()=>[w(h(e.document.category),1)]),_:1},8,["color","icon"]),e.document.type&&e.document.type!==e.document.category?(y(),g(a,{key:0,color:"grey-6","text-color":"white",size:"sm"},{default:b(()=>[w(h(e.document.type),1)]),_:1})):k("",!0)]),_("div",B,[e.document.author?(y(),x("div",E,[v(o,{name:"person",size:"xs",class:"q-mr-xs"}),w(" "+h(e.document.author.name),1)])):k("",!0),e.document.created_at||e.document.modified?(y(),x("div",A,[v(o,{name:"schedule",size:"xs",class:"q-mr-xs"}),w(" "+h(K.document.created_at?new Date(K.document.created_at).toLocaleDateString():K.document.modified?new Date(1e3*K.document.modified).toLocaleDateString():""),1)])):k("",!0),e.document.size?(y(),x("div",N,[v(o,{name:"description",size:"xs",class:"q-mr-xs"}),w(" "+h(J(e.document.size)),1)])):k("",!0)])];var t}),_:1}),v(u,{class:"card-actions"},{default:b(()=>[v(c,{flat:"",color:"primary",icon:"visibility",label:"View",onClick:S[0]||(S[0]=o=>t.$emit("view",e.document)),class:"q-mr-sm"}),"database"===e.document.source?(y(),g(c,{key:0,flat:"",color:"secondary",icon:"edit",label:"Edit",onClick:S[1]||(S[1]=o=>t.$emit("edit",e.document))})):k("",!0),v(f),v(c,{flat:"",round:"",color:"grey-6",icon:"more_vert"},{default:b(()=>[v(r,null,{default:b(()=>[v(i,{style:{"min-width":"100px"}},{default:b(()=>[q((y(),g(d,{clickable:"",onClick:T},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"link"})]),_:1}),v(l,null,{default:b(()=>S[2]||(S[2]=[w("Copy Link")])),_:1})]),_:1})),[[s]]),q((y(),g(d,{clickable:"",onClick:U},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"download"})]),_:1}),v(l,null,{default:b(()=>S[3]||(S[3]=[w("Export")])),_:1})]),_:1})),[[s]]),"file"===e.document.source?q((y(),g(d,{key:0,clickable:"",onClick:W},{default:b(()=>[v(l,{avatar:""},{default:b(()=>[v(o,{name:"code"})]),_:1}),v(l,null,{default:b(()=>S[4]||(S[4]=[w("Open in Editor")])),_:1})]),_:1})),[[s]]):k("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),_("div",O,["draft"===e.document.status?(y(),g(p,{key:0,color:"orange",floating:"",class:"status-badge"},{default:b(()=>S[5]||(S[5]=[w(" Draft ")])),_:1})):k("",!0),"archived"===e.document.status?(y(),g(p,{key:1,color:"grey",floating:"",class:"status-badge"},{default:b(()=>S[6]||(S[6]=[w(" Archived ")])),_:1})):k("",!0),P()?(y(),g(p,{key:2,color:"green",floating:"",class:"status-badge recent-badge"},{default:b(()=>S[7]||(S[7]=[w(" New ")])),_:1})):k("",!0)])]),_:1}))}},[["__scopeId","data-v-1f001c3f"]]);export{S as default};
