import{E as e,aB as t,L as a,aj as o,Q as l,p as n,u as i,q as s,g as r,e as u,a as d,D as c,n as p,d as m,aD as v,b as f}from"./app-BzjXrVp9.js";import{f as g,a as y,n as _,p as h,h as w,k as b,o as x,z as j,L as S,I as Q,b as k,J as q,M as V,V as C,H as P,O as D,U as L,a1 as O,A as E,al as T,x as $,F as U,Z as I}from"./vendor-EI0FRBVb.js";import{Q as z}from"./QBadge-D2ciqrkO.js";import{Q as N,a as F}from"./QToolbar-BqA_2ejV.js";import{Q as R}from"./QHeader-C7QKGY1U.js";import{Q as B}from"./QDrawer-0abd2rGn.js";import{Q as M}from"./QSelect-CciNNEfD.js";import{Q as A}from"./QPage-DC7Lbtn5.js";import{Q as H}from"./QPageContainer--if2P0k6.js";import{Q as K}from"./QLayout-BkQn7DTH.js";import{Q as J}from"./QSpace-qzKo_-If.js";import G from"./TextSlide-CNwBrgSq.js";import Z from"./MediaSlide-DzKwWtVh.js";import{Q as W}from"./QuestionSlide-CI00oUy6.js";import X from"./PDFSlide-Dc7kjzJT.js";import Y from"./VideoSlide-DPi2Cyfi.js";import ee from"./LessonSidebar-w9BE3xLO.js";import te from"./LessonPlayer-2Iw7hW3S.js";import ae from"./FingerDrawingSlide-D-EXbGbC.js";import{u as oe}from"./teacherStore-BELNLpdq.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./rtl-Cr6c3OOr.js";import"./RichTextEditor-CgI_Wije.js";import"./QColor-9nuGqmA9.js";import"./QSlider-Ca7ul8Gv.js";import"./QTabs-BwLFzVWR.js";import"./QTab-Cx9aTRVb.js";import"./QTabPanels-C2OMgZHe.js";import"./use-panel-DdQZ_Vdk.js";import"./use-render-cache-CmTcazfP.js";import"./QTabPanel-BWvsj8on.js";import"./purify.es-C2Ba6vpb.js";import"./MathEditor-DTd-X9KR.js";import"./katex-BXKQVcz-.js";import"./MathPastePreview-D7IfRdxZ.js";import"./EnhancedQuestionEditor-z-4FgyOI.js";import"./QuestionEditor-B7HsQdH0.js";import"./StepByStepEditor-CnjOsexu.js";import"./QuestionTypeSelector-BRH1uRly.js";import"./QuizEngine-DpGxhJ8D.js";import"./useQuizI18n-Bzgnl5cn.js";import"./QLinearProgress-L5RdawR6.js";import"./QSpinnerDots-CsCCDASU.js";import"./PlayerSidebar-DTCRvwxS.js";import"./SectionCard-Bx7HC74v.js";import"./SectionBanner-brdcxv_1.js";import"./SlideRenderer-8w63klYE.js";import"./QPopupProxy-DuCU3AfJ.js";import"./NavigationFooter-uQOBQONt.js";import"./DrawingOverlay-CWYgKn3s.js";import"./DrawingCanvas-Ra21G5zo.js";import"./DrawingToolbar-WFwoXAYt.js";import"./QBtnToggle-CLBD-K6a.js";import"./SlideAnnotationOverlay-DjaS00m-.js";function le(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const a=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:"function"!=typeof e.constructor?Object.create(null):void 0!==e.prototype&&"function"==typeof e.prototype.constructor?e:new e.constructor;if("function"==typeof e.constructor&&"function"==typeof e.valueOf){const a=e.valueOf();if(Object(a)!==a){const o=new e.constructor(a);return t.set(e,o),o}}return t.set(e,a),e instanceof Set?e.forEach(e=>{a.add(le(e,t))}):e instanceof Map&&e.forEach((e,o)=>{a.set(o,le(e,t))}),Object.assign(a,...Object.keys(e).map(a=>({[a]:le(e[a],t)})))}const ne=e({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:i}){const{proxy:s}=h(),{$q:r}=s,u=g(null),d=g(""),c=g("");let p=!1;const m=y(()=>t({initialValue:d.value,validate:e.validate,set:v,cancel:f,updatePosition:b},"value",()=>c.value,e=>{c.value=e}));function v(){!1!==e.validate(c.value)&&(!0===x()&&(i("save",c.value,d.value),i("update:modelValue",c.value)),j())}function f(){!0===x()&&i("cancel",c.value,d.value),j()}function b(){_(()=>{u.value.updatePosition()})}function x(){return!1===a(c.value,d.value)}function j(){p=!0,u.value.hide()}function S(){p=!1,d.value=le(e.modelValue),c.value=le(e.modelValue),i("beforeShow")}function Q(){i("show")}function k(){!1===p&&!0===x()&&(!0===e.autoSave&&!0===e.validate(c.value)?(i("save",c.value,d.value),i("update:modelValue",c.value)):i("cancel",c.value,d.value)),i("beforeHide")}function q(){i("hide")}function V(){const t=void 0!==n.default?[].concat(n.default(m.value)):[];return e.title&&t.unshift(w("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),!0===e.buttons&&t.push(w("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[w(l,{flat:!0,color:e.color,label:e.labelCancel||r.lang.label.cancel,onClick:f}),w(l,{flat:!0,color:e.color,label:e.labelSet||r.lang.label.set,onClick:v})])),t}return Object.assign(s,{set:v,cancel:f,show(e){var t;null==(t=u.value)||t.show(e)},hide(e){var t;null==(t=u.value)||t.hide(e)},updatePosition:b}),()=>{if(!0!==e.disable)return w(o,{ref:u,class:"q-popup-edit",cover:e.cover,onBeforeShow:S,onShow:Q,onBeforeHide:k,onHide:q,onEscapeKey:f},V)}}}),ie={class:"row items-center q-gutter-x-md"},se={class:"cursor-pointer"},re={class:"text-caption text-blue-2 cursor-pointer ellipsis",style:{"max-width":"300px"}},ue={class:"row items-center q-gutter-sm"},de={class:"column q-mr-md text-right text-caption text-grey-1"},ce={class:"text-weight-bold"},pe={class:"text-weight-bold"},me={class:"col-12 col-lg-10",style:{"max-width":"1200px"}},ve={key:0,class:"bg-white rounded-borders shadow-1 q-pa-lg"},fe={class:"row items-center justify-between q-mb-md"},ge={class:"row items-center q-gutter-sm"},ye={class:"row items-center q-gutter-sm"},_e={style:{"min-height":"500px"}},he={key:1,class:"column items-center justify-center text-grey-5 q-pa-xl bg-white rounded-borders shadow-1 fit",style:{"min-height":"500px"}},we={class:"text-h6 flex items-center gap-2"},be=n({__name:"lesson_presentation",props:{presentationId:{type:[Number,String],default:null},defaultContext:{type:Object,default:()=>({school_id:1,teacher_id:1,subject_id:1})},sections:{type:Array,default:()=>[]}},setup(e){const t=e,a=oe(),o=i(),n=new URLSearchParams(window.location.search).get("id"),_=t.presentationId||(n?parseInt(n):null),h=g(_),w=g({name:"New Lesson",description:"Lesson description",grade_id:null,quiz_id:null,slides:[]}),le=g(t.sections),be=g(""),xe=g(!0),je=g(null),Se=g([]),Qe=g(0),ke=g(!1),qe=g(!1),Ve=g(!0);g(!0);const Ce=y({get:()=>!o.screen.lt.sm&&Ve.value,set(e){Ve.value=e}});y(()=>{const e=le.value.find(e=>e.id===be.value);return e?`Section: ${e.title}`:"Select a section"});const Pe=y(()=>Se.value.filter(e=>e.section===be.value)),De=y(()=>0===Pe.value.length?null:Pe.value[Qe.value]),Le=y(()=>{if(!w.value.grade_id)return"No Grade";const e=a.grades.find(e=>e.id===w.value.grade_id);return e?e.name:"Unknown Grade"}),Oe=e=>{switch(e){case"text":default:return G;case"question":return W;case"pdf":return X;case"video":return Y;case"image":case"audio":return Z;case"drawing":return ae}},Ee=()=>{const e={slide_type:"text",slide_content:{},section:be.value};Se.value.push(e),Qe.value=Pe.value.length-1},Te=e=>{const t=document.createElement("DIV");return t.innerHTML=e||"",t.textContent||t.innerText||""},$e=()=>{Qe.value>0&&Qe.value--},Ue=()=>{Qe.value<Pe.value.length-1&&Qe.value++},Ie=e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&("ArrowLeft"===e.key?(e.preventDefault(),$e()):"ArrowRight"===e.key&&(e.preventDefault(),Ue()))},ze=async()=>{if((()=>{var e,t;if(!w.value.name.trim())return o.notify({type:"warning",message:"Please enter a lesson name",icon:"warning",position:"top"}),!1;if(!w.value.grade_id)return o.notify({type:"warning",message:"Please select a grade",icon:"warning",position:"top"}),!1;for(let a=0;a<Se.value.length;a++){const l=Se.value[a];if("question"===l.slide_type){const t=(null==(e=l.slide_content)?void 0:e.questions)||[];if(0===t.length)return o.notify({type:"warning",message:`Slide ${a+1}: Please add at least one question`,icon:"warning",position:"top"}),Qe.value=a,!1;for(let e=0;e<t.length;e++){const l=t[e];if(!Te(l.text).trim())return o.notify({type:"warning",message:`Slide ${a+1}, Question ${e+1}: Question text cannot be empty`,icon:"warning",position:"top"}),Qe.value=a,!1;if(["short_answer","number"].includes(l.type)&&!l.correct_answer)return o.notify({type:"warning",message:`Slide ${a+1}, Question ${e+1}: Please provide a correct answer`,icon:"warning",position:"top"}),Qe.value=a,!1;if("single_choice"===l.type&&!l.correct_answer)return o.notify({type:"warning",message:`Slide ${a+1}, Question ${e+1}: Please select a correct option`,icon:"warning",position:"top"}),Qe.value=a,!1;if(["single_choice","multiple_choice"].includes(l.type)){if(!l.options||l.options.length<2)return o.notify({type:"warning",message:`Slide ${a+1}, Question ${e+1}: Must have at least 2 options`,icon:"warning",position:"top"}),Qe.value=a,!1;for(let t=0;t<l.options.length;t++)if(!Te(l.options[t].text).trim())return o.notify({type:"warning",message:`Slide ${a+1}, Question ${e+1}, Option ${t+1}: Option text cannot be empty`,icon:"warning",position:"top"}),Qe.value=a,!1}}}else if("text"===l.slide_type&&(null==(t=l.slide_content)?void 0:t.text)&&!Te(l.slide_content.text).trim())return o.notify({type:"warning",message:`Slide ${a+1}: Text content cannot be empty. Please add content or delete the slide.`,icon:"warning",position:"top"}),Qe.value=a,!1}return!0})()){ke.value=!0;try{const e={...w.value,school_id:t.defaultContext.school_id,teacher_id:t.defaultContext.teacher_id,subject_id:t.defaultContext.subject_id,grade_id:w.value.grade_id||t.defaultContext.grade_id};let a;a=h.value?await I.put(route("lesson-presentation.update",{id:h.value}),e):await I.post(route("lesson-presentation.store"),e);const l=a.data;for(const t of Se.value){const e={slide_type:t.slide_type,slide_content:t.slide_content||{},section:t.section||be.value||"learn",order_index:t.order_index||0};t.id?await I.put(route("lesson-presentation.slides.update",{id:l.id,slideId:t.id}),e):await I.post(route("lesson-presentation.slides.add",{id:l.id}),e)}o.notify({type:"positive",message:"Lesson saved successfully! Redirecting...",icon:"check_circle",position:"top",timeout:1500}),setTimeout(()=>{window.location.href="/lesson-presentation/dashboard"},1500)}catch(e){console.error("Save failed:",e),o.notify({type:"negative",message:"Failed to save lesson. Please try again.",icon:"error",position:"top",timeout:3e3})}finally{ke.value=!1}}},Ne=async()=>{if(h.value)try{o.notify({type:"info",message:"Duplicating lesson...",icon:"content_copy",position:"top",timeout:1e3});const e={...w.value,name:`${w.value.name} (Copy)`,school_id:t.defaultContext.school_id,teacher_id:t.defaultContext.teacher_id,subject_id:t.defaultContext.subject_id},a=(await I.post(route("lesson-presentation.store"),e)).data;for(const t of Se.value){const e={slide_type:t.slide_type,slide_content:t.slide_content,section:t.section};await I.post(route("lesson-presentation.slides.add",{id:a.id}),e)}o.notify({type:"positive",message:"Lesson duplicated successfully!",icon:"check_circle",position:"top",timeout:2e3}),setTimeout(()=>{window.location.href=`/lesson-presentation/edit?id=${a.id}`},500)}catch(e){console.error("Duplicate failed:",e),o.notify({type:"negative",message:"Failed to duplicate lesson",icon:"error",position:"top",timeout:3e3})}},Fe=()=>{var e,a;try{const l=w.value.name||"Untitled_Lesson",n=(new Date).toISOString().split("T")[0],i=`lesson_${l.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${n}.json`,s={version:"1.0",exportDate:(new Date).toISOString(),lesson:{name:w.value.name,description:w.value.description,grade_id:w.value.grade_id,quiz_id:w.value.quiz_id},sections:le.value,slides:Se.value,metadata:{subject_name:null==(e=t.defaultContext)?void 0:e.subject_name,grade_name:null==(a=t.defaultContext)?void 0:a.grade_name,totalSlides:Se.value.length}},r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),u=URL.createObjectURL(r),d=document.createElement("a");d.href=u,d.download=i,d.click(),URL.revokeObjectURL(u),o.notify({type:"positive",message:`Lesson exported as ${i}`,icon:"download",position:"top",timeout:2e3})}catch(l){console.error("Export failed:",l),o.notify({type:"negative",message:"Failed to export lesson",icon:"error",position:"top"})}},Re=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files[0];if(t)try{const e=await t.text(),a=JSON.parse(e);if(!a.lesson||!a.slides)throw new Error("Invalid lesson file format");o.dialog({title:"Import Lesson",message:`Import "${a.lesson.name}"? This will replace current unsaved changes.`,cancel:!0,persistent:!0,ok:{label:"Import",color:"primary"}}).onOk(()=>{w.value.name=a.lesson.name,w.value.description=a.lesson.description,w.value.grade_id=a.lesson.grade_id,w.value.quiz_id=a.lesson.quiz_id,Se.value=a.slides.map(e=>({...e,id:null})),a.sections&&a.sections.length>0&&(le.value=a.sections,!be.value&&le.value.length>0&&(be.value=le.value[0].id)),o.notify({type:"positive",message:`Lesson "${a.lesson.name}" imported successfully!`,icon:"upload",position:"top",timeout:2e3})})}catch(a){console.error("Import failed:",a),o.notify({type:"negative",message:"Failed to import lesson. Please check the file format.",icon:"error",position:"top",timeout:3e3})}},e.click()};return b(be,()=>{Qe.value=0}),x(async()=>{await a.fetchTeacherData(),window.addEventListener("keydown",Ie),h.value?(await(async e=>{try{const t=await I.get(route("lesson-presentation.show",{id:e}));w.value={name:t.data.name,description:t.data.description,grade_id:t.data.grade_id,quiz_id:t.data.quiz_id},Se.value=(t.data.slides||[]).map(e=>({...e,section:e.section||"learn"}))}catch(t){console.error("Fetch failed:",t),o.notify({type:"negative",message:"Failed to load lesson",icon:"error",position:"top"})}})(h.value),le.value.length>0&&!be.value&&(be.value=le.value[0].id)):(0===Se.value.length&&Ee(),le.value.length>0&&(be.value=le.value[0].id),t.defaultContext.grade_id?w.value.grade_id=parseInt(t.defaultContext.grade_id):a.grades.length>0&&(w.value.grade_id=a.grades[0].id))}),j(()=>{window.removeEventListener("keydown",Ie)}),(t,a)=>(Q(),S(U,null,[k(K,{view:"hHh Lpr fFf",class:"bg-grey-1"},{default:q(()=>[k(R,{elevated:"",class:"bg-primary text-white"},{default:q(()=>[k(N,null,{default:q(()=>{var t,o;return[k(l,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:a[0]||(a[0]=e=>xe.value=!xe.value)}),k(l,{flat:"",round:"",dense:"",icon:"arrow_back",component:"a",href:"/lesson-presentation/dashboard"},{default:q(()=>[k(s,null,{default:q(()=>a[13]||(a[13]=[C("Back")])),_:1})]),_:1}),k(F,{class:"q-ml-sm"},{default:q(()=>[V("div",ie,[V("div",se,[C(L(w.value.name||"New Lesson")+" ",1),k(ne,{modelValue:w.value.name,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.name=e),"auto-save":""},{default:q(e=>[k(r,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,dense:"",autofocus:"",counter:"",onKeyup:O(e.set,["enter"]),label:"Lesson Name"},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"]),k(u,{name:"edit",size:"xs",class:"q-ml-xs opacity-50"})]),w.value.grade_id?(Q(),P(z,{key:0,color:"white","text-color":"primary",label:Le.value},null,8,["label"])):D("",!0)]),V("div",re,[C(L(w.value.description||"Add description...")+" ",1),k(ne,{modelValue:w.value.description,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.description=e),"auto-save":""},{default:q(e=>[k(r,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,dense:"",autofocus:"",type:"textarea",onKeyup:O(e.set,["enter"]),label:"Description"},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])])]),_:1}),V("div",ue,[V("div",de,[V("div",null,[a[14]||(a[14]=C("Subject: ")),V("span",ce,L(null==(t=e.defaultContext)?void 0:t.subject_name),1)]),V("div",null,[a[15]||(a[15]=C("Class: ")),V("span",pe,L(null==(o=e.defaultContext)?void 0:o.grade_name),1)])]),k(d,{vertical:"",dark:"",class:"q-mx-sm"}),h.value?(Q(),P(l,{key:0,flat:"",round:"",dense:"",icon:"content_copy",onClick:Ne},{default:q(()=>[k(s,null,{default:q(()=>a[16]||(a[16]=[C("Duplicate")])),_:1})]),_:1})):D("",!0),k(d,{vertical:"",dark:"",class:"q-mx-sm"}),k(l,{flat:"",round:"",dense:"",icon:"download",onClick:Fe,color:"accent"},{default:q(()=>[k(s,null,{default:q(()=>a[17]||(a[17]=[C("Export Lesson as JSON")])),_:1})]),_:1}),k(l,{flat:"",round:"",dense:"",icon:"upload",onClick:Re,color:"secondary"},{default:q(()=>[k(s,null,{default:q(()=>a[18]||(a[18]=[C("Import Lesson from JSON")])),_:1})]),_:1}),k(d,{vertical:"",dark:"",class:"q-mx-sm"}),k(l,{flat:"",round:"",dense:"",icon:"visibility",onClick:a[3]||(a[3]=e=>qe.value=!0),disable:!h.value},{default:q(()=>[k(s,null,{default:q(()=>a[19]||(a[19]=[C("Preview")])),_:1})]),_:1},8,["disable"]),k(l,{unelevated:"",color:"positive",icon:"save",label:"Save",onClick:ze,loading:ke.value},null,8,["loading"])])]}),_:1})]),_:1}),k(B,{modelValue:xe.value,"onUpdate:modelValue":a[8]||(a[8]=e=>xe.value=e),"show-if-above":"",bordered:"",class:"bg-white",width:300},{default:q(()=>[k(ee,{sections:le.value,currentSection_data:je.value,"onUpdate:currentSection_data":a[4]||(a[4]=e=>je.value=e),currentSection:be.value,"onUpdate:currentSection":a[5]||(a[5]=e=>be.value=e),slides:Se.value,showDrawer:Ce.value,"onUpdate:showDrawer":a[6]||(a[6]=e=>Ce.value=e),"can-edit":!0,"active-slide":De.value,onSelectSlide:a[7]||(a[7]=e=>Qe.value=Pe.value.indexOf(e)),onAddSlide:Ee,class:"fit"},null,8,["sections","currentSection_data","currentSection","slides","showDrawer","active-slide"])]),_:1},8,["modelValue"]),k(H,null,{default:q(()=>[k(A,{class:"q-pa-md bg-grey-2 row justify-center"},{default:q(()=>[V("div",me,[k(E,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:q(()=>[De.value?(Q(),S("div",ve,[V("div",fe,[V("div",ge,[k(u,{name:"edit_note",color:"primary",size:"md"}),a[23]||(a[23]=V("div",{class:"text-h6 text-grey-8"},"Slide Editor",-1)),k(d,{vertical:"",inset:"",class:"q-mx-sm"}),k(c,{outline:""},{default:q(()=>[k(l,{flat:"",dense:"",icon:"chevron_left",onClick:$e,disable:0===Qe.value,color:"primary"},{default:q(()=>[k(s,null,{default:q(()=>a[20]||(a[20]=[C("Previous Slide (â†)")])),_:1})]),_:1},8,["disable"]),k(l,{flat:"",dense:"","no-caps":"",label:`${Qe.value+1} / ${Pe.value.length}`,color:"primary",class:"q-px-md"},{default:q(()=>[k(s,null,{default:q(()=>a[21]||(a[21]=[C("Current Slide")])),_:1})]),_:1},8,["label"]),k(l,{flat:"",dense:"",icon:"chevron_right",onClick:Ue,disable:Qe.value>=Pe.value.length-1,color:"primary"},{default:q(()=>[k(s,null,{default:q(()=>a[22]||(a[22]=[C("Next Slide (â†’)")])),_:1})]),_:1},8,["disable"])]),_:1})]),V("div",ye,[k(M,{modelValue:De.value.slide_type,"onUpdate:modelValue":a[9]||(a[9]=e=>De.value.slide_type=e),options:[{label:"ðŸ“ Text",value:"text"},{label:"ðŸ–¼ï¸ Image",value:"image"},{label:"ðŸŽ¥ Video",value:"video"},{label:"ðŸŽµ Audio",value:"audio"},{label:"ðŸ“„ PDF",value:"pdf"},{label:"â“ Question",value:"question"},{label:"ðŸŽ¨ Drawing",value:"drawing"}],dense:"",outlined:"","emit-value":"","map-options":"","options-dense":"",color:"primary",label:"Slide Type",style:{"min-width":"150px"}},null,8,["modelValue"]),k(l,{flat:"",round:"",color:"negative",icon:"delete",onClick:a[10]||(a[10]=e=>{return t=De.value,void o.dialog({title:"Delete Slide",message:"Are you sure you want to delete this slide? This action cannot be undone.",cancel:!0,persistent:!0,ok:{label:"Delete",color:"negative",flat:!0},cancel:{label:"Cancel",color:"grey",flat:!0}}).onOk(()=>{const e=Se.value.indexOf(t);-1!==e&&(Se.value.splice(e,1),Pe.value.length>0?Qe.value>=Pe.value.length&&(Qe.value=Pe.value.length-1):Qe.value=0,o.notify({type:"positive",message:"Slide deleted successfully",icon:"check_circle",position:"top",timeout:1500}))});var t})},{default:q(()=>[k(s,null,{default:q(()=>a[24]||(a[24]=[C("Delete Slide")])),_:1})]),_:1})])]),k(d,{class:"q-mb-md"}),V("div",_e,[(Q(),P(T(Oe(De.value.slide_type)),{modelValue:De.value.slide_content,"onUpdate:modelValue":a[11]||(a[11]=e=>De.value.slide_content=e),key:De.value.id||Qe.value},null,8,["modelValue"]))])])):(Q(),S("div",he,[k(u,{name:"touch_app",size:"80px",color:"primary",class:"opacity-20"}),a[25]||(a[25]=V("div",{class:"text-h5 q-mt-md text-weight-medium"},"Select a Slide",-1)),a[26]||(a[26]=V("div",{class:"text-subtitle1 q-mt-sm"},"Choose a section on the left to start editing",-1))]))]),_:1})])]),_:1})]),_:1})]),_:1}),k(f,{modelValue:qe.value,"onUpdate:modelValue":a[12]||(a[12]=e=>qe.value=e),maximized:""},{default:q(()=>[k(p,{class:"bg-white"},{default:q(()=>[k(m,{class:"row items-center q-pb-none bg-primary text-white"},{default:q(()=>[V("div",we,[k(u,{name:"visibility",size:"28px"}),a[27]||(a[27]=C(" Student View Preview "))]),k(J),$(k(l,{icon:"close",flat:"",round:"",dense:""},null,512),[[v]])]),_:1}),k(m,{class:"q-pa-none",style:{height:"calc(100vh - 60px)"}},{default:q(()=>[k(te,{presentation:{...w.value,name:"Preview: "+w.value.name},sections:le.value,slides:Se.value,"is-preview":!0},null,8,["presentation","sections","slides"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},[["__scopeId","data-v-d80e67c2"]]);export{be as default};
