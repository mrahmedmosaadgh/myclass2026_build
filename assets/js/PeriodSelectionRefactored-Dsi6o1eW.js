import{f as e}from"./app-BB4Fw2oM.js";import{Q as l}from"./QSelect-BImwntZk.js";import{u as t}from"./i18n-DE5KxGn8.js";import{a,o as s,M as o,J as u,b as r}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";const d={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},i={__name:"PeriodSelectionRefactored",props:{date:{type:String,default:()=>(new Date).toISOString().split("T")[0]},subject:{type:String,default:"Math"},semester:{type:[Number,String],default:null},week:{type:[Number,String],default:null},day:{type:[Number,String],default:null},periodNumber:{type:[Number,String],default:null},subjectOptions:{type:Array,default:()=>[{label:"Math",value:"Math"},{label:"English",value:"English"},{label:"Science",value:"Science"},{label:"Social Studies",value:"Social Studies"},{label:"PE",value:"PE"},{label:"Art",value:"Art"},{label:"Music",value:"Music"}]},semesterOptions:{type:Array,default:()=>Array.from({length:4},(e,l)=>({label:`Semester ${l+1}`,value:l+1}))},weekOptions:{type:Array,default:()=>Array.from({length:16},(e,l)=>({label:`Week ${l+1}`,value:l+1}))},dayOptions:{type:Array,default:()=>Array.from({length:7},(e,l)=>({label:`Day ${l+1}`,value:l+1}))},periodOptions:{type:Array,default:()=>Array.from({length:8},(e,l)=>({label:`Period ${l+1}`,value:l+1}))},persist:{type:Boolean,default:!1},persistKey:{type:String,default:"reward-system-last-selection"}},emits:["update:date","update:subject","update:semester","update:week","update:day","update:periodNumber","change"],setup(i,{emit:n}){t();const p=i,m=n,b=a(()=>Array.isArray(p.subjectOptions)?p.subjectOptions:[]),y=a(()=>Array.isArray(p.semesterOptions)?p.semesterOptions:[]),c=a(()=>Array.isArray(p.weekOptions)?p.weekOptions:[]),g=a(()=>Array.isArray(p.dayOptions)?p.dayOptions:[]),v=a(()=>Array.isArray(p.periodOptions)?p.periodOptions:[]),f=a({get:()=>p.date,set:e=>{m("update:date",e),N(e,"date")}}),S=a({get:()=>p.subject,set:e=>{m("update:subject",e),N(e,"subject")}}),w=a({get:()=>p.semester,set:e=>{m("update:semester",e),N(e,"semester")}}),j=a({get:()=>p.week,set:e=>{m("update:week",e),N(e,"week")}}),A=a({get:()=>p.day,set:e=>{m("update:day",e),N(e,"day")}}),h=a({get:()=>p.periodNumber,set:e=>{m("update:periodNumber",e),N(e,"periodNumber")}});function N(e,l){const t={date:p.date,subject:p.subject,semester:p.semester,week:p.week,day:p.day,periodNumber:p.periodNumber};l&&(t[l]=e),m("change",t),p.persist&&function(e){try{localStorage.setItem(p.persistKey,JSON.stringify(e))}catch(l){}}(t)}return s(()=>{p.persist&&function(){try{const e=localStorage.getItem(p.persistKey);if(!e)return;const l=JSON.parse(e),t=(new Date).toISOString().split("T")[0];null!=l.date&&p.date===t&&m("update:date",l.date),null!=l.subject&&"Math"===p.subject&&m("update:subject",l.subject),null!=l.semester&&null==p.semester&&m("update:semester",l.semester),null!=l.week&&null==p.week&&m("update:week",l.week),null!=l.day&&null==p.day&&m("update:day",l.day),null!=l.periodNumber&&null==p.periodNumber&&m("update:periodNumber",l.periodNumber)}catch(e){}}()}),(t,a)=>(u(),o("div",d,[r(e,{filled:"",modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),type:"date",label:t.$t("rewardSys.session.date"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","label"]),r(l,{filled:"",modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),options:b.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:t.$t("rewardSys.session.subject"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options","label"]),r(l,{filled:"",modelValue:w.value,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value=e),options:y.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:t.$t("rewardSys.session.semester"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options","label"]),r(l,{filled:"",modelValue:j.value,"onUpdate:modelValue":a[3]||(a[3]=e=>j.value=e),options:c.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:t.$t("rewardSys.session.week"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options","label"]),r(l,{filled:"",modelValue:A.value,"onUpdate:modelValue":a[4]||(a[4]=e=>A.value=e),options:g.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:t.$t("rewardSys.session.day"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options","label"]),r(l,{filled:"",modelValue:h.value,"onUpdate:modelValue":a[5]||(a[5]=e=>h.value=e),options:v.value,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:t.$t("rewardSys.session.periodNumber"),class:"rounded-lg bg-white",dense:""},null,8,["modelValue","options","label"])]))}};export{i as default};
