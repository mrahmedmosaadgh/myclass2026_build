import{o as e,u as s,c as l,Q as r,a,m as o,f as t,C as u,g as d,h as n,i,d as c,j as m}from"./app-Buylb2AA.js";import{Q as v}from"./QForm-Bm_VWO8S.js";import{r as f,f as p,a as _,H as b,I as g,J as h,M as y,b as C,U as q,V as x,_ as w}from"./vendor-CUZ9QTQV.js";import{_ as j}from"./AppLayout-ClCiCQFL.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const k={class:"q-pa-md"},U={class:"row items-center justify-between"},V={class:"q-gutter-sm"},S={class:"row q-col-gutter-md"},E={class:"col-12 col-md-8"},L={class:"q-mb-md"},I={class:"q-mb-md"},Q={class:"col-12 col-md-4"},z={class:"course-preview"},D={class:"text-h6 text-primary"},F={class:"text-caption text-grey-7 q-mt-xs"},M={class:"q-mt-md"},N={class:"row justify-end q-gutter-sm"},O=e({__name:"Edit",props:{course:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(e){const O=e,P=s(),$=f({name:O.course.name,description:O.course.description||""}),A=p(!1),B=_(()=>O.course.levels?O.course.levels.reduce((e,s)=>{var l;return e+((null==(l=s.sections)?void 0:l.length)||0)},0):0),G=_(()=>O.course.levels?O.course.levels.reduce((e,s)=>s.sections?e+s.sections.reduce((e,s)=>{var l;return e+((null==(l=s.lessons)?void 0:l.length)||0)},0):e,0):0),H=()=>{A.value=!0,w.put(route("course-management.courses.update",O.course.id),$,{onSuccess:()=>{P.notify({type:"positive",message:"Course updated successfully!",icon:"check_circle"})},onError:e=>{P.notify({type:"negative",message:"Please check the form for errors.",icon:"error"})},onFinish:()=>{A.value=!1}})};return(s,f)=>(g(),b(j,{title:"Edit Course"},{default:h(()=>[y("div",k,[C(o,{flat:"",bordered:""},{default:h(()=>[C(l,null,{default:h(()=>[y("div",U,[f[4]||(f[4]=y("div",null,[y("div",{class:"text-h6"},"Edit Course"),y("div",{class:"text-subtitle2"},"Update course information.")],-1)),y("div",V,[C(r,{flat:"",color:"grey-7",icon:"arrow_back",label:"Back to Course",onClick:f[0]||(f[0]=l=>s.$inertia.visit(s.route("course-management.courses.show",e.course.id)))})])])]),_:1}),C(a),C(v,{onSubmit:H,class:"q-pa-md"},{default:h(()=>[y("div",S,[y("div",E,[C(o,{flat:"",bordered:""},{default:h(()=>[C(l,null,{default:h(()=>[f[5]||(f[5]=y("div",{class:"text-subtitle1 q-mb-md"},"Course Information",-1)),y("div",L,[C(t,{modelValue:$.name,"onUpdate:modelValue":f[1]||(f[1]=e=>$.name=e),label:"Course Name *",outlined:"",error:!!e.errors.name,"error-message":e.errors.name,placeholder:"e.g., Grade 5 Mathematics"},null,8,["modelValue","error","error-message"])]),y("div",I,[C(t,{modelValue:$.description,"onUpdate:modelValue":f[2]||(f[2]=e=>$.description=e),label:"Course Description",outlined:"",type:"textarea",rows:"4",error:!!e.errors.description,"error-message":e.errors.description,placeholder:"Describe what this course covers..."},null,8,["modelValue","error","error-message"])])]),_:1})]),_:1})]),y("div",Q,[C(o,{flat:"",bordered:""},{default:h(()=>[C(l,null,{default:h(()=>[f[6]||(f[6]=y("div",{class:"text-subtitle1 q-mb-md"},"Course Preview",-1)),y("div",z,[y("div",D,q($.name||"Course Name"),1),y("div",F,q($.description||"Course description will appear here..."),1),y("div",M,[C(u,{size:"sm",color:"blue-1","text-color":"blue-8",icon:"layers"},{default:h(()=>{var s;return[x(q((null==(s=e.course.levels)?void 0:s.length)||0)+" Levels ",1)]}),_:1}),C(u,{size:"sm",color:"green-1","text-color":"green-8",icon:"menu_book",class:"q-ml-xs"},{default:h(()=>[x(q(B.value)+" Sections ",1)]),_:1})])])]),_:1})]),_:1}),C(o,{flat:"",bordered:"",class:"q-mt-md"},{default:h(()=>[C(l,null,{default:h(()=>[f[8]||(f[8]=y("div",{class:"text-subtitle1 q-mb-md"},"Course Stats",-1)),C(d,{dense:""},{default:h(()=>[C(n,null,{default:h(()=>[C(i,{avatar:""},{default:h(()=>[C(c,{name:"layers",color:"blue"})]),_:1}),C(i,null,{default:h(()=>[C(m,null,{default:h(()=>{var s;return[x(q((null==(s=e.course.levels)?void 0:s.length)||0)+" Levels",1)]}),_:1})]),_:1})]),_:1}),C(n,null,{default:h(()=>[C(i,{avatar:""},{default:h(()=>[C(c,{name:"menu_book",color:"green"})]),_:1}),C(i,null,{default:h(()=>[C(m,null,{default:h(()=>[x(q(B.value)+" Sections",1)]),_:1})]),_:1})]),_:1}),C(n,null,{default:h(()=>[C(i,{avatar:""},{default:h(()=>[C(c,{name:"school",color:"orange"})]),_:1}),C(i,null,{default:h(()=>[C(m,null,{default:h(()=>[x(q(G.value)+" Lessons",1)]),_:1})]),_:1})]),_:1}),C(n,null,{default:h(()=>[C(i,{avatar:""},{default:h(()=>[C(c,{name:"person",color:"purple"})]),_:1}),C(i,null,{default:h(()=>[C(m,null,{default:h(()=>{var s;return[x(q((null==(s=e.course.creator)?void 0:s.name)||"Unknown"),1)]}),_:1}),C(m,{caption:""},{default:h(()=>f[7]||(f[7]=[x("Creator")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),C(a,{class:"q-my-md"}),y("div",N,[C(r,{flat:"",label:"Cancel",color:"grey-7",onClick:f[3]||(f[3]=l=>s.$inertia.visit(s.route("course-management.courses.show",e.course.id)))}),C(r,{type:"submit",label:"Update Course",color:"primary",icon:"save",loading:A.value},null,8,["loading"])])]),_:1})]),_:1})])]),_:1}))}},[["__scopeId","data-v-5414ebea"]]);export{O as default};
