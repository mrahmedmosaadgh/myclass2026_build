import{f as l,a6 as e,z as a,H as o,I as s,J as c,M as t,L as n,O as d,Q as i,S as r,U as m,F as p,y as u,x as h,X as v,b as y,aa as g,V as _,$ as f}from"./vendor-EI0FRBVb.js";import{_ as b}from"./AppLayout-CE2yjlSr.js";import{_ as k}from"./InputLabel-B2bobwOZ.js";import{_ as x}from"./TextInput-BSv0fPPu.js";import{_ as V}from"./InputError-murmiSoy.js";import{_ as D}from"./PrimaryButton-D4MqeasW.js";import{_ as w}from"./ActionMessage-CE2JLlgj.js";import{_ as U}from"./Checkbox-BZbH0UIW.js";const P={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},S={class:"mb-6 border-b border-gray-200"},C={class:"-mb-px flex space-x-8","aria-label":"Tabs"},L=["onClick"],j={class:"md:grid md:grid-cols-3 md:gap-6"},E={class:"mt-5 md:mt-0 md:col-span-2 space-y-6 bg-white p-6 shadow sm:rounded-md"},M={class:"grid grid-cols-6 gap-6"},N={class:"col-span-6 sm:col-span-3"},A={class:"col-span-6 sm:col-span-3"},O={class:"col-span-6 sm:col-span-3"},R={class:"col-span-6 sm:col-span-3"},I={class:"col-span-6 sm:col-span-2"},G={class:"col-span-6 sm:col-span-2"},B={class:"col-span-6 sm:col-span-2"},T={class:"mt-2 grid grid-cols-2 gap-2"},K={class:"flex items-center"},H={class:"flex items-center"},z={class:"flex items-center"},F={class:"flex items-center"},J={key:0,class:"md:grid md:grid-cols-3 md:gap-6"},Q={class:"mt-5 md:mt-0 md:col-span-2 space-y-6 bg-white p-6 shadow sm:rounded-md"},W={class:"grid grid-cols-6 gap-6"},X={class:"col-span-6 sm:col-span-3"},Y={class:"col-span-6 sm:col-span-3"},$={class:"col-span-6 sm:col-span-3"},q={class:"col-span-6 sm:col-span-3"},Z={class:"md:grid md:grid-cols-3 md:gap-6"},ll={class:"mt-5 md:mt-0 md:col-span-2 space-y-6 bg-white p-6 shadow sm:rounded-md"},el={class:"grid grid-cols-6 gap-6"},al={class:"col-span-6 sm:col-span-3"},ol={class:"col-span-6 sm:col-span-3"},sl={class:"col-span-6 sm:col-span-3"},cl={class:"col-span-6 sm:col-span-3"},tl={class:"col-span-6"},nl={class:"md:grid md:grid-cols-3 md:gap-6"},dl={class:"mt-5 md:mt-0 md:col-span-2 space-y-8 bg-white p-6 shadow sm:rounded-md"},il={class:"space-y-4"},rl={class:"grid grid-cols-6 gap-4"},ml={class:"col-span-6 sm:col-span-4"},pl={class:"col-span-6 sm:col-span-3"},ul={class:"col-span-6 sm:col-span-3"},hl={class:"space-y-4"},vl={class:"grid grid-cols-6 gap-4"},yl={class:"col-span-6 sm:col-span-4"},gl={class:"col-span-6 sm:col-span-3"},_l={class:"col-span-6 sm:col-span-3"},fl={class:"space-y-4"},bl={class:"grid grid-cols-6 gap-4"},kl={class:"col-span-6 sm:col-span-4"},xl={class:"col-span-6 sm:col-span-3"},Vl={class:"col-span-6 sm:col-span-3"},Dl={class:"space-y-4"},wl={class:"grid grid-cols-6 gap-4"},Ul={class:"col-span-6 sm:col-span-4"},Pl={class:"col-span-6 sm:col-span-3"},Sl={class:"col-span-6 sm:col-span-3"},Cl={class:"space-y-4"},Ll={class:"grid grid-cols-6 gap-4"},jl={class:"col-span-6 sm:col-span-4"},El={class:"md:grid md:grid-cols-3 md:gap-6"},Ml={class:"mt-5 md:mt-0 md:col-span-2 space-y-6 bg-white p-6 shadow sm:rounded-md"},Nl={class:"grid grid-cols-6 gap-6"},Al={class:"col-span-6"},Ol={class:"mt-2 text-xs text-gray-500"},Rl={class:"col-span-6"},Il={key:0,class:"col-span-6"},Gl={class:"mt-2 p-4 border rounded-md flex justify-center bg-gray-50"},Bl=["src"],Tl={class:"mt-6 flex items-center justify-end px-4 py-3 bg-gray-50 text-end sm:px-6 shadow sm:rounded-md border border-gray-200"},Kl={__name:"SchoolManager",props:{school:Object},setup(Kl){var Hl,zl,Fl,Jl,Ql,Wl,Xl,Yl,$l,ql,Zl,le,ee,ae,oe,se;const ce=Kl,te=l("general"),ne=l(null),de={school_code:"",name_official:"",name_short:"",school_type:"private",education_levels:[],gender_type:"mixed",ownership_type:"private",authority:"",year_established:null,status:"active",contact:{phone_primary:"",phone_secondary:"",email_official:"",website:""},address:{country:"",region:"",city:"",district:"",street_address:"",postal_code:"",latitude:null,longitude:null},logo:{current_logo_url:"",logo_version:1,last_changed_at:null},key_personnel:{principal:{name:"",phone:"",email:""},vice_principal:{name:"",phone:"",email:""},academic_coordinator:{name:"",phone:"",email:""},admin_contact:{name:"",phone:"",email:""},emergency_contact:""}},ie=null!=(zl=null==(Hl=ce.school)?void 0:Hl.data)?zl:{},re={...de,...ie,contact:{...de.contact,...null!=(Fl=ie.contact)?Fl:{}},address:{...de.address,...null!=(Jl=ie.address)?Jl:{}},logo:{...de.logo,...null!=(Ql=ie.logo)?Ql:{}},key_personnel:{...de.key_personnel,...null!=(Wl=ie.key_personnel)?Wl:{},principal:{...de.key_personnel.principal,...null!=(Yl=null==(Xl=ie.key_personnel)?void 0:Xl.principal)?Yl:{}},vice_principal:{...de.key_personnel.vice_principal,...null!=(ql=null==($l=ie.key_personnel)?void 0:$l.vice_principal)?ql:{}},academic_coordinator:{...de.key_personnel.academic_coordinator,...null!=(le=null==(Zl=ie.key_personnel)?void 0:Zl.academic_coordinator)?le:{}},admin_contact:{...de.key_personnel.admin_contact,...null!=(ae=null==(ee=ie.key_personnel)?void 0:ee.admin_contact)?ae:{}},emergency_contact:null!=(se=null==(oe=ie.key_personnel)?void 0:oe.emergency_contact)?se:de.key_personnel.emergency_contact}},me=e({name:ce.school.name,schoolData:re,logo_file:null}),pe=l=>{var e,a,o;const s=null!=(o=null==(a=null==(e=l.target)?void 0:e.files)?void 0:a[0])?o:null;me.logo_file=s,ne.value&&URL.revokeObjectURL(ne.value),ne.value=s?URL.createObjectURL(s):null};a(()=>{ne.value&&URL.revokeObjectURL(ne.value)});const ue=()=>{me.transform(l=>({name:l.name,data:l.schoolData,logo_file:l.logo_file,_method:"PUT"})).post(route("my_school.update",ce.school.id),{preserveScroll:!0,onSuccess:()=>{}})},he=[{id:"general",name:"General Information"},{id:"contact",name:"Contact Info"},{id:"address",name:"Address"},{id:"personnel",name:"Key Personnel"},{id:"logo",name:"Logo & Branding"}];return(l,e)=>(s(),o(b,{title:"My School"},{header:c(()=>e[34]||(e[34]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," My School Management ",-1)])),default:c(()=>[t("div",P,[t("div",S,[t("nav",C,[(s(),n(p,null,i(he,l=>t("button",{key:l.id,onClick:e=>te.value=l.id,class:r([te.value===l.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},m(l.name),11,L)),64))])]),u(me).schoolData?(s(),n("form",{key:0,onSubmit:f(ue,["prevent"])},[h(t("div",null,[t("div",j,[e[41]||(e[41]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium text-gray-900"},"General Profile"),t("p",{class:"mt-1 text-sm text-gray-600"},"Core identity and classification.")],-1)),t("div",E,[t("div",M,[t("div",N,[y(k,{for:"name",value:"Display Name"}),y(x,{id:"name",modelValue:u(me).name,"onUpdate:modelValue":e[0]||(e[0]=l=>u(me).name=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),y(V,{message:u(me).errors.name,class:"mt-2"},null,8,["message"])]),t("div",A,[y(k,{for:"school_code",value:"School Code"}),y(x,{id:"school_code",modelValue:u(me).schoolData.school_code,"onUpdate:modelValue":e[1]||(e[1]=l=>u(me).schoolData.school_code=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",O,[y(k,{for:"name_official",value:"Official Name"}),y(x,{id:"name_official",modelValue:u(me).schoolData.name_official,"onUpdate:modelValue":e[2]||(e[2]=l=>u(me).schoolData.name_official=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",R,[y(k,{for:"name_short",value:"Short Name"}),y(x,{id:"name_short",modelValue:u(me).schoolData.name_short,"onUpdate:modelValue":e[3]||(e[3]=l=>u(me).schoolData.name_short=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",I,[y(k,{value:"School Type"}),h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>u(me).schoolData.school_type=l),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},e[35]||(e[35]=[t("option",{value:"public"},"Public",-1),t("option",{value:"private"},"Private",-1),t("option",{value:"international"},"International",-1)]),512),[[g,u(me).schoolData.school_type]])]),t("div",G,[y(k,{value:"Gender Type"}),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>u(me).schoolData.gender_type=l),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},e[36]||(e[36]=[t("option",{value:"boys"},"Boys",-1),t("option",{value:"girls"},"Girls",-1),t("option",{value:"mixed"},"Mixed",-1)]),512),[[g,u(me).schoolData.gender_type]])]),t("div",B,[y(k,{for:"year_established",value:"Year Established"}),y(x,{id:"year_established",modelValue:u(me).schoolData.year_established,"onUpdate:modelValue":e[6]||(e[6]=l=>u(me).schoolData.year_established=l),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"])])]),t("div",null,[y(k,{value:"Education Levels"}),t("div",T,[t("label",K,[y(U,{checked:u(me).schoolData.education_levels,"onUpdate:checked":e[7]||(e[7]=l=>u(me).schoolData.education_levels=l),value:"kg"},null,8,["checked"]),e[37]||(e[37]=t("span",{class:"ml-2 text-sm text-gray-600"},"KG",-1))]),t("label",H,[y(U,{checked:u(me).schoolData.education_levels,"onUpdate:checked":e[8]||(e[8]=l=>u(me).schoolData.education_levels=l),value:"primary"},null,8,["checked"]),e[38]||(e[38]=t("span",{class:"ml-2 text-sm text-gray-600"},"Primary",-1))]),t("label",z,[y(U,{checked:u(me).schoolData.education_levels,"onUpdate:checked":e[9]||(e[9]=l=>u(me).schoolData.education_levels=l),value:"middle"},null,8,["checked"]),e[39]||(e[39]=t("span",{class:"ml-2 text-sm text-gray-600"},"Middle",-1))]),t("label",F,[y(U,{checked:u(me).schoolData.education_levels,"onUpdate:checked":e[10]||(e[10]=l=>u(me).schoolData.education_levels=l),value:"secondary"},null,8,["checked"]),e[40]||(e[40]=t("span",{class:"ml-2 text-sm text-gray-600"},"Secondary",-1))])])])])])],512),[[v,"general"===te.value]]),h(t("div",null,[u(me).schoolData?(s(),n("div",J,[e[42]||(e[42]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Contact Details"),t("p",{class:"mt-1 text-sm text-gray-600"},"Official communication channels.")],-1)),t("div",Q,[t("div",W,[t("div",X,[y(k,{for:"phone_primary",value:"Primary Phone"}),y(x,{id:"phone_primary",modelValue:u(me).schoolData.contact.phone_primary,"onUpdate:modelValue":e[11]||(e[11]=l=>u(me).schoolData.contact.phone_primary=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",Y,[y(k,{for:"phone_secondary",value:"Secondary Phone"}),y(x,{id:"phone_secondary",modelValue:u(me).schoolData.contact.phone_secondary,"onUpdate:modelValue":e[12]||(e[12]=l=>u(me).schoolData.contact.phone_secondary=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",$,[y(k,{for:"email_official",value:"Official Email"}),y(x,{id:"email_official",modelValue:u(me).schoolData.contact.email_official,"onUpdate:modelValue":e[13]||(e[13]=l=>u(me).schoolData.contact.email_official=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",q,[y(k,{for:"website",value:"Website"}),y(x,{id:"website",modelValue:u(me).schoolData.contact.website,"onUpdate:modelValue":e[14]||(e[14]=l=>u(me).schoolData.contact.website=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])])])])])):d("",!0)],512),[[v,"contact"===te.value]]),h(t("div",null,[t("div",Z,[e[43]||(e[43]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Physical Address"),t("p",{class:"mt-1 text-sm text-gray-600"},"School location and coordinates.")],-1)),t("div",ll,[t("div",el,[t("div",al,[y(k,{for:"country",value:"Country"}),y(x,{id:"country",modelValue:u(me).schoolData.address.country,"onUpdate:modelValue":e[15]||(e[15]=l=>u(me).schoolData.address.country=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",ol,[y(k,{for:"region",value:"Region / State"}),y(x,{id:"region",modelValue:u(me).schoolData.address.region,"onUpdate:modelValue":e[16]||(e[16]=l=>u(me).schoolData.address.region=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",sl,[y(k,{for:"city",value:"City"}),y(x,{id:"city",modelValue:u(me).schoolData.address.city,"onUpdate:modelValue":e[17]||(e[17]=l=>u(me).schoolData.address.city=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",cl,[y(k,{for:"district",value:"District"}),y(x,{id:"district",modelValue:u(me).schoolData.address.district,"onUpdate:modelValue":e[18]||(e[18]=l=>u(me).schoolData.address.district=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",tl,[y(k,{for:"street_address",value:"Street Address"}),y(x,{id:"street_address",modelValue:u(me).schoolData.address.street_address,"onUpdate:modelValue":e[19]||(e[19]=l=>u(me).schoolData.address.street_address=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])])])])])],512),[[v,"address"===te.value]]),h(t("div",null,[t("div",nl,[e[49]||(e[49]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Key Personnel"),t("p",{class:"mt-1 text-sm text-gray-600"},"School leadership and coordinators.")],-1)),t("div",dl,[t("div",il,[e[44]||(e[44]=t("h4",{class:"font-bold border-b pb-2"},"Principal / School Head",-1)),t("div",rl,[t("div",ml,[y(k,{value:"Name"}),y(x,{modelValue:u(me).schoolData.key_personnel.principal.name,"onUpdate:modelValue":e[20]||(e[20]=l=>u(me).schoolData.key_personnel.principal.name=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",pl,[y(k,{value:"Phone"}),y(x,{modelValue:u(me).schoolData.key_personnel.principal.phone,"onUpdate:modelValue":e[21]||(e[21]=l=>u(me).schoolData.key_personnel.principal.phone=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",ul,[y(k,{value:"Email"}),y(x,{modelValue:u(me).schoolData.key_personnel.principal.email,"onUpdate:modelValue":e[22]||(e[22]=l=>u(me).schoolData.key_personnel.principal.email=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),t("div",hl,[e[45]||(e[45]=t("h4",{class:"font-bold border-b pb-2"},"Vice Principal",-1)),t("div",vl,[t("div",yl,[y(k,{value:"Name"}),y(x,{modelValue:u(me).schoolData.key_personnel.vice_principal.name,"onUpdate:modelValue":e[23]||(e[23]=l=>u(me).schoolData.key_personnel.vice_principal.name=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",gl,[y(k,{value:"Phone"}),y(x,{modelValue:u(me).schoolData.key_personnel.vice_principal.phone,"onUpdate:modelValue":e[24]||(e[24]=l=>u(me).schoolData.key_personnel.vice_principal.phone=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",_l,[y(k,{value:"Email"}),y(x,{modelValue:u(me).schoolData.key_personnel.vice_principal.email,"onUpdate:modelValue":e[25]||(e[25]=l=>u(me).schoolData.key_personnel.vice_principal.email=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),t("div",fl,[e[46]||(e[46]=t("h4",{class:"font-bold border-b pb-2"},"Academic Coordinator",-1)),t("div",bl,[t("div",kl,[y(k,{value:"Name"}),y(x,{modelValue:u(me).schoolData.key_personnel.academic_coordinator.name,"onUpdate:modelValue":e[26]||(e[26]=l=>u(me).schoolData.key_personnel.academic_coordinator.name=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",xl,[y(k,{value:"Phone"}),y(x,{modelValue:u(me).schoolData.key_personnel.academic_coordinator.phone,"onUpdate:modelValue":e[27]||(e[27]=l=>u(me).schoolData.key_personnel.academic_coordinator.phone=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",Vl,[y(k,{value:"Email"}),y(x,{modelValue:u(me).schoolData.key_personnel.academic_coordinator.email,"onUpdate:modelValue":e[28]||(e[28]=l=>u(me).schoolData.key_personnel.academic_coordinator.email=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),t("div",Dl,[e[47]||(e[47]=t("h4",{class:"font-bold border-b pb-2"},"Administrative Contact",-1)),t("div",wl,[t("div",Ul,[y(k,{value:"Name"}),y(x,{modelValue:u(me).schoolData.key_personnel.admin_contact.name,"onUpdate:modelValue":e[29]||(e[29]=l=>u(me).schoolData.key_personnel.admin_contact.name=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",Pl,[y(k,{value:"Phone"}),y(x,{modelValue:u(me).schoolData.key_personnel.admin_contact.phone,"onUpdate:modelValue":e[30]||(e[30]=l=>u(me).schoolData.key_personnel.admin_contact.phone=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),t("div",Sl,[y(k,{value:"Email"}),y(x,{modelValue:u(me).schoolData.key_personnel.admin_contact.email,"onUpdate:modelValue":e[31]||(e[31]=l=>u(me).schoolData.key_personnel.admin_contact.email=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])])])]),t("div",Cl,[e[48]||(e[48]=t("h4",{class:"font-bold border-b pb-2 text-red-600"},"Emergency Contact",-1)),t("div",Ll,[t("div",jl,[y(k,{value:"Emergency Contact Number"}),y(x,{modelValue:u(me).schoolData.key_personnel.emergency_contact,"onUpdate:modelValue":e[32]||(e[32]=l=>u(me).schoolData.key_personnel.emergency_contact=l),type:"text",class:"mt-1 block w-full border-red-300"},null,8,["modelValue"])])])])])])],512),[[v,"personnel"===te.value]]),h(t("div",null,[t("div",El,[e[50]||(e[50]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Logo & Branding"),t("p",{class:"mt-1 text-sm text-gray-600"},"Manage school visual identity.")],-1)),t("div",Ml,[t("div",Nl,[t("div",Al,[y(k,{for:"logo_url",value:"Logo URL"}),y(x,{id:"logo_url",modelValue:u(me).schoolData.logo.current_logo_url,"onUpdate:modelValue":e[33]||(e[33]=l=>u(me).schoolData.logo.current_logo_url=l),type:"text",class:"mt-1 block w-full",placeholder:"https://example.com/logo.png"},null,8,["modelValue"]),t("p",Ol,"Version: "+m(u(me).schoolData.logo.logo_version)+" | Last Changed: "+m(u(me).schoolData.logo.last_changed_at||"Never"),1)]),t("div",Rl,[y(k,{for:"logo_file",value:"Upload Logo"}),t("input",{id:"logo_file",type:"file",accept:"image/*",class:"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:pe},null,32)]),ne.value||u(me).schoolData.logo.current_logo_url?(s(),n("div",Il,[y(k,{value:"Preview"}),t("div",Gl,[t("img",{src:ne.value||u(me).schoolData.logo.current_logo_url,alt:"Logo Preview",class:"h-32 object-contain"},null,8,Bl)])])):d("",!0)])])])],512),[[v,"logo"===te.value]]),t("div",Tl,[y(w,{on:u(me).recentlySuccessful,class:"me-3"},{default:c(()=>e[51]||(e[51]=[_(" School details saved. ")])),_:1},8,["on"]),y(D,{class:r({"opacity-25":u(me).processing}),disabled:u(me).processing},{default:c(()=>e[52]||(e[52]=[_(" Save All Changes ")])),_:1},8,["class","disabled"])])],32)):d("",!0)])]),_:1}))}};export{Kl as default};
