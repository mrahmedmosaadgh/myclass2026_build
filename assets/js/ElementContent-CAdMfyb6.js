import{u as e}from"./presentationStore-DbZ9uug6.js";import t from"./youtube_VideoPlayer-DstVdhSA.js";import l from"./VideoPlayer-DdlD2sDY.js";import n from"./text_el-VQSOvG28.js";import{o}from"./app-C-NJhdpe.js";import{f as i,a,k as d,n as r,L as s,O as u,I as v,H as p,M as m,S as c,V as y,x as h,ab as b,a1 as g,U as f,b as w,R as x}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const k={key:0,class:"video-wrapper"},C={key:0,class:"video-display-section"},U={key:1,class:"video-controls-wrapper"},j={class:"video-controls"},S={class:"video-type-tabs"},z={class:"video-input-container"},V={class:"input-group"},T=["placeholder"],H=["disabled"],I={class:"button-text"},L={key:0,class:"video-placeholder"},M={key:1,class:"text-content"},E=o({__name:"ElementContent",props:{element:{type:Object,required:!0,default:{type:"text",content:"",visible:!0,style:{color:"#000000",backgroundColor:"#ffffff",fontSize:"16px"}}},readonly:{type:Boolean,default:!1}},emits:["update:element"],setup(o,{emit:E}){const _=e(),B=i(""),R=i(""),Y=i(null),P=o;a(()=>!P.readonly&&"video"!==P.element.type);const W=E,A=i(!1),O=e=>!!e&&(e.includes("youtube.com")||e.includes("youtu.be"));d(()=>{var e;return null==(e=P.element)?void 0:e.videoUrl},e=>{e&&(B.value=e,R.value=O(e)?"youtube":"regular")},{immediate:!0});const $=e=>{R.value=e,B.value=""},q=()=>{if(!B.value.trim())return;let e=B.value.trim();if(O(e)){const t={...P.element,videoUrl:e,videoType:"youtube"};return t.id&&_.currentSlide&&_.updateElementInCurrentSlide(t.id,t),void W("update:element",t)}e.startsWith("http")||e.startsWith("//")||(e=`/storage/${e.replace(/^\/+/,"")}`);const t={...P.element,videoUrl:e,videoType:"regular"};t.id&&_.currentSlide&&_.updateElementInCurrentSlide(t.id,t),W("update:element",t)},F=e=>{console.log("handleContentInput in ElementContent",{elementId:P.element.id,newContent:e});const t={...P.element,content:e};P.element.id&&_.currentSlide&&_.updateElementInCurrentSlide(P.element.id,t),W("update:element",t)};d(()=>{var e;return null==(e=P.element)?void 0:e.content},async e=>{var t;if(await r(),Y.value&&"video"!==(null==(t=P.element)?void 0:t.type)){const t=e||"";Y.value.innerHTML!==t&&(Y.value.innerHTML=t)}},{immediate:!0,deep:!0});const K=a(()=>!P.readonly||P.element.visible);return(e,i)=>{var a,d,r;return K.value?(v(),s("div",{key:0,class:c(["element-content",{"element-hidden":!(null==(a=o.element)?void 0:a.visible)&&!o.readonly,"video-element":"video"===o.element.type,"presentation-mode":o.readonly,"text-element":"text"===o.element.type,"hover-effect":!o.readonly,"is-editing":A.value}]),style:x({...o.element.style,opacity:(null==(d=o.element)?void 0:d.visible)||o.readonly?"1":"0.3",filter:(null==(r=o.element)?void 0:r.visible)||o.readonly?"none":"blur(10px)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:o.element.height?`${o.element.height}px`:"auto",minWidth:"text"===o.element.type?"50px":"320px",minHeight:"text"===o.element.type?"30px":"180px",display:"text"===o.element.type?"inline-block":"block"})},["video"===o.element.type?(v(),s("div",k,[o.element.videoUrl?(v(),s("div",C,[O(o.element.videoUrl)?(v(),p(t,{key:0,"video-url":o.element.videoUrl,controls:!0,muted:!1,autoplay:!1,width:o.readonly?"100%":"640",height:o.readonly?"100%":"360",class:"video-player"},null,8,["video-url","width","height"])):(v(),p(l,{key:1,"video-url":o.element.videoUrl,poster:o.element.poster||"/images/preview.jpg",width:o.readonly?"100%":"640",height:o.readonly?"100%":"360",class:"video-player"},null,8,["video-url","poster","width","height"]))])):u("",!0),o.readonly?u("",!0):(v(),s("div",U,[m("div",j,[m("div",S,[m("button",{onClick:i[0]||(i[0]=e=>$("youtube")),class:c(["tab-button",{active:"youtube"===R.value}])},i[3]||(i[3]=[m("svg",{class:"icon youtube",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[m("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})],-1),y(" YouTube ")]),2),m("button",{onClick:i[1]||(i[1]=e=>$("regular")),class:c(["tab-button",{active:"regular"===R.value}])},i[4]||(i[4]=[m("svg",{class:"icon video",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[m("path",{d:"M4 8h16v12H4zm16-2a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h3l2-2h6l2 2h3z"})],-1),y(" Video File ")]),2)]),m("div",z,[m("div",V,[h(m("input",{type:"text","onUpdate:modelValue":i[2]||(i[2]=e=>B.value=e),placeholder:"youtube"===R.value?"Paste YouTube URL...":"Enter video URL or path...",class:c(["video-url-input",R.value]),onKeyup:g(q,["enter"])},null,42,T),[[b,B.value]]),m("button",{onClick:q,class:c(["submit-button",R.value]),disabled:!B.value.trim()},[m("span",I,"Add "+f("youtube"===R.value?"YouTube Video":"Video"),1),i[5]||(i[5]=m("svg",{class:"arrow-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[m("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],10,H)])])]),o.element.videoUrl?u("",!0):(v(),s("div",L,i[6]||(i[6]=[m("div",{class:"placeholder-content"},[m("div",{class:"icon-container"},[m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"placeholder-icon"},[m("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})])]),m("h3",null,"Add Video Content"),m("p",null,"Supports YouTube and video file URLs")],-1)])))]))])):(v(),s("div",M,[w(n,{content:o.element.content,readonly:o.readonly,"element-id":o.element.id,"onUpdate:content":F},null,8,["content","readonly","element-id"]),y(" element.content:"+f(o.element.content),1)]))],6)):u("",!0)}}},[["__scopeId","data-v-96adcfd7"]]);export{E as default};
