import{d as e,f as a,a as s,N as i,J as r,O as t,Q as n,y as l,a2 as o,U as u,V as d,ac as c}from"./vendor-nQjeLEvd.js";import{o as p}from"./app-B9g134Ig.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";const v={class:"fill-blank-question"},b={class:"input-container"},w=["for"],m=["id","disabled","aria-label","aria-describedby","aria-invalid"],f=["disabled","aria-label"],y=["id"],k={class:"feedback-icon"},q={class:"feedback-text"},x={key:0,class:"correct-answer-display"},A={class:"correct-answer-text"},h={key:1,class:"user-answer-display"},C={class:"user-answer-text"},$={key:2,class:"explanation-panel"},j={class:"explanation-text"},_=p(e({__name:"FillBlankQuestion",props:{question:{},selectedIndex:{},isAnswered:{type:Boolean},showFeedback:{type:Boolean}},emits:["select"],setup(e,{emit:p}){const _=e,B=p,F=a(""),I=a(!1),N=s(()=>{const e=_.question.answerOptions.find(e=>e.isCorrect);return(null==e?void 0:e.text)||""}),L=s(()=>_.isAnswered?{"input-correct":I.value,"input-incorrect":!I.value}:{}),O=()=>{if(!F.value.trim()||_.isAnswered)return;const e=F.value.trim().toLowerCase(),a=N.value.trim().toLowerCase();I.value=e===a||Q(e,a),B("select",F.value.trim())},Q=(e,a)=>{const s=e=>e.replace(/^(a|an|the)\s+/i,"").trim();return s(e)===s(a)};return(e,a)=>(r(),i("div",v,[t("div",b,[t("label",{for:`answer-input-${e.question.id}`,class:"input-label"}," Your Answer: ",8,w),l(t("input",{id:`answer-input-${e.question.id}`,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e),type:"text",class:u(["answer-input",L.value]),disabled:e.isAnswered,"aria-label":`Answer input for question ${e.question.questionNumber}`,"aria-describedby":e.isAnswered?`feedback-${e.question.id}`:void 0,"aria-invalid":e.isAnswered&&!I.value,"aria-required":!0,placeholder:"Type your answer here...",onKeydown:o(O,["enter"])},null,42,m),[[c,F.value]]),e.isAnswered?n("",!0):(r(),i("button",{key:0,type:"button",class:"submit-button",disabled:!F.value.trim(),"aria-label":`Submit answer for question ${e.question.questionNumber}`,onClick:O}," Submit Answer ",8,f))]),e.isAnswered&&e.showFeedback?(r(),i("div",{key:0,id:`feedback-${e.question.id}`,class:"feedback-section",role:"alert","aria-live":"polite"},[t("div",{class:u(["feedback-header",{correct:I.value,incorrect:!I.value}])},[t("span",k,d(I.value?"âœ“":"âœ—"),1),t("span",q,d(I.value?"Correct!":"Incorrect"),1)],2),!I.value&&N.value?(r(),i("div",x,[a[1]||(a[1]=t("div",{class:"correct-answer-label"},"Correct Answer:",-1)),t("div",A,d(N.value),1)])):n("",!0),I.value?n("",!0):(r(),i("div",h,[a[2]||(a[2]=t("div",{class:"user-answer-label"},"Your Answer:",-1)),t("div",C,d(F.value),1)])),e.question.explanation?(r(),i("div",$,[a[3]||(a[3]=t("div",{class:"explanation-label"},"ðŸ“š Explanation:",-1)),t("div",j,d(e.question.explanation),1)])):n("",!0)],8,y)):n("",!0)]))}}),[["__scopeId","data-v-88891d6e"]]);export{_ as default};
