import{F as e,G as t,R as a,e as o,H as l,I as n,J as r,K as i,L as s,M as u,E as c,N as v,O as d,P as f,S as b}from"./app-BXm70mdJ.js";import{q as h,f as p,a as m,z as g,o as q,x as C,h as y,p as w,k as _,C as k,G as T,ah as L}from"./vendor-DNM7Y6Xn.js";import{r as R}from"./rtl-Cr6c3OOr.js";let P=0;const I=["click","keydown"],B={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+P++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function S(c,v,d,f){const b=h(t,e);if(b===e)return console.error("QTab/QRouteTab component needs to be child of QTabs"),e;const{proxy:_}=w(),k=p(null),T=p(null),L=p(null),R=m(()=>!0!==c.disable&&!1!==c.ripple&&Object.assign({keyCodes:[13,32],early:!0},!0===c.ripple?{}:c.ripple)),P=m(()=>b.currentModel.value===c.name),I=m(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===P.value?" q-tab--active"+(b.tabProps.value.activeClass?" "+b.tabProps.value.activeClass:"")+(b.tabProps.value.activeColor?` text-${b.tabProps.value.activeColor}`:"")+(b.tabProps.value.activeBgColor?` bg-${b.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(c.icon&&c.label&&!1===b.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===c.noCaps||!0===b.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===c.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==f?f.linkClass.value:"")),B=m(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===b.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==c.contentClass?` ${c.contentClass}`:"")),S=m(()=>!0===c.disable||!0===b.hasFocus.value||!1===P.value&&!0===b.hasActiveTab.value?-1:c.tabindex||0);function M(e,t){var a;if(!0!==t&&!0!==(null==e?void 0:e.qAvoidFocus)&&(null==(a=k.value)||a.focus()),!0!==c.disable){if(void 0===f)return b.updateModel({name:c.name}),void d("click",e);if(!0===f.hasRouterLink.value){const t=(t={})=>{let a;const o=void 0===t.to||!0===s(t.to,c.to)?b.avoidRouteWatcher=u():null;return f.navigateToRouterLink(e,{...t,returnRouterError:!0}).catch(e=>{a=e}).then(e=>{var l;if(o===b.avoidRouteWatcher&&(b.avoidRouteWatcher=!1,void 0!==a||void 0!==e&&!0!==(null==(l=e.message)?void 0:l.startsWith("Avoided redundant navigation"))||b.updateModel({name:c.name})),!0===t.returnRouterError)return void 0!==a?Promise.reject(a):e})};return d("click",e,t),void(!0!==e.defaultPrevented&&t())}d("click",e)}else!0===(null==f?void 0:f.hasRouterLink.value)&&i(e)}function $(e){n(e,[13,32])?M(e,!0):!0!==r(e)&&e.keyCode>=35&&e.keyCode<=40&&!0!==e.altKey&&!0!==e.metaKey&&!0===b.onKbdNavigate(e.keyCode,_.$el)&&i(e),d("keydown",e)}const x={name:m(()=>c.name),rootRef:T,tabIndicatorRef:L,routeData:f};return g(()=>{b.unregisterTab(x)}),q(()=>{b.registerTab(x)}),{renderTab:function(e,t){const n={ref:T,class:I.value,tabindex:S.value,role:"tab","aria-selected":!0===P.value?"true":"false","aria-disabled":!0===c.disable?"true":void 0,onClick:M,onKeydown:$,...t};return C(y(e,n,function(){const e=b.tabProps.value.narrowIndicator,t=[],a=y("div",{ref:L,class:["q-tab__indicator",b.tabProps.value.indicatorClass]});void 0!==c.icon&&t.push(y(o,{class:"q-tab__icon",name:c.icon})),void 0!==c.label&&t.push(y("div",{class:"q-tab__label"},c.label)),!1!==c.alert&&t.push(void 0!==c.alertIcon?y(o,{class:"q-tab__alert-icon",color:!0!==c.alert?c.alert:void 0,name:c.alertIcon}):y("div",{class:"q-tab__alert"+(!0!==c.alert?` text-${c.alert}`:"")})),!0===e&&t.push(a);const n=[y("div",{class:"q-focus-helper",tabindex:-1,ref:k}),y("div",{class:B.value},l(v.default,t))];return!1===e&&n.push(a),n}()),[[a,R.value]])},$tabs:b}}function M(e,t,a){const o=!0===a?["left","right"]:["top","bottom"];return`absolute-${!0===t?o[0]:o[1]}${e?` text-${e}`:""}`}const $=["left","center","right","justify"],x=c({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>$.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:l}){const{proxy:n}=w(),{$q:r}=n,{registerTick:i}=v(),{registerTick:s}=v(),{registerTick:u}=v(),{registerTimeout:c,removeTimeout:h}=d(),{registerTimeout:q,removeTimeout:C}=d(),P=p(null),I=p(null),B=p(e.modelValue),S=p(!1),$=p(!0),x=p(!1),A=p(!1),D=[],E=p(0),N=p(!1);let W,j=null,F=null;const O=m(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:M(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),V=m(()=>{const e=E.value,t=B.value;for(let a=0;a<e;a++)if(D[a].name.value===t)return!0;return!1}),K=m(()=>`q-tabs__content--align-${!0===S.value?"left":!0===A.value?"justify":e.align}`),H=m(()=>`q-tabs row no-wrap items-center q-tabs--${!0===S.value?"":"not-"}scrollable q-tabs--${!0===e.vertical?"vertical":"horizontal"} q-tabs__arrows--${!0===e.outsideArrows?"outside":"inside"} q-tabs--mobile-with${!0===e.mobileArrows?"":"out"}-arrows`+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":"")),Q=m(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+K.value+(void 0!==e.contentClass?` ${e.contentClass}`:"")),z=m(()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),G=m(()=>!0!==e.vertical&&!0===r.lang.rtl),U=m(()=>!1===R&&!0===G.value);function X({name:t,setCurrent:a,skipEmit:o}){B.value!==t&&(!0!==o&&void 0!==e["onUpdate:modelValue"]&&l("update:modelValue",t),!0!==a&&void 0!==e["onUpdate:modelValue"]||(!function(t,a){const o=null!=t&&""!==t?D.find(e=>e.name.value===t):null,l=null!=a&&""!==a?D.find(e=>e.name.value===a):null;if(!0===he)he=!1;else if(o&&l){const t=o.tabIndicatorRef.value,a=l.tabIndicatorRef.value;null!==j&&(clearTimeout(j),j=null),t.style.transition="none",t.style.transform="none",a.style.transition="none",a.style.transform="none";const n=t.getBoundingClientRect(),r=a.getBoundingClientRect();a.style.transform=!0===e.vertical?`translate3d(0,${n.top-r.top}px,0) scale3d(1,${r.height?n.height/r.height:1},1)`:`translate3d(${n.left-r.left}px,0,0) scale3d(${r.width?n.width/r.width:1},1,1)`,u(()=>{j=setTimeout(()=>{j=null,a.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",a.style.transform="none"},70)})}l&&!0===S.value&&Z(l.rootRef.value)}(B.value,t),B.value=t))}function J(){i(()=>{P.value&&Y({width:P.value.offsetWidth,height:P.value.offsetHeight})})}function Y(t){if(void 0===z.value||null===I.value)return;const a=t[z.value.container],o=Math.min(I.value[z.value.scroll],Array.prototype.reduce.call(I.value.children,(e,t)=>e+(t[z.value.content]||0),0)),l=a>0&&o>a;S.value=l,!0===l&&s(ee),A.value=a<parseInt(e.breakpoint,10)}function Z(t){const{left:a,width:o,top:l,height:n}=I.value.getBoundingClientRect(),r=t.getBoundingClientRect();let i=!0===e.vertical?r.top-l:r.left-a;if(i<0)return I.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(i),void ee();i+=!0===e.vertical?r.height-n:r.width-o,i>0&&(I.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(i),ee())}function ee(){const t=I.value;if(null===t)return;const a=t.getBoundingClientRect(),o=!0===e.vertical?t.scrollTop:Math.abs(t.scrollLeft);!0===G.value?($.value=Math.ceil(o+a.width)<t.scrollWidth-1,x.value=o>0):($.value=o>0,x.value=!0===e.vertical?Math.ceil(o+a.height)<t.scrollHeight:Math.ceil(o+a.width)<t.scrollWidth)}function te(e){null!==F&&clearInterval(F),F=setInterval(()=>{!0===function(e){const t=I.value,{get:a,set:o}=ne.value;let l=!1,n=a(t);const r=e<n?-1:1;n+=5*r,n<0?(l=!0,n=0):(-1===r&&n<=e||1===r&&n>=e)&&(l=!0,n=e);return o(t,n),ee(),l}(e)&&le()},5)}function ae(){te(!0===U.value?Number.MAX_SAFE_INTEGER:0)}function oe(){te(!0===U.value?0:Number.MAX_SAFE_INTEGER)}function le(){null!==F&&(clearInterval(F),F=null)}_(G,ee),_(()=>e.modelValue,e=>{X({name:e,setCurrent:!0,skipEmit:!0})}),_(()=>e.outsideArrows,J);const ne=m(()=>!0===U.value?{get:e=>Math.abs(e.scrollLeft),set:(e,t)=>{e.scrollLeft=-t}}:!0===e.vertical?{get:e=>e.scrollTop,set:(e,t)=>{e.scrollTop=t}}:{get:e=>e.scrollLeft,set:(e,t)=>{e.scrollLeft=t}});function re(e,t){for(const a in e)if(e[a]!==t[a])return!1;return!0}function ie(){let e=null,t={matchedLen:0,queryDiff:9999,hrefLen:0};const a=D.filter(e=>{var t;return!0===(null==(t=e.routeData)?void 0:t.hasRouterLink.value)}),{hash:o,query:l}=n.$route,r=Object.keys(l).length;for(const n of a){const a=!0===n.routeData.exact.value;if(!0!==n.routeData[!0===a?"linkIsExactActive":"linkIsActive"].value)continue;const{hash:i,query:s,matched:u,href:c}=n.routeData.resolvedLink.value,v=Object.keys(s).length;if(!0===a){if(i!==o)continue;if(v!==r||!1===re(l,s))continue;e=n.name.value;break}if(""!==i&&i!==o)continue;if(0!==v&&!1===re(s,l))continue;const d={matchedLen:u.length,queryDiff:r-v,hrefLen:c.length-i.length};if(d.matchedLen>t.matchedLen)e=n.name.value,t=d;else if(d.matchedLen===t.matchedLen){if(d.queryDiff<t.queryDiff)e=n.name.value,t=d;else if(d.queryDiff!==t.queryDiff)continue;d.hrefLen>t.hrefLen&&(e=n.name.value,t=d)}}null!==e||!0!==D.some(e=>void 0===e.routeData&&e.name.value===B.value)?X({name:e,setCurrent:!0}):he=!1}function se(e){if(h(),!0!==N.value&&null!==P.value&&e.target&&"function"==typeof e.target.closest){const t=e.target.closest(".q-tab");t&&!0===P.value.contains(t)&&(N.value=!0,!0===S.value&&Z(t))}}function ue(){c(()=>{N.value=!1},30)}function ce(){!1===de.avoidRouteWatcher?q(ie):C()}function ve(){if(void 0===W){const e=_(()=>n.$route.fullPath,ce);W=()=>{e(),W=void 0}}}const de={currentModel:B,tabProps:O,hasFocus:N,hasActiveTab:V,registerTab:function(e){D.push(e),E.value++,J(),void 0===e.routeData||void 0===n.$route?q(()=>{if(!0===S.value){const e=B.value,t=null!=e&&""!==e?D.find(t=>t.name.value===e):null;t&&Z(t.rootRef.value)}}):(ve(),!0===e.routeData.hasRouterLink.value&&ce())},unregisterTab:function(e){D.splice(D.indexOf(e),1),E.value--,J(),void 0!==W&&void 0!==e.routeData&&(!0===D.every(e=>void 0===e.routeData)&&W(),ce())},verifyRouteModel:ce,updateModel:X,onKbdNavigate:function(t,a){const o=Array.prototype.filter.call(I.value.children,e=>e===a||e.matches&&!0===e.matches(".q-tab.q-focusable")),l=o.length;if(0===l)return;if(36===t)return Z(o[0]),o[0].focus(),!0;if(35===t)return Z(o[l-1]),o[l-1].focus(),!0;const n=t===(!0===e.vertical?38:37),r=t===(!0===e.vertical?40:39),i=!0===n?-1:!0===r?1:void 0;if(void 0!==i){const e=!0===G.value?-1:1,t=o.indexOf(a)+i*e;return t>=0&&t<l&&(Z(o[t]),o[t].focus({preventScroll:!0})),!0}},avoidRouteWatcher:!1};function fe(){null!==j&&clearTimeout(j),le(),null==W||W()}let be,he;return L(t,de),g(fe),k(()=>{be=void 0!==W,fe()}),T(()=>{!0===be&&(ve(),he=!0,ce()),J()}),()=>y("div",{ref:P,class:H.value,role:"tablist",onFocusin:se,onFocusout:ue},[y(f,{onResize:Y}),y("div",{ref:I,class:Q.value,onScroll:ee},b(a.default)),y(o,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===$.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedownPassive:ae,onTouchstartPassive:ae,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le}),y(o,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===x.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedownPassive:oe,onTouchstartPassive:oe,onMouseupPassive:le,onMouseleavePassive:le,onTouchendPassive:le})])}});export{x as Q,B as a,S as b,I as u};
