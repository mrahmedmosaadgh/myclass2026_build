import{f as e,a as t,o as l,L as n,I as s,M as i,O as r,U as a,V as d,S as o,F as c,Q as u,$ as p,Z as v}from"./vendor-CUZ9QTQV.js";const x={class:"text-2xl font-bold text-gray-900"},y={class:"text-4xl font-bold text-gray-900 mb-4"},m={class:"text-xl text-gray-600"},g={class:"mt-4 text-sm text-gray-500"},b=["onClick"],f={class:"text-sm font-medium text-gray-500 uppercase tracking-wider"},h={class:"text-xs text-gray-400 uppercase"},w={class:"slide-content"},_=["innerHTML"],k={key:1,class:"flex flex-col items-center"},P={key:0,class:"text-lg font-medium mb-4"},$=["src"],T={key:2,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},L={class:"text-sm text-gray-600"},j={key:3,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},M={class:"text-sm text-gray-600"},H={key:4,class:"text-center p-8 bg-gray-50 rounded-lg w-full print:border print:border-gray-300"},D={class:"text-sm text-gray-600"},S={key:5,class:"mt-2 text-sm text-gray-500 italic"},C={key:2,class:"space-y-6"},F=["innerHTML"],q={class:"ml-4 space-y-2"},A={key:0,class:"flex gap-4"},V={key:1,class:"space-y-2"},E=["innerHTML"],I={class:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col"},N={class:"flex items-center justify-between p-6 border-b border-gray-200"},z={class:"text-sm text-gray-500 mt-1"},O={class:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50"},Q={class:"flex-1 overflow-y-auto p-8 bg-gray-50"},U={class:"bg-white rounded-lg shadow-sm p-8 max-w-3xl mx-auto"},Y={key:0},Z=["innerHTML"],B={key:1,class:"flex flex-col items-center"},G={key:0,class:"text-lg font-medium mb-4"},J=["src"],K={key:2,class:"text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300"},R={class:"text-sm text-gray-600"},W={key:3,class:"text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300"},X={class:"text-sm text-gray-600"},ee={key:4,class:"text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300"},te={class:"text-sm text-gray-600"},le={key:5,class:"mt-2 text-sm text-gray-500 italic"},ne={key:2,class:"space-y-6"},se=["innerHTML"],ie={class:"ml-4 space-y-2"},re={key:0,class:"flex gap-4"},ae={key:1,class:"space-y-2"},de=["innerHTML"],oe={__name:"LessonPrintView copy",props:{presentationId:{type:[Number,String],required:!0}},setup(oe){const ce=oe,ue=e({}),pe=e([]),ve=e(0),xe=e(!1),ye=()=>{me.value=!1,window.print()},me=e(!1),ge=t(()=>pe.value[ve.value]);return l(()=>{(async()=>{try{const e=await v.get(route("lesson-presentation.show",{id:ce.presentationId}));ue.value=e.data,pe.value=e.data.slides||[]}catch(e){console.error("Failed to load lesson:",e)}})()}),(e,t)=>{var l,v,oe,ce,be,fe,he,we,_e,ke;return s(),n("div",{class:o([me.value?"":"min-h-screen p-8 print:p-0","bg-white"])},[i("div",{class:o([me.value?"no-print":"print:hidden","max-w-4xl mx-auto mb-8 flex justify-between items-center"])},[i("h1",x,a(ue.value.name),1),i("button",{onClick:ye,class:"no-print inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[4]||(t[4]=[i("i",{class:"fas fa-print mr-2"},null,-1),d(" Print Lesson ")]))],2),i("div",{class:o(me.value?"":"max-w-4xl mx-auto space-y-8 print:w-full print:max-w-none print:space-y-8")},[i("div",{class:o([me.value?"no-print":"","text-center border-b-2 border-gray-200 pb-8 mb-12"])},[i("h1",y,a(ue.value.name),1),i("p",m,a(ue.value.description),1),i("div",g,[i("p",null,"Teacher: "+a((null==(l=ue.value.teacher)?void 0:l.name)||"N/A"),1),i("p",null,"Subject: "+a((null==(v=ue.value.subject)?void 0:v.name)||"N/A"),1),i("p",null,"Date: "+a((new Date).toLocaleDateString()),1)])],2),(s(!0),n(c,null,u(pe.value,(e,l)=>{var p,v,x,y,m,g,I,N;return s(),n("div",{class:o([me.value&&l!=ve.value?"no-print":"","slide-container relative break-inside-avoid border border-gray-200 rounded-lg p-8 print:border-0 print:p-0 print:rounded-none print:mb-0 group"]),key:e.id||l},[i("button",{onClick:e=>(e=>{var t,l,n,s,i,r,a,d;ve.value=e;const o=pe.value[e];if(!o)return;const c=window.open("","_blank","width=800,height=600");if(!c)return void alert("Please allow popups to preview the slide");let u="";if("text"===o.slide_type)u=`<div class="prose max-w-none">${(null==(t=o.slide_content)?void 0:t.text)||""}</div>`;else if(["image","video","audio","pdf"].includes(o.slide_type)){const e=(null==(l=o.slide_content)?void 0:l.title)?`<h3 class="text-lg font-medium mb-4">${o.slide_content.title}</h3>`:"",t=(null==(n=o.slide_content)?void 0:n.caption)?`<p class="mt-2 text-sm text-gray-500 italic">${o.slide_content.caption}</p>`:"";"image"===o.slide_type&&(null==(s=o.slide_content)?void 0:s.url)?u=`\n        <div class="flex flex-col items-center">\n          ${e}\n          <img src="${o.slide_content.url}" class="max-w-full h-auto rounded-lg shadow-sm" />\n          ${t}\n        </div>\n      `:"video"===o.slide_type?u=`\n        <div class="flex flex-col items-center">\n          ${e}\n          <div class="text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300">\n            <i class="fas fa-video text-4xl text-gray-400 mb-2"></i>\n            <p class="text-sm text-gray-600">Video: ${(null==(i=o.slide_content)?void 0:i.url)||""}</p>\n          </div>\n          ${t}\n        </div>\n      `:"audio"===o.slide_type?u=`\n        <div class="flex flex-col items-center">\n          ${e}\n          <div class="text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300">\n            <i class="fas fa-volume-up text-4xl text-gray-400 mb-2"></i>\n            <p class="text-sm text-gray-600">Audio: ${(null==(r=o.slide_content)?void 0:r.url)||""}</p>\n          </div>\n          ${t}\n        </div>\n      `:"pdf"===o.slide_type&&(u=`\n        <div class="flex flex-col items-center">\n          ${e}\n          <div class="text-center p-8 bg-gray-50 rounded-lg w-full border border-gray-300">\n            <i class="fas fa-file-pdf text-4xl text-gray-400 mb-2"></i>\n            <p class="text-sm text-gray-600">PDF Document: ${(null==(a=o.slide_content)?void 0:a.url)||""}</p>\n          </div>\n          ${t}\n        </div>\n      `)}else if("question"===o.slide_type){const e=(null==(d=o.slide_content)?void 0:d.questions)||[];u='<div class="space-y-6">',e.forEach((e,t)=>{u+=`\n        <div class="pl-4 border-l-4 border-blue-100">\n          <div class="font-medium text-gray-900 mb-3">${e.text||""}</div>\n          <div class="ml-4 space-y-2">\n      `,"true_false"===e.type?u+='\n          <div class="flex gap-4">\n            <div class="flex items-center">\n              <div class="w-4 h-4 border border-gray-300 rounded-full mr-2"></div> True\n            </div>\n            <div class="flex items-center">\n              <div class="w-4 h-4 border border-gray-300 rounded-full mr-2"></div> False\n            </div>\n          </div>\n        ':"multiple_choice"!==e.type&&"single_choice"!==e.type||(u+='<div class="space-y-2">',(e.options||[]).forEach(t=>{const l="single_choice"===e.type?"rounded-full":"rounded";u+=`\n            <div class="flex items-center">\n              <div class="w-4 h-4 border border-gray-300 mr-2 ${l}"></div>\n              <span>${t.text||""}</span>\n            </div>\n          `}),u+="</div>"),u+="\n          </div>\n        </div>\n      "}),u+="</div>"}c.document.write(`\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Print Preview - Slide ${e+1}</title>\n      <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">\n      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">\n      <style>\n        @media print {\n          body {\n            margin: 0;\n            padding: 20px;\n          }\n          .no-print {\n            display: none !important;\n          }\n        }\n        .prose {\n          max-width: none;\n        }\n      </style>\n    </head>\n    <body class="bg-white p-8">\n      <div class="max-w-4xl mx-auto">\n        <div class="no-print mb-6 flex justify-between items-center border-b pb-4">\n          <div>\n            <h1 class="text-2xl font-bold text-gray-900">Print Preview</h1>\n            <p class="text-sm text-gray-500">Slide ${e+1} of ${pe.value.length} - ${ue.value.name||""}</p>\n          </div>\n          <button \n            onclick="window.print()" \n            class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2"\n          >\n            <i class="fas fa-print"></i>\n            Print\n          </button>\n        </div>\n        \n        <div class="slide-content">\n          ${u}\n        </div>\n      </div>\n    </body>\n    </html>\n  `),c.document.close()})(l),class:"absolute no-print top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 print:hidden bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-3 py-2 shadow-lg flex items-center gap-2 text-sm font-medium z-10",title:"Print this slide"},t[5]||(t[5]=[i("i",{class:"fas fa-print"},null,-1),i("span",null,"Print Slide",-1)]),8,b),i("div",{class:o([me.value?"no-print":"print:hidden","flex items-center justify-between mb-6 border-b border-gray-100 pb-2"])},[i("span",f,"Slide "+a(l+1),1),i("span",h,a(e.slide_type),1)],2),i("div",w,["text"===e.slide_type?(s(),n("div",{key:0,class:"prose max-w-none",innerHTML:null==(p=e.slide_content)?void 0:p.text},null,8,_)):["image","video","audio","pdf"].includes(e.slide_type)?(s(),n("div",k,[(null==(v=e.slide_content)?void 0:v.title)?(s(),n("h3",P,a(e.slide_content.title),1)):r("",!0),"image"===e.slide_type&&(null==(x=e.slide_content)?void 0:x.url)?(s(),n("img",{key:1,src:e.slide_content.url,class:"max-w-full h-auto rounded-lg shadow-sm print:shadow-none"},null,8,$)):"video"===e.slide_type?(s(),n("div",T,[t[6]||(t[6]=i("i",{class:"fas fa-video text-4xl text-gray-400 mb-2"},null,-1)),i("p",L,"Video: "+a(null==(y=e.slide_content)?void 0:y.url),1)])):"audio"===e.slide_type?(s(),n("div",j,[t[7]||(t[7]=i("i",{class:"fas fa-volume-up text-4xl text-gray-400 mb-2"},null,-1)),i("p",M,"Audio: "+a(null==(m=e.slide_content)?void 0:m.url),1)])):"pdf"===e.slide_type?(s(),n("div",H,[t[8]||(t[8]=i("i",{class:"fas fa-file-pdf text-4xl text-gray-400 mb-2"},null,-1)),i("p",D,"PDF Document: "+a(null==(g=e.slide_content)?void 0:g.url),1)])):r("",!0),(null==(I=e.slide_content)?void 0:I.caption)?(s(),n("p",S,a(e.slide_content.caption),1)):r("",!0)])):"question"===e.slide_type?(s(),n("div",C,[(s(!0),n(c,null,u((null==(N=e.slide_content)?void 0:N.questions)||[],(e,l)=>(s(),n("div",{key:l,class:"pl-4 border-l-4 border-blue-100 print:border-gray-300"},[i("div",{class:"font-medium text-gray-900 mb-3",innerHTML:e.text},null,8,F),i("div",q,["true_false"===e.type?(s(),n("div",A,t[9]||(t[9]=[i("div",{class:"flex items-center"},[i("div",{class:"w-4 h-4 border border-gray-300 rounded-full mr-2"}),d(" True ")],-1),i("div",{class:"flex items-center"},[i("div",{class:"w-4 h-4 border border-gray-300 rounded-full mr-2"}),d(" False ")],-1)]))):"multiple_choice"===e.type||"single_choice"===e.type?(s(),n("div",V,[(s(!0),n(c,null,u(e.options,t=>(s(),n("div",{key:t.id,class:"flex items-center"},[i("div",{class:o(["w-4 h-4 border border-gray-300 mr-2","single_choice"===e.type?"rounded-full":"rounded"])},null,2),i("span",{innerHTML:t.text},null,8,E)]))),128))])):r("",!0)])]))),128))])):r("",!0)])],2)}),128))],2),xe.value?(s(),n("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 no-print",onClick:t[3]||(t[3]=p((...t)=>e.closePreview&&e.closePreview(...t),["self"]))},[i("div",I,[i("div",N,[i("div",null,[t[10]||(t[10]=i("h2",{class:"text-2xl font-bold text-gray-900"},"Print Preview",-1)),i("p",z,"Slide "+a(ve.value+1)+" of "+a(pe.value.length),1)]),i("button",{onClick:t[0]||(t[0]=(...t)=>e.closePreview&&e.closePreview(...t)),class:"text-gray-400 hover:text-gray-600 text-2xl w-8 h-8 flex items-center justify-center"}," Ã— ")]),i("div",O,[i("button",{onClick:t[1]||(t[1]=(...t)=>e.closePreview&&e.closePreview(...t)),class:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium"}," Cancel "),i("button",{onClick:t[2]||(t[2]=(...t)=>e.confirmPrint&&e.confirmPrint(...t)),class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center gap-2"},t[11]||(t[11]=[i("i",{class:"fas fa-print"},null,-1),d(" Print This Slide ")]))]),i("div",Q,[i("div",U,[ge.value?(s(),n("div",Y,["text"===ge.value.slide_type?(s(),n("div",{key:0,class:"prose max-w-none",innerHTML:null==(oe=ge.value.slide_content)?void 0:oe.text},null,8,Z)):["image","video","audio","pdf"].includes(ge.value.slide_type)?(s(),n("div",B,[(null==(ce=ge.value.slide_content)?void 0:ce.title)?(s(),n("h3",G,a(ge.value.slide_content.title),1)):r("",!0),"image"===ge.value.slide_type&&(null==(be=ge.value.slide_content)?void 0:be.url)?(s(),n("img",{key:1,src:ge.value.slide_content.url,class:"max-w-full h-auto rounded-lg shadow-sm"},null,8,J)):"video"===ge.value.slide_type?(s(),n("div",K,[t[12]||(t[12]=i("i",{class:"fas fa-video text-4xl text-gray-400 mb-2"},null,-1)),i("p",R,"Video: "+a(null==(fe=ge.value.slide_content)?void 0:fe.url),1)])):"audio"===ge.value.slide_type?(s(),n("div",W,[t[13]||(t[13]=i("i",{class:"fas fa-volume-up text-4xl text-gray-400 mb-2"},null,-1)),i("p",X,"Audio: "+a(null==(he=ge.value.slide_content)?void 0:he.url),1)])):"pdf"===ge.value.slide_type?(s(),n("div",ee,[t[14]||(t[14]=i("i",{class:"fas fa-file-pdf text-4xl text-gray-400 mb-2"},null,-1)),i("p",te,"PDF Document: "+a(null==(we=ge.value.slide_content)?void 0:we.url),1)])):r("",!0),(null==(_e=ge.value.slide_content)?void 0:_e.caption)?(s(),n("p",le,a(ge.value.slide_content.caption),1)):r("",!0)])):"question"===ge.value.slide_type?(s(),n("div",ne,[(s(!0),n(c,null,u((null==(ke=ge.value.slide_content)?void 0:ke.questions)||[],(e,l)=>(s(),n("div",{key:l,class:"pl-4 border-l-4 border-blue-100"},[i("div",{class:"font-medium text-gray-900 mb-3",innerHTML:e.text},null,8,se),i("div",ie,["true_false"===e.type?(s(),n("div",re,t[15]||(t[15]=[i("div",{class:"flex items-center"},[i("div",{class:"w-4 h-4 border border-gray-300 rounded-full mr-2"}),d(" True ")],-1),i("div",{class:"flex items-center"},[i("div",{class:"w-4 h-4 border border-gray-300 rounded-full mr-2"}),d(" False ")],-1)]))):"multiple_choice"===e.type||"single_choice"===e.type?(s(),n("div",ae,[(s(!0),n(c,null,u(e.options,t=>(s(),n("div",{key:t.id,class:"flex items-center"},[i("div",{class:o(["w-4 h-4 border border-gray-300 mr-2","single_choice"===e.type?"rounded-full":"rounded"])},null,2),i("span",{innerHTML:t.text},null,8,de)]))),128))])):r("",!0)])]))),128))])):r("",!0)])):r("",!0)])])])])):r("",!0)],2)}}};export{oe as default};
