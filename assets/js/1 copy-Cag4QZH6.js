import{Q as e}from"./QSpace-Bu8V-QDa.js";import{g as l,e as a,Q as s}from"./app-BXm70mdJ.js";import{Q as o}from"./QTd-BIxMTYzb.js";import{Q as t}from"./QTable-rnEofRem.js";import{f as r,a as u,k as d,L as i,I as n,b as m,M as p,J as c,H as v,F as f,V as b,U as w,Q as j,a1 as y}from"./vendor-DNM7Y6Xn.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";import"./QMarkupTable-Dmg3C5Wm.js";import"./QSelect-CnZtzPIC.js";import"./rtl-Cr6c3OOr.js";import"./QLinearProgress-Cix0cchl.js";import"./use-fullscreen-FlxrEg_V.js";const g={class:"q-pa-md"},V={class:"q-table__title"},Q={class:"q-mt-md row q-col-gutter-sm items-center"},k={class:"col-12 col-sm-auto"},q={class:"q-mt-md"},U={__name:"1 copy",props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]},title:{type:String,default:"Array Editor"}},emits:["update:rows"],setup(U,{emit:_}){const S=U,h=_,A=r([...S.rows]),C=r([...S.columns]),L=r([]),M=r(""),P=r({rowsPerPage:10,page:1}),T=r({}),x=()=>{T.value=C.value.reduce((e,l)=>("id"!==l.field&&(e[l.field]=""),e),{})};x();const D=u(()=>Object.values(T.value).some(e=>""!==e));d(()=>S.rows,e=>{A.value=[...e]},{deep:!0});const I=()=>{if(!D.value)return;const e={id:Date.now().toString(),...T.value};A.value.push(e),h("update:rows",A.value),x()},K=()=>{const e=L.value.map(e=>e.id);A.value=A.value.filter(l=>!e.includes(l.id)),L.value=[],h("update:rows",A.value)},O=()=>{A.value=[...S.rows],L.value=[],M.value="",h("update:rows",A.value)};return(r,u)=>(n(),i("div",g,[m(t,{rows:A.value,columns:C.value,"row-key":"id",filter:M.value,pagination:P.value,selection:"multiple",selected:L.value,"onUpdate:selected":u[1]||(u[1]=e=>L.value=e)},{top:c(()=>[p("div",V,w(U.title),1),m(e),m(l,{modelValue:M.value,"onUpdate:modelValue":u[0]||(u[0]=e=>M.value=e),dense:"",placeholder:"Search",class:"q-ml-md"},{append:c(()=>[m(a,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell":c(e=>[m(o,{props:e},{default:c(()=>[e.col.editable?(n(),v(l,{key:0,modelValue:e.row[e.col.field],"onUpdate:modelValue":[l=>e.row[e.col.field]=l,l=>(e=>{const l=A.value.findIndex(l=>l.id===e.id);-1!==l&&(A.value[l]={...e},h("update:rows",A.value))})(e.row)],dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])):(n(),i(f,{key:1},[b(w(e.row[e.col.field]),1)],64))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination","selected"]),p("div",Q,[(n(!0),i(f,null,j(C.value.filter(e=>"id"!==e.field),e=>(n(),i("div",{key:e.field,class:"col-12 col-sm-3"},[m(l,{modelValue:T.value[e.field],"onUpdate:modelValue":l=>T.value[e.field]=l,label:e.label,dense:"",onKeyup:y(I,["enter"])},null,8,["modelValue","onUpdate:modelValue","label"])]))),128)),p("div",k,[m(s,{label:"Add",color:"primary",onClick:I,disable:!D.value},null,8,["disable"])])]),p("div",q,[m(s,{label:"Delete Selected",color:"negative",onClick:K,disable:!L.value.length,class:"q-mr-sm"},null,8,["disable"]),m(s,{label:"Reset",color:"warning",onClick:O,flat:""})])]))}};export{U as default};
