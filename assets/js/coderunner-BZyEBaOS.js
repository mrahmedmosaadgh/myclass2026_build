import{o as t}from"./app-BwCflFkV.js";import{f as n,o as e,L as o,I as r,x as s,M as p,ab as a}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const c="<template>\n  <div>\n    <h1>Hello from dynamic component!</h1>\n    <button @click=\"count++\">Clicked {{ count }} times</button>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nconst count = ref(0)\n<\/script>\n",l=t({__name:"coderunner",props:{initialCode:{type:String,default:""}},setup(t){const l=t,u=n(null),i=n(l.initialCode||c);function m(){i.value=c,d()}function d(){const t=u.value,n=t.contentDocument||t.contentWindow.document,e=`\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <script type="module">\n          import { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js'\n\n          const App = {\n            template: \`${function(t){const n=t.match(/<template>([\s\S]+?)<\/template>/);return n?n[1].trim():""}(i.value)}\`,\n            setup() {\n              ${function(t){const n=t.match(/<script setup>([\s\S]+?)<\/script>/);return n?n[1].trim():""}(i.value)}\n              return { ${function(t){const n=t.match(/const\s+(\w+)/g);return n?n.map(t=>t.replace("const ","")).join(", "):""}(i.value)} }\n            }\n          }\n\n          createApp(App).mount('#app')\n        <\/script>\n      </head>\n      <body>\n        <div id="app"></div>\n      </body>\n    </html>\n  `;n.open(),n.write(e),n.close()}return e(()=>{d()}),(t,n)=>(r(),o("div",null,[s(p("textarea",{"onUpdate:modelValue":n[0]||(n[0]=t=>i.value=t),class:"w-full h-60 border p-2 mb-4 font-mono text-sm",placeholder:"Type your Vue 3 component with <template> and <script setup>..."},null,512),[[a,i.value]]),p("div",{class:"flex justify-between mb-2"},[p("button",{onClick:d,class:"px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700"},"Run"),p("button",{onClick:m,class:"px-4 py-1 bg-gray-300 text-black rounded hover:bg-gray-400"},"Reset")]),p("iframe",{ref_key:"iframeRef",ref:u,class:"w-full h-[400px] border",sandbox:"allow-scripts"},null,512)]))}},[["__scopeId","data-v-7c499c6b"]]);export{l as default};
