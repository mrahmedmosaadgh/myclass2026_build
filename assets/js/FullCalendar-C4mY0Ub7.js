import{Q as e}from"./QSpinnerDots-L0wFsY2y.js";import{o as t,n as a,p as l,j as n,Q as i,d as s,C as r,m as d,c as o,aP as u,g as c,i as v,A as m,h as g,l as y,b as p}from"./app-BB4Fw2oM.js";import{Q as f}from"./QSpace-CfcdpSpD.js";import{f as _,a as h,M as k,J as b,N as w,b as D,I as x,Q as T,K as C,W as M,F,R as $,V as S,U as A,a0 as E,S as I,y as N,o as q,e as z,z as V,x as Y,k as U,am as W}from"./vendor-DuKqz2x4.js";const j={class:"month-view"},O={class:"edit-mode-controls q-mb-md"},P={class:"days-header"},Q={class:"month-grid"},B=["onClick"],H={class:"day-header"},L={class:"events-container"},R=["onClick"],J={class:"event-content"},K={class:"event-title"},G={class:"text-h6"},X={key:0,class:"q-mb-md"},Z={key:1},ee={key:0},te={class:"column q-gutter-xs"},ae={key:2,class:"text-center q-py-lg"},le={class:"text-body2 text-grey-5"},ne=t({__name:"MonthView",props:{date:{type:Date,required:!0},events:{type:Array,default:()=>[]},initialEditMode:{type:Boolean,default:!1}},emits:["date-click","event-click","event-edit","event-delete","add-event","edit-mode-change"],setup(e,{emit:t}){const q=e,z=t,V=_(q.initialEditMode),Y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],U=_(!1),W=_(null),ne=_(!1),ie=_(null),se=_(!1),re=e=>{if(e.is_full_day)return"All day";let t="",a="";return e.start_time&&(t="string"==typeof e.start_time&&e.start_time.includes("T")?new Date(e.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.start_time),e.end_time&&(a="string"==typeof e.end_time&&e.end_time.includes("T")?new Date(e.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.end_time),t&&a?`${t} - ${a}`:t||""},de=e=>q.events&&Array.isArray(q.events)?q.events.filter(t=>{let a;if(t.calendar&&t.calendar.date)a=new Date(t.calendar.date);else if(t.date)a=new Date(t.date);else if(t.start_time&&"string"==typeof t.start_time&&t.start_time.includes("T"))a=new Date(t.start_time.split("T")[0]);else{if(!t.start_time)return!1;a=new Date(t.start_time)}return isNaN(a.getTime())?(console.warn("Invalid date for event:",t),!1):a.getFullYear()===e.getFullYear()&&a.getMonth()===e.getMonth()&&a.getDate()===e.getDate()}):[],oe=e=>{const t={holiday:"#ef4444",meeting:"#3b82f6",exam:"#8b5cf6",activity:"#10b981",other:"#6b7280"};return t[e]||t.other},ue=h(()=>{const e=[],t=new Date(q.date.getFullYear(),q.date.getMonth(),1),a=new Date(q.date.getFullYear(),q.date.getMonth()+1,0),l=t.getDay(),n=new Date;n.setHours(0,0,0,0);const i=new Date(q.date.getFullYear(),q.date.getMonth(),0).getDate();for(let r=l-1;r>=0;r--){const t=new Date(q.date.getFullYear(),q.date.getMonth()-1,i-r);e.push({date:t,number:t.getDate(),currentMonth:!1,isToday:t.getTime()===n.getTime(),isWeekend:0===t.getDay()||6===t.getDay(),events:de(t)})}for(let r=1;r<=a.getDate();r++){const t=new Date(q.date.getFullYear(),q.date.getMonth(),r);e.push({date:t,number:r,currentMonth:!0,isToday:t.getTime()===n.getTime(),isWeekend:0===t.getDay()||6===t.getDay(),events:de(t)})}const s=42-e.length;for(let r=1;r<=s;r++){const t=new Date(q.date.getFullYear(),q.date.getMonth()+1,r);e.push({date:t,number:r,currentMonth:!1,isToday:t.getTime()===n.getTime(),isWeekend:0===t.getDay()||6===t.getDay(),events:de(t)})}return e}),ce=e=>{W.value=e,U.value=!0},ve=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),me=()=>{V.value&&W.value&&(z("add-event",W.value.date),U.value=!1)},ge=async()=>{if(ie.value){se.value=!0;try{z("event-delete",ie.value),ne.value=!1,U.value=!1,ie.value=null}finally{se.value=!1}}};return(e,t)=>(b(),k("div",j,[w("div",O,[D(a,{modelValue:V.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>V.value=e),t[1]||(t[1]=t=>e.$emit("edit-mode-change",V.value))],label:"Edit Mode",color:"primary",icon:"edit"},null,8,["modelValue"]),V.value?T("",!0):(b(),x(l,{key:0,class:"bg-grey-8"},{default:C(()=>t[4]||(t[4]=[M(" Enable edit mode to add or modify events ")])),_:1}))]),D(d,{class:"month-card",flat:"",bordered:""},{default:C(()=>[w("div",P,[(b(),k(F,null,$(Y,e=>w("div",{key:e,class:"day-name"},[D(n,{class:"text-weight-medium text-grey-2"},{default:C(()=>[M(S(e),1)]),_:2},1024)])),64))]),w("div",Q,[(b(!0),k(F,null,$(ue.value,(e,t)=>(b(),k("div",{key:t,class:A(["day-cell",{"current-month":e.currentMonth,today:e.isToday,"has-events":e.events.length>0,weekend:e.isWeekend,"edit-mode":V.value}]),onClick:t=>{return a=e.date,void(V.value&&z("date-click",a));var a}},[w("div",H,[w("div",{class:A(["day-number",{"today-number":e.isToday}])},S(e.number),3),V.value&&e.currentMonth?(b(),x(i,{key:0,flat:"",round:"",dense:"",size:"sm",icon:"add",color:"primary",class:"add-event-btn",onClick:E(t=>{return a=e.date,void(V.value&&z("add-event",a));var a},["stop"])},{default:C(()=>[D(l,{class:"bg-primary"},{default:C(()=>[M(" Add event on "+S(ve(e.date)),1)]),_:2},1024)]),_:2},1032,["onClick"])):T("",!0)]),w("div",L,[(b(!0),k(F,null,$(e.events.slice(0,3),(t,a)=>(b(),k("div",{key:a,class:"event-pill",style:I({backgroundColor:oe(t.type)}),onClick:E(t=>ce(e),["stop"])},[w("div",J,[w("span",K,S(t.title),1)])],12,R))),128)),e.events.length>3?(b(),x(r,{key:0,dense:"",color:"grey-4","text-color":"grey-8",class:"more-events-chip",clickable:"",onClick:E(t=>ce(e),["stop"])},{default:C(()=>[D(s,{name:"more_horiz",size:"xs",class:"q-mr-xs"}),M(" +"+S(e.events.length-3)+" more ",1)]),_:2},1032,["onClick"])):e.events.length>3?(b(),x(r,{key:1,dense:"",color:"primary","text-color":"white",class:"view-events-chip",clickable:"",onClick:E(t=>ce(e),["stop"])},{default:C(()=>[D(s,{name:"visibility",size:"xs",class:"q-mr-xs"}),M(" View "+S(e.events.length)+" event"+S(e.events.length>1?"s":""),1)]),_:2},1032,["onClick"])):T("",!0)])],10,B))),128))])]),_:1}),D(p,{modelValue:U.value,"onUpdate:modelValue":t[2]||(t[2]=e=>U.value=e),persistent:""},{default:C(()=>[D(d,{style:{"min-width":"500px","max-width":"600px"}},{default:C(()=>[D(o,{class:"row items-center"},{default:C(()=>[D(s,{name:"event",color:"primary",size:"md",class:"q-mr-sm"}),w("div",G," Events for "+S(W.value?ve(W.value.date):""),1),D(f),N(D(i,{icon:"close",flat:"",round:"",dense:""},null,512),[[u]])]),_:1}),D(o,null,{default:C(()=>{var e;return[V.value?(b(),k("div",X,[D(i,{color:"primary",icon:"add",label:"Add New Event",onClick:me,class:"full-width"})])):T("",!0),(null==(e=W.value)?void 0:e.events)&&W.value.events.length>0?(b(),k("div",Z,[D(c,{separator:""},{default:C(()=>[(b(!0),k(F,null,$(W.value.events,(e,a)=>(b(),x(g,{key:a,class:"event-item-dialog"},{default:C(()=>[D(v,{avatar:""},{default:C(()=>[D(m,{color:oe(e.type),"text-color":"white",size:"md"},{default:C(()=>[D(s,{name:"event"})]),_:2},1032,["color"])]),_:2},1024),D(v,null,{default:C(()=>[D(n,{class:"text-weight-medium"},{default:C(()=>[M(S(e.title),1)]),_:2},1024),D(n,{caption:"",class:"text-grey-7"},{default:C(()=>[M(S(re(e))+" ",1),e.location?(b(),k("span",ee," â€¢ "+S(e.location),1)):T("",!0)]),_:2},1024),e.description?(b(),x(n,{key:0,caption:"",class:"text-grey-6 q-mt-xs"},{default:C(()=>[M(S(e.description),1)]),_:2},1024)):T("",!0),D(r,{color:oe(e.type),"text-color":"white",size:"sm",class:"q-mt-xs"},{default:C(()=>[M(S(e.type),1)]),_:2},1032,["color"])]),_:2},1024),V.value?(b(),x(v,{key:0,side:""},{default:C(()=>[w("div",te,[D(i,{flat:"",round:"",dense:"",size:"sm",icon:"edit",color:"primary",onClick:t=>(e=>{V.value&&(z("event-edit",e),U.value=!1)})(e)},{default:C(()=>[D(l,null,{default:C(()=>t[5]||(t[5]=[M("Edit Event")])),_:1})]),_:2},1032,["onClick"]),D(i,{flat:"",round:"",dense:"",size:"sm",icon:"delete",color:"negative",onClick:t=>(e=>{V.value&&(ie.value=e,ne.value=!0)})(e)},{default:C(()=>[D(l,null,{default:C(()=>t[6]||(t[6]=[M("Delete Event")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)):T("",!0)]),_:2},1024))),128))]),_:1})])):(b(),k("div",ae,[D(s,{name:"event_busy",size:"3rem",color:"grey-4"}),t[7]||(t[7]=w("div",{class:"text-h6 text-grey-6 q-mt-md"},"No events scheduled",-1)),w("div",le,S(V.value?'Click "Add New Event" to create one':"Enable edit mode to add events"),1)]))]}),_:1}),D(y,{align:"right",class:"q-pa-md"},{default:C(()=>[N(D(i,{flat:"",label:"Close",color:"primary"},null,512),[[u]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),D(p,{modelValue:ne.value,"onUpdate:modelValue":t[3]||(t[3]=e=>ne.value=e),persistent:""},{default:C(()=>[D(d,null,{default:C(()=>[D(o,{class:"row items-center"},{default:C(()=>[D(m,{icon:"warning",color:"negative","text-color":"white"}),t[8]||(t[8]=w("span",{class:"q-ml-sm text-h6"},"Confirm Deletion",-1))]),_:1}),D(o,null,{default:C(()=>{var e;return[M(' Are you sure you want to delete the event "'+S(null==(e=ie.value)?void 0:e.title)+'"? ',1),t[9]||(t[9]=w("br",null,null,-1)),t[10]||(t[10]=w("span",{class:"text-caption text-grey-6"},"This action cannot be undone.",-1))]}),_:1}),D(y,{align:"right"},{default:C(()=>[N(D(i,{flat:"",label:"Cancel",color:"primary"},null,512),[[u]]),D(i,{flat:"",label:"Delete",color:"negative",onClick:ge,loading:se.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},[["__scopeId","data-v-d4ef26ec"]]),ie={class:"week-view flex flex-col h-full"},se={class:"week-header grid grid-cols-8 border-b"},re={class:"font-medium"},de={class:"time-grid flex-grow overflow-y-auto"},oe={class:"relative"},ue={class:"hour-label p-1 text-xs text-gray-500 text-right pr-2 border-r"},ce=["onClick"],ve=["onClick"],me=["onClick"],ge={class:"font-medium truncate"},ye={class:"text-xs truncate"},pe=t({__name:"WeekView",props:{date:{type:Date,required:!0},events:{type:Array,default:()=>[]}},setup(e){const t=e,a=Array.from({length:24},(e,t)=>t),l=_(0);let n=null;const i=h(()=>{const e=[],a=new Date(t.date);a.setDate(a.getDate()-a.getDay());const l=new Date;l.setHours(0,0,0,0);for(let t=0;t<7;t++){const n=new Date(a);n.setDate(n.getDate()+t);const i=n.getTime()===l.getTime(),s=d(n);e.push({date:n,isToday:i,events:s,dayName:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getDay()],dayNumber:n.getDate()})}return e}),s=e=>`${e%12||12} ${e>=12?"PM":"AM"}`,r=e=>{if(!e)return"";const[t,a]=e.split(":"),l=parseInt(t,10);return`${l%12||12}:${a} ${l>=12?"PM":"AM"}`},d=e=>t.events&&Array.isArray(t.events)?t.events.filter(t=>{let a;if(t.calendar&&t.calendar.date)a=new Date(t.calendar.date);else if(t.start_time&&t.start_time.includes("T"))a=new Date(t.start_time.split("T")[0]);else if(t.date)a=new Date(t.date);else{if(!t.start_time)return!1;a=new Date(t.start_time)}return isNaN(a.getTime())?(console.warn("Invalid date for event:",t),!1):a.getFullYear()===e.getFullYear()&&a.getMonth()===e.getMonth()&&a.getDate()===e.getDate()}):[],o=e=>{if(!e.start_time)return 0;let t=0,a=0;if("string"==typeof e.start_time)if(e.start_time.includes("T")){const l=e.start_time.split("T")[1];[t,a]=l.substring(0,5).split(":").map(Number)}else[t,a]=e.start_time.split(":").map(Number);return 4*(60*t+a)},u=e=>{if(!e.start_time||!e.end_time)return 60;let t=0,a=0,l=0,n=0;if("string"==typeof e.start_time)if(e.start_time.includes("T")){const l=e.start_time.split("T")[1];[t,a]=l.substring(0,5).split(":").map(Number)}else[t,a]=e.start_time.split(":").map(Number);if("string"==typeof e.end_time)if(e.end_time.includes("T")){const t=e.end_time.split("T")[1];[l,n]=t.substring(0,5).split(":").map(Number)}else[l,n]=e.end_time.split(":").map(Number);return 1*(60*l+n-(60*t+a))},c=()=>{const e=new Date,t=e.getHours(),a=e.getMinutes();l.value=2*(60*t+a)};return q(()=>{c(),n=setInterval(c,6e4)}),z(()=>{clearInterval(n)}),(e,t)=>(b(),k("div",ie,[w("div",se,[t[0]||(t[0]=w("div",{class:"p-2 border-r"},null,-1)),(b(!0),k(F,null,$(i.value,e=>{return b(),k("div",{key:e.date.toISOString(),class:A(["p-2 text-center border-r",{"bg-blue-50":e.isToday}])},[w("div",re,S((t=e.date,new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t))),1),w("div",{class:A({"font-bold text-blue-600":e.isToday})},S(e.date.getDate()),3)],2);var t}),128))]),w("div",de,[w("div",oe,[(b(!0),k(F,null,$(V(a),t=>(b(),k("div",{key:t,class:A(["hour-row grid grid-cols-8 border-b",{"bg-gray-50":t%2==0}])},[w("div",ue,S(s(t)),1),(b(!0),k(F,null,$(i.value,a=>(b(),k("div",{key:`${a.date.toISOString()}-${t}`,class:A(["day-hour-cell relative h-[60px] border-r",{"bg-blue-50":a.isToday}]),onClick:l=>e.$emit("date-click",((e,t)=>{const a=new Date(e);return a.setHours(t,0,0,0),a})(a.date,t))},null,10,ce))),128))],2))),128)),(b(!0),k(F,null,$(i.value.filter(e=>e.isToday),e=>(b(),k("div",{key:`time-indicator-${e.date.toISOString()}`,class:"current-time-indicator absolute border-t border-red-500 z-10",style:I({top:`${l.value}px`,left:`calc(${i.value.findIndex(e=>e.isToday)+1} * 12.5% + 1px)`,width:"calc(12.5% - 2px)"})},t[1]||(t[1]=[w("div",{class:"w-2 h-2 rounded-full bg-red-500 -mt-1"},null,-1)]),4))),128)),(b(!0),k(F,null,$(i.value,(t,a)=>(b(),k("div",{key:`events-${t.date.toISOString()}`,class:"day-events absolute top-0 bottom-0",style:I({left:`calc(${a+1} * 12.5% + 1px)`,width:"calc(12.5% - 2px)"})},[(b(!0),k(F,null,$(d(t.date).filter(e=>e.is_full_day),(t,a)=>(b(),k("div",{key:`all-day-${a}`,class:"all-day-event absolute p-1 text-xs rounded cursor-pointer truncate",style:I({top:"0",left:"2px",right:"2px",backgroundColor:t.color||"#3B82F6",color:"#FFFFFF",zIndex:5}),onClick:E(a=>e.$emit("event-click",t),["stop"])},S(t.title),13,ve))),128)),(b(!0),k(F,null,$(d(t.date).filter(e=>!e.is_full_day),(t,a)=>(b(),k("div",{key:`timed-${a}`,class:"timed-event absolute p-1 text-xs rounded cursor-pointer overflow-hidden",style:I({top:`${o(t)}px`,height:`${u(t)}px`,left:"2px",right:"2px",backgroundColor:t.color||"#3B82F6",color:"#FFFFFF",zIndex:5}),onClick:E(a=>e.$emit("event-click",t),["stop"])},[w("div",ge,S(t.title),1),w("div",ye,S(r(t.start_time))+" - "+S(r(t.end_time)),1)],12,me))),128))],4))),128))])])]))}},[["__scopeId","data-v-6e68013f"]]),fe={class:"day-view"},_e={class:"time-column"},he={class:"events-column"},ke={key:0,class:"all-day-section"},be={class:"all-day-events"},we=["onClick"],De=["onClick"],xe=["onClick"],Te={class:"event-title"},Ce={class:"event-time"},Me={key:0,class:"event-location"},Fe=t({__name:"DayView",props:{date:{type:Date,required:!0},events:{type:Array,default:()=>[]}},emits:["date-click","event-click"],setup(e,{emit:t}){const a=e,l=t,n=Array.from({length:17},(e,t)=>t+5),i=e=>{if(e.is_full_day)return"All day";let t="",a="";e.start_time&&(t="string"==typeof e.start_time&&e.start_time.includes("T")?e.start_time.split("T")[1].substring(0,5):e.start_time),e.end_time&&(a="string"==typeof e.end_time&&e.end_time.includes("T")?e.end_time.split("T")[1].substring(0,5):e.end_time);const l=e=>{if(!e)return"";const[t,a]=e.split(":").map(Number),l=t>=12?"PM":"AM";return`${t%12||12}:${a.toString().padStart(2,"0")} ${l}`};return t&&a?`${l(t)} - ${l(a)}`:t?l(t):""},s=e=>{if(e.is_full_day)return 40;let t=8,a=9;if(e.start_time&&"string"==typeof e.start_time){const a=e.start_time.includes("T")?e.start_time.split("T")[1].substring(0,5):e.start_time,[l,n]=a.split(":").map(Number);t=l+n/60}if(e.end_time&&"string"==typeof e.end_time){const t=e.end_time.includes("T")?e.end_time.split("T")[1].substring(0,5):e.end_time,[l,n]=t.split(":").map(Number);a=l+n/60}const l=a-t;return Math.max(40,60*l)},r=e=>{const t={holiday:"#ef4444",meeting:"#3b82f6",exam:"#8b5cf6",activity:"#10b981",other:"#6b7280"};return t[e]||t.other},d=h(()=>a.events&&Array.isArray(a.events)?a.events.filter(e=>{let t;if(e.calendar&&e.calendar.date)t=new Date(e.calendar.date);else if(e.date)t=new Date(e.date);else if(e.start_time&&"string"==typeof e.start_time&&e.start_time.includes("T"))t=new Date(e.start_time.split("T")[0]);else{if(!e.start_time)return!1;t=new Date(e.start_time)}return isNaN(t.getTime())?(console.warn("Invalid date for event:",e),!1):t.getFullYear()===a.date.getFullYear()&&t.getMonth()===a.date.getMonth()&&t.getDate()===a.date.getDate()}):[]),o=h(()=>d.value.filter(e=>e.is_full_day)),u=e=>d.value.filter(t=>{if(t.is_full_day)return!1;let a=8;if(t.start_time&&"string"==typeof t.start_time){const e=t.start_time.includes("T")?t.start_time.split("T")[1].substring(0,5):t.start_time,[l]=e.split(":").map(Number);a=l}return a===e}),c=e=>{l("event-click",e)};return(e,t)=>(b(),k("div",fe,[w("div",_e,[(b(!0),k(F,null,$(V(n),e=>(b(),k("div",{key:e,class:"time-slot"},S((e=>0===e?"12 AM":12===e?"12 PM":e<12?`${e} AM`:e-12+" PM")(e)),1))),128))]),w("div",he,[o.value.length>0?(b(),k("div",ke,[t[0]||(t[0]=w("div",{class:"all-day-label"},"All day",-1)),w("div",be,[(b(!0),k(F,null,$(o.value,(e,t)=>(b(),k("div",{key:t,class:"event-item all-day-event",style:I({backgroundColor:r(e.type)}),onClick:t=>c(e)},S(e.title),13,we))),128))])])):T("",!0),(b(!0),k(F,null,$(V(n),e=>(b(),k("div",{key:e,class:"time-slot",onClick:t=>(e=>{const t=new Date(a.date);t.setHours(e,0,0,0),l("date-click",t)})(e)},[(b(!0),k(F,null,$(u(e),(e,a)=>(b(),k("div",{key:a,class:"event-item",style:I({backgroundColor:r(e.type),height:`${s(e)}px`}),onClick:E(t=>c(e),["stop"])},[w("div",Te,S(e.title),1),w("div",Ce,S(i(e)),1),e.location?(b(),k("div",Me,[t[1]||(t[1]=w("i",{class:"material-icons location-icon"},"place",-1)),M(" "+S(e.location),1)])):T("",!0)],12,xe))),128))],8,De))),128))])]))}},[["__scopeId","data-v-13633d20"]]),$e={class:"full-calendar"},Se={class:"calendar-header flex justify-between items-center mb-4 px-4 py-2 shadow rounded bg-white"},Ae={class:"flex items-center gap-2"},Ee=["onClick"],Ie={class:"text-xl font-semibold text-gray-800"},Ne={class:"p-0 relative"},qe={key:0,class:"flex absolute top-0 justify-center items-center p-8"},ze=t({__name:"FullCalendar",props:{view:{type:String,default:"month"},date:{type:[Date,String],default:()=>new Date},events:{type:Array,default:()=>[]},initialEditMode:{type:Boolean,default:!1}},emits:["event-click","date-click","view-change","date-change","event-edit","event-delete","add-event","edit-mode-change"],setup(t,{emit:a}){const l=Y(ne),n=Y(pe),i=Y(Fe),s=t,r=a,d=_(!0),o=_(s.view),u=_((s.date,new Date(s.date))),c=["month","week","day"],v=h(()=>`${o.value}-${u.value.toISOString()}`),m=h(()=>{const e={month:"long",year:"numeric"};return"day"===o.value&&(e.day="numeric"),new Intl.DateTimeFormat("en-US",e).format(u.value)}),g=h(()=>s.events.map(e=>{const t=e.date instanceof Date?e.date.toISOString().split("T")[0]:e.date;return{id:e.id,title:e.title,description:e.description||"",type:e.type||"",is_full_day:e.allDay||e.is_full_day||!1,date:t,start_time:e.start_time||null,end_time:e.end_time||null,location:e.location||"",color:e.color||"#3B82F6",originalEvent:e}})),y=h(()=>{switch(o.value){case"week":return n;case"day":return i;default:return l}}),p=e=>r("event-click",e.originalEvent||e),f=e=>r("date-click",e),T=e=>r("event-edit",e.originalEvent||e),C=e=>r("event-delete",e.originalEvent||e),M=e=>r("add-event",e),E=e=>r("edit-mode-change",e),I=()=>{u.value=new Date,r("date-change",u.value)},N=()=>{const e=new Date(u.value);"month"===o.value&&e.setMonth(e.getMonth()-1),"week"===o.value&&e.setDate(e.getDate()-7),"day"===o.value&&e.setDate(e.getDate()-1),u.value=e,r("date-change",e)},z=()=>{const e=new Date(u.value);"month"===o.value&&e.setMonth(e.getMonth()+1),"week"===o.value&&e.setDate(e.getDate()+7),"day"===o.value&&e.setDate(e.getDate()+1),u.value=e,r("date-change",e)};U(()=>s.events,()=>{d.value=!s.events.length},{immediate:!0}),U(()=>s.view,e=>o.value=e),U(()=>s.date,e=>u.value=new Date(e)),q(()=>{d.value=!s.events.length,s.events.length&&setTimeout(()=>d.value=!1,300)});return(a,l)=>(b(),k("div",$e,[w("div",Se,[w("div",Ae,[(b(),k(F,null,$(c,e=>{return w("button",{key:e,onClick:t=>(e=>{o.value=e,r("view-change",e)})(e),class:A(["view-btn",{active:o.value===e}])},S((t=e).charAt(0).toUpperCase()+t.slice(1)),11,Ee);var t}),64))]),w("div",Ie,S(m.value),1),w("div",{class:"flex items-center gap-2"},[w("button",{onClick:N,class:"nav-btn"},"<"),w("button",{onClick:I,class:"nav-btn"},"Today"),w("button",{onClick:z,class:"nav-btn"},">")])]),w("div",Ne,[d.value?(b(),k("div",qe,[D(V(e),{color:"primary",size:"40px"}),l[0]||(l[0]=w("span",{class:"ml-3 text-gray-600"},"Loading events...",-1))])):(b(),x(W(y.value),{key:v.value,date:u.value,events:g.value,"initial-edit-mode":t.initialEditMode,onEventClick:p,onDateClick:f,onEventEdit:T,onEventDelete:C,onAddEvent:M,onEditModeChange:E},null,40,["date","events","initial-edit-mode"]))])]))}},[["__scopeId","data-v-fba4178f"]]);export{ze as F};
