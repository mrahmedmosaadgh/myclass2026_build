import{o as e,Q as a}from"./app-B77gjd5a.js";import{f as o,M as t,J as l,N as n,Q as s,b as i}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const r={class:"image-uploader"},c={key:0,class:"preview-wrapper"},d={class:"controls"},u=e({__name:"ImageUploader",emits:["uploaded"],setup(e,{emit:u}){const p=o(null),m=o(!1);let f=null;const g=u;function h(e){const a=e.target.files[0];if(!a)return;const o=new FileReader;o.onload=()=>{const e=new Image;e.onload=()=>{const a=p.value,o=a.getContext("2d"),t=Math.min(e.width,e.height),l=(e.width-t)/2,n=(e.height-t)/2,s=256;a.width=s,a.height=s,o.drawImage(e,l,n,t,t,0,0,s,s),m.value=!0},e.src=o.result},o.readAsDataURL(a)}function v(){m.value=!1,f=null}function w(){p.value.toBlob(e=>{const a=new FileReader;a.onloadend=()=>{f=a.result,g("uploaded",{blob:e,base64:f})},a.readAsDataURL(e)},"image/jpeg",.8)}return(e,o)=>(l(),t("div",r,[n("input",{type:"file",accept:"image/*",onChange:h},null,32),m.value?(l(),t("div",c,[n("canvas",{ref_key:"canvas",ref:p,class:"preview"},null,512),n("div",d,[i(a,{color:"primary",icon:"check",label:"Use Image",onClick:w}),i(a,{flat:"",color:"warning",label:"Choose Another",onClick:v})])])):s("",!0)]))}},[["__scopeId","data-v-746039c1"]]);export{u as default};
