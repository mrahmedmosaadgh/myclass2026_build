import{r as e,u as i,b as l,i as a,aS as s,k as o,Q as t,j as u,aR as n,f as r,d as v,p as c}from"./app-DlLesFGi.js";import{Q as _}from"./QBadge-IdEcTs8C.js";import{Q as d}from"./QSpace-BK_PGLKv.js";import{f as p,o as m,N as f,J as z,R as q,b as w,z as k,$ as b,O as h,V as y,K as g,y as x,I as Q,W as j,U as S,F as C,Q as M,_ as I}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const T={class:"quiz-preview"},V={class:"quiz-preview__header"},$={class:"quiz-preview__header-content"},A={class:"quiz-preview__title"},E={key:0,class:"quiz-preview__description"},N={class:"quiz-preview__header-actions"},F={class:"quiz-preview__container"},H={class:"quiz-preview__info-grid"},R={class:"quiz-preview__info-item"},D={class:"quiz-preview__info-value"},L={key:0,class:"quiz-preview__info-item"},O={class:"quiz-preview__info-value"},P={class:"quiz-preview__info-item"},U={class:"quiz-preview__info-value"},B={class:"quiz-preview__info-item"},G={class:"quiz-preview__info-value"},J={class:"quiz-preview__questions"},K={class:"quiz-preview__question-header"},W={class:"quiz-preview__question-number"},X=["innerHTML"],Y={key:0,class:"quiz-preview__options"},Z={class:"quiz-preview__option-label"},ee={class:"quiz-preview__option-text"},ie={key:1,class:"quiz-preview__explanation"},le={class:"quiz-preview__explanation-header"},ae={class:"quiz-preview__settings-list"},se={class:"quiz-preview__setting-item"},oe={class:"quiz-preview__setting-item"},te={class:"quiz-preview__setting-item"},ue={class:"quiz-preview__action-bar"},ne=e({__name:"QuizPreview",props:{quizId:Number},setup(e){const ne=i(),re=e,ve=p({name:"",description:"",questions:[],time_limit_minutes:null,shuffle_questions:!1,shuffle_options:!1,allow_review:!0}),ce=p("desktop"),_e=p(!1),de=()=>{b.visit(`/quizzes/${re.quizId}/edit`)},pe=()=>{b.visit(`/quizzes/${re.quizId}/test`)};return m(()=>{(async()=>{try{const e=await I.get(`/api/quizzes/${re.quizId}`);ve.value=e.data}catch(e){console.error("Failed to load quiz:",e),ne.notify({type:"negative",message:"Failed to load quiz",icon:"error"})}})()}),(e,i)=>(z(),f("div",T,[q("div",V,[w(l,{flat:"",round:"",icon:"arrow_back",onClick:i[0]||(i[0]=e=>k(b).visit("/quizzes"))}),q("div",$,[q("h1",A,y(ve.value.name),1),ve.value.description?(z(),f("p",E,y(ve.value.description),1)):h("",!0)]),q("div",N,[w(n,{unelevated:"",color:"primary",label:"View Mode",icon:"devices"},{default:g(()=>[w(a,null,{default:g(()=>[x((z(),Q(u,{clickable:"",onClick:i[1]||(i[1]=e=>ce.value="desktop")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"computer"})]),_:1}),w(o,null,{default:g(()=>i[5]||(i[5]=[j("Desktop")])),_:1}),"desktop"===ce.value?(z(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):h("",!0)]),_:1})),[[s]]),x((z(),Q(u,{clickable:"",onClick:i[2]||(i[2]=e=>ce.value="tablet")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"tablet"})]),_:1}),w(o,null,{default:g(()=>i[6]||(i[6]=[j("Tablet")])),_:1}),"tablet"===ce.value?(z(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):h("",!0)]),_:1})),[[s]]),x((z(),Q(u,{clickable:"",onClick:i[3]||(i[3]=e=>ce.value="mobile")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"smartphone"})]),_:1}),w(o,null,{default:g(()=>i[7]||(i[7]=[j("Mobile")])),_:1}),"mobile"===ce.value?(z(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):h("",!0)]),_:1})),[[s]])]),_:1})]),_:1}),w(l,{unelevated:"",color:"positive",label:"Start Test",icon:"play_arrow",onClick:pe})])]),q("div",F,[q("div",{class:S(["quiz-preview__viewport",`quiz-preview__viewport--${ce.value}`])},[w(v,{class:"quiz-preview__info-card"},{default:g(()=>[w(r,null,{default:g(()=>{var e,l,a;return[q("div",H,[q("div",R,[w(t,{name:"quiz",size:"24px",color:"primary"}),q("div",null,[q("div",D,y((null==(e=ve.value.questions)?void 0:e.length)||0),1),i[8]||(i[8]=q("div",{class:"quiz-preview__info-label"},"Questions",-1))])]),ve.value.time_limit_minutes?(z(),f("div",L,[w(t,{name:"schedule",size:"24px",color:"warning"}),q("div",null,[q("div",O,y(ve.value.time_limit_minutes),1),i[9]||(i[9]=q("div",{class:"quiz-preview__info-label"},"Minutes",-1))])])):h("",!0),q("div",P,[w(t,{name:"school",size:"24px",color:"info"}),q("div",null,[q("div",U,y((null==(l=ve.value.grade)?void 0:l.name)||"N/A"),1),i[10]||(i[10]=q("div",{class:"quiz-preview__info-label"},"Grade",-1))])]),q("div",B,[w(t,{name:"book",size:"24px",color:"positive"}),q("div",null,[q("div",G,y((null==(a=ve.value.subject)?void 0:a.name)||"N/A"),1),i[11]||(i[11]=q("div",{class:"quiz-preview__info-label"},"Subject",-1))])])])]}),_:1})]),_:1}),q("div",J,[i[13]||(i[13]=q("h3",{class:"quiz-preview__section-title"},"Questions Preview",-1)),(z(!0),f(C,null,M(ve.value.questions,(e,l)=>(z(),f("div",{key:e.id,class:"quiz-preview__question-card"},[w(v,null,{default:g(()=>[w(r,null,{default:g(()=>{return[q("div",K,[q("div",W," Question "+y(l+1),1),w(_,{color:(a=e.difficulty,{Easy:"positive",Medium:"warning",Hard:"negative"}[a]||"info"),label:e.difficulty||"Medium"},null,8,["color","label"])]),q("div",{class:"quiz-preview__question-text",innerHTML:e.question_text},null,8,X),e.options&&e.options.length?(z(),f("div",Y,[(z(!0),f(C,null,M(e.options,(e,i)=>(z(),f("div",{key:e.id,class:S(["quiz-preview__option",{"quiz-preview__option--correct":_e.value&&e.is_correct}])},[q("div",Z,y(String.fromCharCode(65+i)),1),q("div",ee,y(e.option_text),1),_e.value&&e.is_correct?(z(),Q(t,{key:0,name:"check_circle",color:"positive",size:"20px"})):h("",!0)],2))),128))])):h("",!0),_e.value&&e.explanation?(z(),f("div",ie,[q("div",le,[w(t,{name:"lightbulb",color:"warning"}),i[12]||(i[12]=q("strong",null,"Explanation",-1))]),q("p",null,y(e.explanation),1)])):h("",!0)];var a}),_:2},1024)]),_:2},1024)]))),128))]),w(v,{class:"quiz-preview__settings-card"},{default:g(()=>[w(r,null,{default:g(()=>[i[17]||(i[17]=q("h4",null,"Quiz Settings",-1)),q("div",ae,[q("div",se,[w(t,{name:ve.value.shuffle_questions?"check_circle":"cancel",color:ve.value.shuffle_questions?"positive":"grey"},null,8,["name","color"]),i[14]||(i[14]=q("span",null,"Shuffle Questions",-1))]),q("div",oe,[w(t,{name:ve.value.shuffle_options?"check_circle":"cancel",color:ve.value.shuffle_options?"positive":"grey"},null,8,["name","color"]),i[15]||(i[15]=q("span",null,"Shuffle Options",-1))]),q("div",te,[w(t,{name:ve.value.allow_review?"check_circle":"cancel",color:ve.value.allow_review?"positive":"grey"},null,8,["name","color"]),i[16]||(i[16]=q("span",null,"Allow Review",-1))])])]),_:1})]),_:1})],2)]),q("div",ue,[w(c,{modelValue:_e.value,"onUpdate:modelValue":i[4]||(i[4]=e=>_e.value=e),label:"Show Answers",color:"primary"},null,8,["modelValue"]),w(d),w(l,{flat:"",label:"Edit Quiz",icon:"edit",onClick:de}),w(l,{unelevated:"",color:"primary",label:"Start Test",icon:"play_arrow",onClick:pe})])]))}},[["__scopeId","data-v-ca56802a"]]);export{ne as default};
