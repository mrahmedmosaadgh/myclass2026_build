import{d as e,f as a,a as s,L as i,I as r,M as t,O as n,x as l,a1 as o,S as u,U as d,ab as c}from"./vendor-EI0FRBVb.js";import{p}from"./app-DXXarK7I.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";const v={class:"fill-blank-question"},b={class:"input-container"},w=["for"],m=["id","disabled","aria-label","aria-describedby","aria-invalid"],f=["disabled","aria-label"],k=["id"],q={class:"feedback-icon"},y={class:"feedback-text"},x={key:0,class:"correct-answer-display"},A={class:"correct-answer-text"},h={key:1,class:"user-answer-display"},C={class:"user-answer-text"},$={key:2,class:"explanation-panel"},j={class:"explanation-text"},I=p(e({__name:"FillBlankQuestion",props:{question:{},selectedIndex:{},isAnswered:{type:Boolean},showFeedback:{type:Boolean}},emits:["select"],setup(e,{emit:p}){const I=e,_=p,B=a(""),F=a(!1),L=s(()=>{const e=I.question.answerOptions.find(e=>e.isCorrect);return(null==e?void 0:e.text)||""}),S=s(()=>I.isAnswered?{"input-correct":F.value,"input-incorrect":!F.value}:{}),N=()=>{if(!B.value.trim()||I.isAnswered)return;const e=B.value.trim().toLowerCase(),a=L.value.trim().toLowerCase();F.value=e===a||O(e,a),_("select",B.value.trim())},O=(e,a)=>{const s=e=>e.replace(/^(a|an|the)\s+/i,"").trim();return s(e)===s(a)};return(e,a)=>(r(),i("div",v,[t("div",b,[t("label",{for:`answer-input-${e.question.id}`,class:"input-label"}," Your Answer: ",8,w),l(t("input",{id:`answer-input-${e.question.id}`,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e),type:"text",class:u(["answer-input",S.value]),disabled:e.isAnswered,"aria-label":`Answer input for question ${e.question.questionNumber}`,"aria-describedby":e.isAnswered?`feedback-${e.question.id}`:void 0,"aria-invalid":e.isAnswered&&!F.value,"aria-required":!0,placeholder:"Type your answer here...",onKeydown:o(N,["enter"])},null,42,m),[[c,B.value]]),e.isAnswered?n("",!0):(r(),i("button",{key:0,type:"button",class:"submit-button",disabled:!B.value.trim(),"aria-label":`Submit answer for question ${e.question.questionNumber}`,onClick:N}," Submit Answer ",8,f))]),e.isAnswered&&e.showFeedback?(r(),i("div",{key:0,id:`feedback-${e.question.id}`,class:"feedback-section",role:"alert","aria-live":"polite"},[t("div",{class:u(["feedback-header",{correct:F.value,incorrect:!F.value}])},[t("span",q,d(F.value?"âœ“":"âœ—"),1),t("span",y,d(F.value?"Correct!":"Incorrect"),1)],2),!F.value&&L.value?(r(),i("div",x,[a[1]||(a[1]=t("div",{class:"correct-answer-label"},"Correct Answer:",-1)),t("div",A,d(L.value),1)])):n("",!0),F.value?n("",!0):(r(),i("div",h,[a[2]||(a[2]=t("div",{class:"user-answer-label"},"Your Answer:",-1)),t("div",C,d(B.value),1)])),e.question.explanation?(r(),i("div",$,[a[3]||(a[3]=t("div",{class:"explanation-label"},"ðŸ“š Explanation:",-1)),t("div",j,d(e.question.explanation),1)])):n("",!0)],8,k)):n("",!0)]))}}),[["__scopeId","data-v-88891d6e"]]);export{I as default};
