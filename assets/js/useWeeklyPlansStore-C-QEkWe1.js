import{Z as e}from"./vendor-nQjeLEvd.js";import{u as t}from"./schoolData-B8mO1d2r.js";const s=e("weekly-plans",{state:()=>({weekNumber:1,maxWeeks:18,currentWeek:1}),getters:{selectedCopyId:()=>t().scheduleCopyId,selectedSchoolId:()=>t().schoolId,selectedAcademicYearId:()=>t().academicYearId,semesterNumber:()=>{const e=t();if(e.semesterName){const t=e.semesterName.match(/\d+/);return t?parseInt(t[0]):1}return 1},activeCopies:()=>t().scheduleCopies||[]},actions:{setWeekNumber(e){this.weekNumber=e},calculateCurrentWeek(){const e=new Date,t=new Date(e.getFullYear(),0,1),s=Math.ceil(((e-t)/864e5+t.getDay()+1)/7);this.currentWeek=s,this.currentWeek>this.maxWeeks?this.weekNumber=1:this.weekNumber=this.currentWeek},async fetchActiveCopies(){var e;const s=t();!(null==(e=s.scheduleCopies)?void 0:e.length)&&s.schoolId&&await s.fetchOptionsForSchool(s.schoolId)}}});export{s as u};
