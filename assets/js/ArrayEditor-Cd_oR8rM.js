import{f as e,Q as l}from"./app-ggGwxJON.js";import{Q as o}from"./QTd-D6gdMIVj.js";import{Q as a}from"./QTable-D7jFdT1k.js";import{f as r,N as s,J as t,b as i,O as n,K as d,I as u,F as m,W as p,V as c,a2 as f}from"./vendor-nQjeLEvd.js";import"./offline-BzIlwqNM.js";import"./i18n-kquWfmcz.js";import"./ui-Bfjdq-TR.js";import"./QMarkupTable-BbwJTHXP.js";import"./QSelect-DOo83gJW.js";import"./rtl-Cr6c3OOr.js";import"./QLinearProgress-DJHuJoTJ.js";import"./use-fullscreen-DuZ9ifcT.js";const b={class:"q-pa-md"},w={class:"q-mt-md"},v={class:"q-mt-md"},j={__name:"ArrayEditor",props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]}},emits:["update:rows"],setup(j,{emit:g}){const y=j,Q=g,V=r({label:""}),k=r(""),q=r({page:1,rowsPerPage:5});function A(){if(""!==V.value.label.trim()){const e={id:Date.now().toString(),label:V.value.label},l=[...y.rows,e];Q("update:rows",l),V.value.label=""}}function P(){const e=y.rows.filter(e=>e.selected).map(e=>e.id),l=y.rows.filter(l=>!e.includes(l.id));Q("update:rows",l)}function U({pagination:e,filter:l}){console.log("Pagination:",e,"Filter:",l)}return(r,g)=>(t(),s("div",b,[i(a,{rows:j.rows,columns:j.columns,"row-key":"id",filter:k.value,pagination:q.value,onRequest:U},{"body-cell":d(l=>[i(o,{props:l},{default:d(()=>["label"===l.col.name?(t(),u(e,{key:0,modelValue:l.row.label,"onUpdate:modelValue":e=>l.row.label=e,dense:"",autofocus:"",debounce:"300",onBlur:e=>{return o=l.row,void console.log(`Updated label for item with id ${o.id}: ${o.label}`);var o}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):(t(),s(m,{key:1},[p(c(l.row[l.col.field]),1)],64))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"]),n("div",w,[i(e,{modelValue:V.value.label,"onUpdate:modelValue":g[0]||(g[0]=e=>V.value.label=e),label:"New Item",dense:"",onKeyup:f(A,["enter"])},null,8,["modelValue"]),i(l,{label:"Add Item",color:"primary",onClick:A})]),n("div",v,[i(l,{label:"Remove Selected",color:"negative",onClick:P})])]))}};export{j as default};
