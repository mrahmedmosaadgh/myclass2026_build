import{o as e,u as i,Q as l,g as a,aP as s,i as o,d as t,h as u,aO as n,c as r,m as v,n as c}from"./app-BwCflFkV.js";import{Q as _}from"./QBadge-CShv2hr3.js";import{Q as d}from"./QSpace-CtVAwmqA.js";import{f as p,o as m,L as f,I as q,M as z,b as w,y as b,_ as h,O as k,U as y,J as g,x,H as Q,V as S,S as j,F as C,Q as M,Z as I}from"./vendor-CUZ9QTQV.js";import"./offline-BzIlwqNM.js";import"./i18n-CP46N9fu.js";import"./ui-LrZmvB2D.js";const T={class:"quiz-preview"},V={class:"quiz-preview__header"},A={class:"quiz-preview__header-content"},H={class:"quiz-preview__title"},$={key:0,class:"quiz-preview__description"},E={class:"quiz-preview__header-actions"},F={class:"quiz-preview__container"},L={class:"quiz-preview__info-grid"},N={class:"quiz-preview__info-item"},O={class:"quiz-preview__info-value"},P={key:0,class:"quiz-preview__info-item"},R={class:"quiz-preview__info-value"},U={class:"quiz-preview__info-item"},B={class:"quiz-preview__info-value"},D={class:"quiz-preview__info-item"},G={class:"quiz-preview__info-value"},J={class:"quiz-preview__questions"},Z={class:"quiz-preview__question-header"},K={class:"quiz-preview__question-number"},W=["innerHTML"],X={key:0,class:"quiz-preview__options"},Y={class:"quiz-preview__option-label"},ee={class:"quiz-preview__option-text"},ie={key:1,class:"quiz-preview__explanation"},le={class:"quiz-preview__explanation-header"},ae={class:"quiz-preview__settings-list"},se={class:"quiz-preview__setting-item"},oe={class:"quiz-preview__setting-item"},te={class:"quiz-preview__setting-item"},ue={class:"quiz-preview__action-bar"},ne=e({__name:"QuizPreview",props:{quizId:Number},setup(e){const ne=i(),re=e,ve=p({name:"",description:"",questions:[],time_limit_minutes:null,shuffle_questions:!1,shuffle_options:!1,allow_review:!0}),ce=p("desktop"),_e=p(!1),de=()=>{h.visit(`/quizzes/${re.quizId}/edit`)},pe=()=>{h.visit(`/quizzes/${re.quizId}/test`)};return m(()=>{(async()=>{try{const e=await I.get(`/api/quizzes/${re.quizId}`);ve.value=e.data}catch(e){console.error("Failed to load quiz:",e),ne.notify({type:"negative",message:"Failed to load quiz",icon:"error"})}})()}),(e,i)=>(q(),f("div",T,[z("div",V,[w(l,{flat:"",round:"",icon:"arrow_back",onClick:i[0]||(i[0]=e=>b(h).visit("/quizzes"))}),z("div",A,[z("h1",H,y(ve.value.name),1),ve.value.description?(q(),f("p",$,y(ve.value.description),1)):k("",!0)]),z("div",E,[w(n,{unelevated:"",color:"primary",label:"View Mode",icon:"devices"},{default:g(()=>[w(a,null,{default:g(()=>[x((q(),Q(u,{clickable:"",onClick:i[1]||(i[1]=e=>ce.value="desktop")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"computer"})]),_:1}),w(o,null,{default:g(()=>i[5]||(i[5]=[S("Desktop")])),_:1}),"desktop"===ce.value?(q(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):k("",!0)]),_:1})),[[s]]),x((q(),Q(u,{clickable:"",onClick:i[2]||(i[2]=e=>ce.value="tablet")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"tablet"})]),_:1}),w(o,null,{default:g(()=>i[6]||(i[6]=[S("Tablet")])),_:1}),"tablet"===ce.value?(q(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):k("",!0)]),_:1})),[[s]]),x((q(),Q(u,{clickable:"",onClick:i[3]||(i[3]=e=>ce.value="mobile")},{default:g(()=>[w(o,{avatar:""},{default:g(()=>[w(t,{name:"smartphone"})]),_:1}),w(o,null,{default:g(()=>i[7]||(i[7]=[S("Mobile")])),_:1}),"mobile"===ce.value?(q(),Q(o,{key:0,side:""},{default:g(()=>[w(t,{name:"check",color:"primary"})]),_:1})):k("",!0)]),_:1})),[[s]])]),_:1})]),_:1}),w(l,{unelevated:"",color:"positive",label:"Start Test",icon:"play_arrow",onClick:pe})])]),z("div",F,[z("div",{class:j(["quiz-preview__viewport",`quiz-preview__viewport--${ce.value}`])},[w(v,{class:"quiz-preview__info-card"},{default:g(()=>[w(r,null,{default:g(()=>{var e,l,a;return[z("div",L,[z("div",N,[w(t,{name:"quiz",size:"24px",color:"primary"}),z("div",null,[z("div",O,y((null==(e=ve.value.questions)?void 0:e.length)||0),1),i[8]||(i[8]=z("div",{class:"quiz-preview__info-label"},"Questions",-1))])]),ve.value.time_limit_minutes?(q(),f("div",P,[w(t,{name:"schedule",size:"24px",color:"warning"}),z("div",null,[z("div",R,y(ve.value.time_limit_minutes),1),i[9]||(i[9]=z("div",{class:"quiz-preview__info-label"},"Minutes",-1))])])):k("",!0),z("div",U,[w(t,{name:"school",size:"24px",color:"info"}),z("div",null,[z("div",B,y((null==(l=ve.value.grade)?void 0:l.name)||"N/A"),1),i[10]||(i[10]=z("div",{class:"quiz-preview__info-label"},"Grade",-1))])]),z("div",D,[w(t,{name:"book",size:"24px",color:"positive"}),z("div",null,[z("div",G,y((null==(a=ve.value.subject)?void 0:a.name)||"N/A"),1),i[11]||(i[11]=z("div",{class:"quiz-preview__info-label"},"Subject",-1))])])])]}),_:1})]),_:1}),z("div",J,[i[13]||(i[13]=z("h3",{class:"quiz-preview__section-title"},"Questions Preview",-1)),(q(!0),f(C,null,M(ve.value.questions,(e,l)=>(q(),f("div",{key:e.id,class:"quiz-preview__question-card"},[w(v,null,{default:g(()=>[w(r,null,{default:g(()=>{return[z("div",Z,[z("div",K," Question "+y(l+1),1),w(_,{color:(a=e.difficulty,{Easy:"positive",Medium:"warning",Hard:"negative"}[a]||"info"),label:e.difficulty||"Medium"},null,8,["color","label"])]),z("div",{class:"quiz-preview__question-text",innerHTML:e.question_text},null,8,W),e.options&&e.options.length?(q(),f("div",X,[(q(!0),f(C,null,M(e.options,(e,i)=>(q(),f("div",{key:e.id,class:j(["quiz-preview__option",{"quiz-preview__option--correct":_e.value&&e.is_correct}])},[z("div",Y,y(String.fromCharCode(65+i)),1),z("div",ee,y(e.option_text),1),_e.value&&e.is_correct?(q(),Q(t,{key:0,name:"check_circle",color:"positive",size:"20px"})):k("",!0)],2))),128))])):k("",!0),_e.value&&e.explanation?(q(),f("div",ie,[z("div",le,[w(t,{name:"lightbulb",color:"warning"}),i[12]||(i[12]=z("strong",null,"Explanation",-1))]),z("p",null,y(e.explanation),1)])):k("",!0)];var a}),_:2},1024)]),_:2},1024)]))),128))]),w(v,{class:"quiz-preview__settings-card"},{default:g(()=>[w(r,null,{default:g(()=>[i[17]||(i[17]=z("h4",null,"Quiz Settings",-1)),z("div",ae,[z("div",se,[w(t,{name:ve.value.shuffle_questions?"check_circle":"cancel",color:ve.value.shuffle_questions?"positive":"grey"},null,8,["name","color"]),i[14]||(i[14]=z("span",null,"Shuffle Questions",-1))]),z("div",oe,[w(t,{name:ve.value.shuffle_options?"check_circle":"cancel",color:ve.value.shuffle_options?"positive":"grey"},null,8,["name","color"]),i[15]||(i[15]=z("span",null,"Shuffle Options",-1))]),z("div",te,[w(t,{name:ve.value.allow_review?"check_circle":"cancel",color:ve.value.allow_review?"positive":"grey"},null,8,["name","color"]),i[16]||(i[16]=z("span",null,"Allow Review",-1))])])]),_:1})]),_:1})],2)]),z("div",ue,[w(c,{modelValue:_e.value,"onUpdate:modelValue":i[4]||(i[4]=e=>_e.value=e),label:"Show Answers",color:"primary"},null,8,["modelValue"]),w(d),w(l,{flat:"",label:"Edit Quiz",icon:"edit",onClick:de}),w(l,{unelevated:"",color:"primary",label:"Start Test",icon:"play_arrow",onClick:pe})])]))}},[["__scopeId","data-v-bd87f262"]]);export{ne as default};
