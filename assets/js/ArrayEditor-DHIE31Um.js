import{g as e,Q as l}from"./app-Dccx8xF5.js";import{Q as o}from"./QTd-DLHUpL0m.js";import{Q as a}from"./QTable-D3jRDWU3.js";import{f as r,L as s,I as t,b as i,M as n,J as d,H as u,F as m,V as p,U as c,a1 as b}from"./vendor-EI0FRBVb.js";import"./offline-BzIlwqNM.js";import"./i18n-BbKXhR_S.js";import"./ui-B__oX9pK.js";import"./QMarkupTable-D7D4aY0S.js";import"./QSelect-aOnYle6d.js";import"./rtl-Cr6c3OOr.js";import"./QLinearProgress-BYmNETNA.js";import"./use-fullscreen-CBorX6t8.js";const f={class:"q-pa-md"},w={class:"q-mt-md"},v={class:"q-mt-md"},g={__name:"ArrayEditor",props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]}},emits:["update:rows"],setup(g,{emit:j}){const y=g,Q=j,V=r({label:""}),k=r(""),q=r({page:1,rowsPerPage:5});function U(){if(""!==V.value.label.trim()){const e={id:Date.now().toString(),label:V.value.label},l=[...y.rows,e];Q("update:rows",l),V.value.label=""}}function _(){const e=y.rows.filter(e=>e.selected).map(e=>e.id),l=y.rows.filter(l=>!e.includes(l.id));Q("update:rows",l)}function A({pagination:e,filter:l}){console.log("Pagination:",e,"Filter:",l)}return(r,j)=>(t(),s("div",f,[i(a,{rows:g.rows,columns:g.columns,"row-key":"id",filter:k.value,pagination:q.value,onRequest:A},{"body-cell":d(l=>[i(o,{props:l},{default:d(()=>["label"===l.col.name?(t(),u(e,{key:0,modelValue:l.row.label,"onUpdate:modelValue":e=>l.row.label=e,dense:"",autofocus:"",debounce:"300",onBlur:e=>{return o=l.row,void console.log(`Updated label for item with id ${o.id}: ${o.label}`);var o}},null,8,["modelValue","onUpdate:modelValue","onBlur"])):(t(),s(m,{key:1},[p(c(l.row[l.col.field]),1)],64))]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter","pagination"]),n("div",w,[i(e,{modelValue:V.value.label,"onUpdate:modelValue":j[0]||(j[0]=e=>V.value.label=e),label:"New Item",dense:"",onKeyup:b(U,["enter"])},null,8,["modelValue"]),i(l,{label:"Add Item",color:"primary",onClick:U})]),n("div",v,[i(l,{label:"Remove Selected",color:"negative",onClick:_})])]))}};export{g as default};
