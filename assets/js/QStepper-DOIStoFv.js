import{D as e,d as t,R as r,E as a,an as o,ao as n,S as s,T as p,U as l,G as i,V as c}from"./app-tFXAu5dG.js";import{u as v,a as u,b as d,c as f}from"./use-panel-C-DNV6UK.js";import{u as _}from"./use-render-cache-CmTcazfP.js";import{f as g,a as q,p as m,h as b,y as S,q as h,ak as C,aj as I}from"./vendor-nQjeLEvd.js";const x=e({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:a}){const{proxy:{$q:o}}=m(),n=g(null),s=q(()=>e.stepper.modelValue===e.step.name),p=q(()=>{const t=e.step.disable;return!0===t||""===t}),l=q(()=>{const t=e.step.error;return!0===t||""===t}),i=q(()=>{const t=e.step.done;return!1===p.value&&(!0===t||""===t)}),c=q(()=>{const t=e.step.headerNav,r=!0===t||""===t||void 0===t;return!1===p.value&&e.stepper.headerNav&&r}),v=q(()=>e.step.prefix&&(!1===s.value||"none"===e.stepper.activeIcon)&&(!1===l.value||"none"===e.stepper.errorIcon)&&(!1===i.value||"none"===e.stepper.doneIcon)),u=q(()=>{const t=e.step.icon||e.stepper.inactiveIcon;if(!0===s.value){const r=e.step.activeIcon||e.stepper.activeIcon;return"none"===r?t:r||o.iconSet.stepper.active}if(!0===l.value){const r=e.step.errorIcon||e.stepper.errorIcon;return"none"===r?t:r||o.iconSet.stepper.error}if(!1===p.value&&!0===i.value){const r=e.step.doneIcon||e.stepper.doneIcon;return"none"===r?t:r||o.iconSet.stepper.done}return t}),d=q(()=>{const t=!0===l.value?e.step.errorColor||e.stepper.errorColor:void 0;if(!0===s.value){const r=e.step.activeColor||e.stepper.activeColor||e.step.color;return void 0!==r?r:t}return void 0!==t?t:!1===p.value&&!0===i.value?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=q(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(void 0!==d.value?` text-${d.value}`:"")+(!0===l.value?" q-stepper__tab--error q-stepper__tab--error-with-"+(!0===v.value?"prefix":"icon"):"")+(!0===s.value?" q-stepper__tab--active":"")+(!0===i.value?" q-stepper__tab--done":"")+(!0===c.value?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(!0===p.value?" q-stepper__tab--disabled":"")),_=q(()=>!0===e.stepper.headerNav&&c.value);function h(){var t;null==(t=n.value)||t.focus(),!1===s.value&&e.goToPanel(e.step.name)}function C(t){13===t.keyCode&&!1===s.value&&e.goToPanel(e.step.name)}return()=>{const o={class:f.value};!0===c.value&&(o.onClick=h,o.onKeyup=C,Object.assign(o,!0===p.value?{tabindex:-1,"aria-disabled":"true"}:{tabindex:a.tabindex||0}));const s=[b("div",{class:"q-focus-helper",tabindex:-1,ref:n}),b("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[b("span",{class:"row flex-center"},[!0===v.value?e.step.prefix:b(t,{name:u.value})])])];if(void 0!==e.step.title&&null!==e.step.title){const t=[b("div",{class:"q-stepper__title"},e.step.title)];void 0!==e.step.caption&&null!==e.step.caption&&t.push(b("div",{class:"q-stepper__caption"},e.step.caption)),s.push(b("div",{class:"q-stepper__label q-stepper__line relative-position"},t))}return S(b("div",o,s),[[r,_.value]])}}});function P(e){return b("div",{class:"q-stepper__step-content"},[b("div",{class:"q-stepper__step-inner"},s(e.default))])}const y={setup:(e,{slots:t})=>()=>P(t)},k=e({name:"QStep",props:{...v,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:r}){const{proxy:{$q:s}}=m(),p=h(o,a);if(p===a)return console.error("QStep needs to be a child of QStepper"),a;const{getCache:l}=_(),i=g(null),c=q(()=>p.value.modelValue===e.name),v=q(()=>!0!==s.platform.is.ios&&!0===s.platform.is.chrome||!0!==c.value||!0!==p.value.vertical?{}:{onScroll(t){const{target:a}=t;a.scrollTop>0&&(a.scrollTop=0),void 0!==e.onScroll&&r("scroll",t)}}),u=q(()=>"string"==typeof e.name||"number"==typeof e.name?e.name:String(e.name));function d(){const e=p.value.vertical;return!0===e&&!0===p.value.keepAlive?b(C,p.value.keepAliveProps.value,!0===c.value?[b(!0===p.value.needsUniqueKeepAliveWrapper.value?l(u.value,()=>({...y,name:u.value})):y,{key:u.value},t.default)]:void 0):!0!==e||!0===c.value?P(t):void 0}return()=>b("div",{ref:i,class:"q-stepper__step",role:"tabpanel",...v.value},!0===p.value.vertical?[b(x,{stepper:p.value,step:e,goToPanel:p.value.goToPanel}),!0===p.value.animated?b(n,d):d()]:[d()])}}),T=/(-\w)/g;const w=e({name:"QStepper",props:{...p,...d,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:u,setup(e,{slots:t}){const r=m(),a=l(e,r.proxy.$q),{updatePanelsList:n,isValidPanelName:p,updatePanelIndex:v,getPanelContent:u,getPanels:d,panelDirectives:_,goToPanel:g,keepAliveProps:S,needsUniqueKeepAliveWrapper:h}=f();I(o,q(()=>({goToPanel:g,keepAliveProps:S,needsUniqueKeepAliveWrapper:h,...e})));const C=q(()=>"q-stepper q-stepper--"+(!0===e.vertical?"vertical":"horizontal")+(!0===e.flat?" q-stepper--flat":"")+(!0===e.bordered?" q-stepper--bordered":"")+(!0===a.value?" q-stepper--dark q-dark":"")),P=q(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${!0===e.alternativeLabels?"alternative":"standard"}-labels`+(!1===e.flat||!0===e.bordered?" q-stepper__header--border":"")+(!0===e.contracted?" q-stepper__header--contracted":"")+(void 0!==e.headerClass?` ${e.headerClass}`:""));function y(){const r=s(t.message,[]);if(!0===e.vertical){p(e.modelValue)&&v();const a=b("div",{class:"q-stepper__content"},s(t.default));return void 0===r?[a]:r.concat(a)}return[b("div",{class:P.value},d().map(t=>{const r=function(e){const t={};for(const r in e)t[r.replace(T,e=>e[1].toUpperCase())]=e[r];return t}(t.props);return b(x,{key:r.name,stepper:e,step:r,goToPanel:g})})),r,c("div",{class:"q-stepper__content q-panel-parent"},u(),"cont",e.swipeable,()=>_.value)]}return()=>(n(t),b("div",{class:C.value},i(t.navigation,y())))}});export{w as Q,k as a};
