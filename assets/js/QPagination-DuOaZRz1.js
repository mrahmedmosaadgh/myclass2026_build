import{E as e,aX as a,T as l,U as t,aT as n,aY as i,aZ as u,I as o,g as r,Q as s}from"./app-DXXarK7I.js";import{p as d,a as p,f as v,k as g,h as c}from"./vendor-EI0FRBVb.js";function b(e,a){return[!0,!1].includes(e)?e:a}const m=e({name:"QPagination",props:{...l,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>("string"==typeof e?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>""===e||a.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:a}){const{proxy:l}=d(),{$q:m}=l,y=t(e,m),f=p(()=>parseInt(e.min,10)),S=p(()=>parseInt(e.max,10)),x=p(()=>parseInt(e.maxPages,10)),h=p(()=>N.value+" / "+S.value),V=p(()=>b(e.boundaryLinks,e.input)),k=p(()=>b(e.boundaryNumbers,!e.input)),B=p(()=>b(e.directionLinks,e.input)),C=p(()=>b(e.ellipses,!e.input)),F=v(null),N=p({get:()=>e.modelValue,set:l=>{if(l=parseInt(l,10),e.disable||isNaN(l))return;const t=n(l,f.value,S.value);e.modelValue!==t&&a("update:modelValue",t)}});g(()=>`${f.value}|${S.value}`,()=>{N.value=e.modelValue});const T=p(()=>"q-pagination row no-wrap items-center"+(!0===e.disable?" disabled":"")),j=p(()=>e.gutter in i?`${i[e.gutter]}px`:e.gutter||null),q=p(()=>null!==j.value?`--q-pagination-gutter-parent:-${j.value};--q-pagination-gutter-child:${j.value}`:null),$=p(()=>{const a=[e.iconFirst||m.iconSet.pagination.first,e.iconPrev||m.iconSet.pagination.prev,e.iconNext||m.iconSet.pagination.next,e.iconLast||m.iconSet.pagination.last];return!0===m.lang.rtl?a.reverse():a}),E=p(()=>({"aria-disabled":!0===e.disable?"true":"false",role:"navigation"})),M=p(()=>u(e,"flat")),w=p(()=>({[M.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:null===e.ripple||e.ripple})),I=p(()=>{const a={[M.value]:!1};return""!==e.activeDesign&&(a[e.activeDesign]=!0),a}),L=p(()=>({...I.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),O=p(()=>{let a=Math.max(x.value,1+(C.value?2:0)+(k.value?2:0));const l={pgFrom:f.value,pgTo:S.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(S.value).length)}em`}};return x.value&&a<S.value-f.value+1&&(a=1+2*Math.floor(a/2),l.pgFrom=Math.max(f.value,Math.min(S.value-a+1,e.modelValue-Math.floor(a/2))),l.pgTo=Math.min(S.value,l.pgFrom+a-1),k.value&&(l.boundaryStart=!0,l.pgFrom++),C.value&&l.pgFrom>f.value+(k.value?1:0)&&(l.ellipsesStart=!0,l.pgFrom++),k.value&&(l.boundaryEnd=!0,l.pgTo--),C.value&&l.pgTo<S.value-(k.value?1:0)&&(l.ellipsesEnd=!0,l.pgTo--)),l});function P(e){N.value=e}const _=p(()=>{function e(){N.value=F.value,F.value=null}return{"onUpdate:modelValue":e=>{F.value=e},onKeyup:a=>{!0===o(a,13)&&e()},onBlur:e}});function z(a,l,t){const n={"aria-label":l,"aria-current":"false",...w.value,...a};return!0===t&&Object.assign(n,{"aria-current":"true",...L.value}),void 0!==l&&(void 0!==e.toFn?n.to=e.toFn(l):n.onClick=()=>{P(l)}),c(s,n)}return Object.assign(l,{set:P,setByOffset:function(e){N.value=N.value+e}}),()=>{const a=[],l=[];let t;if(!0===V.value&&(a.push(z({key:"bls",disable:e.disable||e.modelValue<=f.value,icon:$.value[0],"aria-label":m.lang.pagination.first},f.value)),l.unshift(z({key:"ble",disable:e.disable||e.modelValue>=S.value,icon:$.value[3],"aria-label":m.lang.pagination.last},S.value))),!0===B.value&&(a.push(z({key:"bdp",disable:e.disable||e.modelValue<=f.value,icon:$.value[1],"aria-label":m.lang.pagination.prev},e.modelValue-1)),l.unshift(z({key:"bdn",disable:e.disable||e.modelValue>=S.value,icon:$.value[2],"aria-label":m.lang.pagination.next},e.modelValue+1))),!0!==e.input){t=[];const{pgFrom:n,pgTo:i,marginalStyle:u}=O.value;if(!0===O.value.boundaryStart){const l=f.value===e.modelValue;a.push(z({key:"bns",style:u,disable:e.disable,label:f.value},f.value,l))}if(!0===O.value.boundaryEnd){const a=S.value===e.modelValue;l.unshift(z({key:"bne",style:u,disable:e.disable,label:S.value},S.value,a))}!0===O.value.ellipsesStart&&a.push(z({key:"bes",style:u,disable:e.disable,label:"…",ripple:!1},n-1)),!0===O.value.ellipsesEnd&&l.unshift(z({key:"bee",style:u,disable:e.disable,label:"…",ripple:!1},i+1));for(let a=n;a<=i;a++)t.push(z({key:`bpg${a}`,style:u,disable:e.disable,label:a},a,a===e.modelValue))}return c("div",{class:T.value,...E.value},[c("div",{class:"q-pagination__content row no-wrap items-center",style:q.value},[...a,!0===e.input?c(r,{class:"inline",style:{width:h.value.length/1.5+"em"},type:"number",dense:!0,value:F.value,disable:e.disable,dark:y.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:h.value,min:f.value,max:S.value,..._.value}):c("div",{class:"q-pagination__middle row justify-center"},t),...l])])}}});export{m as Q};
