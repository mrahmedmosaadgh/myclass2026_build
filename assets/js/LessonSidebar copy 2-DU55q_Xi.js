import{o as e,d as t,Q as l,R as s,i as r,A as a,j as i,h as o,ao as d,g as n,p as c}from"./app-B77gjd5a.js";import{Q as u}from"./QBadge-ZkvAqPBD.js";import{M as b,J as p,N as g,Q as x,b as y,W as f,K as m,F as v,R as w,U as h,y as _,I as S,V as k,L as C,a0 as j}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";const z={class:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50"},$={class:"flex items-center justify-between"},D={class:"flex items-center gap-2"},N={class:"text-xs text-gray-600 mt-1 flex items-center gap-1"},q={class:"flex-1 overflow-y-auto p-3 custom-scrollbar"},A={class:"flex items-center gap-2"},E={key:0,class:"bg-white border-t border-gray-100 p-3"},Q={class:"space-y-2"},I=["onClick"],B={class:"flex justify-between items-center mb-1"},L={class:"font-bold text-xs text-gray-700"},O={class:"text-[10px] text-gray-500 truncate pl-1 border-l-2 border-gray-300"},P={key:0,class:"text-center py-4 text-gray-400 text-xs italic"},R={class:"flex-1 overflow-y-auto p-3 custom-scrollbar"},F={class:"flex items-center gap-2"},J={key:0,class:"bg-white border-t border-gray-100 p-3"},K={class:"space-y-2"},M=["onClick"],U={class:"flex justify-between items-center mb-1"},V={class:"font-bold text-xs text-gray-700"},W={class:"text-[10px] text-gray-500 truncate pl-1 border-l-2 border-gray-300"},G={key:0,class:"text-center py-4 text-gray-400 text-xs italic"},H=e({__name:"LessonSidebar copy 2",props:{sections:{type:Array,required:!0},currentSection:{type:String,required:!0},slides:{type:Array,default:()=>[]},showDrawer:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},activeSlide:{type:Object,default:null}},emits:["update:currentSection","update:showDrawer","addSlide","selectSlide"],setup(e,{emit:H}){const T=e,X=e=>T.slides.filter(t=>t.section===e),Y=e=>X(e).length,Z=e=>T.slides.indexOf(e),ee=e=>!!T.activeSlide&&(e===T.activeSlide||e.id&&e.id===T.activeSlide.id),te=e=>{var t,l,s;if("text"===e.slide_type){const l=(null==(t=e.slide_content)?void 0:t.text)||"";return l.replace(/<[^>]*>/g,"").substring(0,30)+(l.length>30?"...":"")}if("question"===e.slide_type){const t=(null==(s=null==(l=e.slide_content)?void 0:l.questions)?void 0:s.length)||0;return`${t} Question${1!==t?"s":""}`}return`${e.slide_type} content`};return(H,T)=>(p(),b("div",null,[g("div",{class:h(["fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-gray-200 flex flex-col",e.showDrawer?"translate-x-0":"-translate-x-full"])},[g("div",z,[g("div",$,[g("div",D,[y(t,{name:"view_sidebar",size:"24px",color:"primary"}),T[5]||(T[5]=g("h2",{class:"text-lg font-bold text-gray-800"},"Lesson Plan",-1))]),y(l,{flat:"",dense:"",round:"",icon:"close",onClick:T[0]||(T[0]=e=>H.$emit("update:showDrawer",!1)),class:"lg:hidden"})]),g("p",N,[y(t,{name:"touch_app",size:"14px"}),T[6]||(T[6]=f(" Select a section to manage slides "))])]),g("div",q,[y(n,{separator:""},{default:m(()=>[(p(!0),b(v,null,w(e.sections,l=>(p(),b("div",{key:l.id,class:h(["mb-3 rounded-xl overflow-hidden transition-all duration-300 border",e.currentSection===l.id?"bg-blue-50 border-blue-200 shadow-md":"bg-white border-transparent hover:bg-gray-50"])},[_((p(),S(o,{clickable:"",onClick:e=>H.$emit("update:currentSection",l.id),class:"py-3"},{default:m(()=>[y(r,{avatar:""},{default:m(()=>[y(a,{color:e.currentSection===l.id?l.borderColor:"grey-2","text-color":"white",size:"40px",class:"shadow-sm"},{default:m(()=>[y(t,{name:l.qIcon||l.icon,size:"22px"},null,8,["name"])]),_:2},1032,["color"])]),_:2},1024),y(r,null,{default:m(()=>[y(i,{class:"font-bold text-gray-800 text-sm"},{default:m(()=>[f(k(l.title),1)]),_:2},1024),y(i,{caption:"",class:"text-xs text-gray-500"},{default:m(()=>[f(k(Y(l.id))+" slide(s) ",1)]),_:2},1024)]),_:2},1024),y(r,{side:""},{default:m(()=>[g("div",A,[C(H.$slots,"section-status",{section:l},void 0,!0),y(t,{name:e.currentSection===l.id?"expand_less":"expand_more",color:e.currentSection===l.id?"primary":"grey"},null,8,["name","color"])])]),_:2},1024)]),_:2},1032,["onClick"])),[[s]]),y(d,null,{default:m(()=>[e.currentSection===l.id?(p(),b("div",E,[e.canEdit?(p(),b("button",{key:0,type:"button",onClick:T[1]||(T[1]=j(e=>H.$emit("addSlide"),["stop"])),class:"w-full py-2 px-3 mb-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all flex items-center justify-center gap-2"},[y(t,{name:"add",size:"16px"}),T[7]||(T[7]=f(" Add New Slide "))])):x("",!0),g("div",Q,[(p(!0),b(v,null,w(X(l.id),(e,t)=>(p(),b("div",{key:e.id||t,onClick:j(t=>H.$emit("selectSlide",e),["stop"]),class:h(["p-2 rounded-lg cursor-pointer border transition-all group relative",ee(e)?"bg-blue-50 border-blue-400 ring-1 ring-blue-400":"bg-gray-50 border-gray-200 hover:border-blue-300"])},[g("div",B,[g("span",L,"Slide "+k(Z(e)+1),1),y(u,{color:ee(e)?"blue":"grey",size:"sm",label:e.slide_type},null,8,["color","label"])]),g("div",O,k(te(e)),1)],10,I))),128)),0===X(l.id).length?(p(),b("div",P,k(e.canEdit?"No slides yet. Click above to add one.":"No slides in this section."),1)):x("",!0)])])):x("",!0)]),_:2},1024)],2))),128))]),_:3})])],2),g("div",R,[y(n,{separator:""},{default:m(()=>[(p(!0),b(v,null,w(e.sections,l=>(p(),b("div",{key:l.id,class:h(["mb-3 rounded-xl overflow-hidden transition-all duration-300 border",e.currentSection===l.id?"bg-blue-50 border-blue-200 shadow-md":"bg-white border-transparent hover:bg-gray-50"])},[e.currentSection===l.id?_((p(),S(o,{key:0,clickable:"",class:"py-3"},{default:m(()=>[y(r,{avatar:""},{default:m(()=>[y(a,{color:e.currentSection===l.id?l.borderColor:"grey-2","text-color":"white",size:"40px",class:"shadow-sm"},{default:m(()=>[y(t,{name:l.qIcon||l.icon,size:"22px"},null,8,["name"])]),_:2},1032,["color"])]),_:2},1024),y(r,null,{default:m(()=>[y(i,{class:"font-bold text-gray-800 text-sm"},{default:m(()=>[f(k(l.title),1)]),_:2},1024),y(i,{caption:"",class:"text-xs text-gray-500"},{default:m(()=>[f(k(Y(l.id))+" slide(s) ",1)]),_:2},1024)]),_:2},1024),y(r,{side:""},{default:m(()=>[g("div",F,[C(H.$slots,"section-status",{section:l},void 0,!0),y(t,{name:e.currentSection===l.id?"expand_less":"expand_more",color:e.currentSection===l.id?"primary":"grey"},null,8,["name","color"])])]),_:2},1024)]),_:2},1024)),[[s]]):x("",!0),y(d,null,{default:m(()=>[e.currentSection===l.id?(p(),b("div",J,[e.canEdit?(p(),b("button",{key:0,type:"button",onClick:T[2]||(T[2]=j(e=>H.$emit("addSlide"),["stop"])),class:"w-full py-2 px-3 mb-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-xs font-bold uppercase tracking-wide shadow-sm transition-all flex items-center justify-center gap-2"},[y(t,{name:"add",size:"16px"}),T[8]||(T[8]=f(" Add New Slide "))])):x("",!0),g("div",K,[(p(!0),b(v,null,w(X(l.id),(e,t)=>(p(),b("div",{key:e.id||t,onClick:j(t=>H.$emit("selectSlide",e),["stop"]),class:h(["p-2 rounded-lg cursor-pointer border transition-all group relative",ee(e)?"bg-blue-50 border-blue-400 ring-1 ring-blue-400":"bg-gray-50 border-gray-200 hover:border-blue-300"])},[g("div",U,[g("span",V,"Slide "+k(Z(e)+1),1),y(u,{color:ee(e)?"blue":"grey",size:"sm",label:e.slide_type},null,8,["color","label"])]),g("div",W,k(te(e)),1)],10,M))),128)),0===X(l.id).length?(p(),b("div",G,k(e.canEdit?"No slides yet. Click above to add one.":"No slides in this section."),1)):x("",!0)])])):x("",!0)]),_:2},1024)],2))),128))]),_:3})]),e.showDrawer?(p(),b("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:T[3]||(T[3]=e=>H.$emit("update:showDrawer",!1))})):x("",!0),y(l,{round:"",color:"primary",icon:"menu",class:"fixed bottom-6 left-6 z-50 lg:hidden shadow-lg",onClick:T[4]||(T[4]=e=>H.$emit("update:showDrawer",!0))},{default:m(()=>[y(c,null,{default:m(()=>T[9]||(T[9]=[f("Show Sections")])),_:1})]),_:1})]))}},[["__scopeId","data-v-3690a4e1"]]);export{H as default};
