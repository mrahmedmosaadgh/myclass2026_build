import{Q as e}from"./QBadge-CVqhPkEU.js";import{r as s,Q as t,b as l,h as a}from"./app-BxJhpxku.js";import{f as o,N as r,J as i,R as n,O as c,F as d,Q as u,U as p,b as m,I as v,K as y,W as b,V as x,a2 as g}from"./vendor-BWKGNkNB.js";import"./offline-BzIlwqNM.js";import"./i18n-B0T1C7j3.js";import"./ui-B7TfxbV_.js";const k={class:"step-by-step-player"},q=["innerHTML"],f={class:"q-gutter-y-md"},h={class:"row items-center gap-2 q-mb-sm"},w={key:0},_=["innerHTML"],C={key:0,class:"q-pa-sm bg-blue-grey-1 rounded-borders"},j={key:0},L={key:1},z={class:"column q-gutter-y-xs"},S={key:2,class:"q-mt-sm text-caption text-negative bg-red-1 q-pa-xs rounded-borders"},H={key:1,class:"text-body2 text-grey-8 bg-green-1 q-pa-sm rounded-borders border-green"},M={key:0,class:"text-caption text-grey-7 q-mt-xs border-top-green q-pt-xs"},Q={key:1,class:"text-grey-5 italic q-pa-sm"},T={key:0,class:"q-mt-lg text-center q-pa-md bg-blue-1 rounded-borders"},V=s({__name:"StepByStepPlayer",props:{question:{type:Object,required:!0}},emits:["complete"],setup(s,{emit:V}){const B=s,I=V,K=o(0),O=o(""),P=o(""),U=o({}),Y=e=>e<K.value,A=e=>Y(e)?"positive":e===K.value?"primary":"grey",F=e=>U.value[e],J=e=>{const s=B.question.steps[e],t=O.value.trim(),l=s.correct_answer.trim();t&&(t.toLowerCase()===l.toLowerCase()?(U.value[e]=t,K.value++,O.value="",P.value="",K.value>=B.question.steps.length&&I("complete")):P.value="Incorrect, please try again.")};return(o,V)=>(i(),r("div",k,[n("div",{class:"text-h6 q-mb-md",innerHTML:s.question.text},null,8,q),n("div",f,[(i(!0),r(d,null,u(s.question.steps,(s,o)=>(i(),r("div",{key:o,class:p(["step-card transition-generic",{"disabled-step":o>K.value}])},[n("div",h,[m(e,{color:A(o),rounded:"",class:"q-px-sm"},{default:y(()=>[b(" Step "+x(o+1),1)]),_:2},1032,["color"]),Y(o)?(i(),v(t,{key:0,name:"check_circle",color:"positive",size:"sm"})):c("",!0)]),o<=K.value?(i(),r("div",w,[n("div",{class:"q-mb-md",innerHTML:s.text},null,8,_),Y(o)?(i(),r("div",H,[V[1]||(V[1]=n("strong",null,"Answer:",-1)),b(" "+x(F(o))+" ",1),s.feedback?(i(),r("div",M,[m(t,{name:"info",size:"xs"}),b(" "+x(s.feedback),1)])):c("",!0)])):(i(),r("div",C,["short_answer"===s.type?(i(),r("div",j,[m(a,{modelValue:O.value,"onUpdate:modelValue":V[0]||(V[0]=e=>O.value=e),outlined:"",dense:"","bg-color":"white",placeholder:"Your answer...",onKeyup:g(e=>J(o),["enter"])},{append:y(()=>[m(l,{round:"",dense:"",flat:"",icon:"send",color:"primary",onClick:e=>J(o)},null,8,["onClick"])]),_:2},1032,["modelValue","onKeyup"])])):"single_choice"===s.type?(i(),r("div",L,[n("div",z,[(i(!0),r(d,null,u(s.options,(e,s)=>(i(),v(l,{key:s,label:e.text,color:O.value===e.text?"primary":"white","text-color":O.value===e.text?"white":"black",class:"text-left","no-caps":"",align:"left",onClick:s=>O.value=e.text},null,8,["label","color","text-color","onClick"]))),128)),O.value?(i(),v(l,{key:0,label:"Submit",color:"primary",class:"q-mt-sm self-end",size:"sm",onClick:e=>J(o)},null,8,["onClick"])):c("",!0)])])):c("",!0),P.value?(i(),r("div",S,x(P.value),1)):c("",!0)]))])):(i(),r("div",Q,[m(t,{name:"lock",size:"xs"}),V[2]||(V[2]=b(" Complete previous step to unlock. "))]))],2))),128))]),K.value>=s.question.steps.length?(i(),r("div",T,[m(t,{name:"emoji_events",size:"lg",color:"warning"}),V[3]||(V[3]=n("div",{class:"text-h6 text-primary q-mt-sm"},"Problem Solved!",-1)),V[4]||(V[4]=n("div",{class:"text-body2"},"You have successfully completed all steps.",-1))])):c("",!0)]))}},[["__scopeId","data-v-4f5368d4"]]);export{V as default};
