import e from"./CanvasEditor-DjSsVt8_.js";import{_ as l}from"./LucideIcon-kaM68_Rv.js";import{p as t}from"./app-BXm70mdJ.js";import{f as n,a,o as s,e as o,L as i,I as u,M as r,O as c,b as m,U as v,S as d,H as p}from"./vendor-DNM7Y6Xn.js";import"./ElementContent-Cm8ErG2R.js";import"./presentationStore-Dx8RFDSw.js";import"./youtube_VideoPlayer-B5-P2tD_.js";import"./offline-BzIlwqNM.js";import"./i18n-CBOKL2HS.js";import"./ui-BP0GJNn5.js";import"./VideoPlayer-CbKuKDFh.js";import"./text_el-29ggcNfv.js";import"./createLucideIcon-DNsKNLPq.js";import"./align-right-BV65b6MB.js";import"./underline-BaO36zfI.js";import"./image-D9BEVhOC.js";import"./printer-DEjU2fo9.js";const b={class:"presentation-mode-container"},f={class:"slide-navigation"},h=["disabled"],g={class:"slide-counter"},j=["disabled"],k={class:"control-buttons"},y={class:"presentation-view"},E={class:"slide-container"},x=t({__name:"PresentationMode",props:{slides:{type:Array,required:!0},initialIndex:{type:Number,default:0}},emits:["exit"],setup(t,{emit:x}){const w=t,L=x,z=n(w.initialIndex),C=n(!1),_=n(!1),T=n(!1),I=n(null),F=a(()=>w.slides[z.value]),M=()=>{z.value<w.slides.length-1&&z.value++},V=()=>{z.value>0&&z.value--},q=()=>{C.value=!1,I.value&&(clearTimeout(I.value),I.value=null)},S=()=>{_.value||(I.value=setTimeout(()=>{C.value=!0},3e3))},A=()=>{C.value=!1,I.value=setTimeout(()=>{_.value&&(C.value=!0)},5e3)},P=()=>{_.value=!_.value,_.value?(C.value=!1,I.value=setTimeout(()=>{C.value=!0},3e3)):C.value=!1},U=async()=>{try{document.fullscreenElement?(await document.exitFullscreen(),T.value=!1):(await document.documentElement.requestFullscreen(),T.value=!0)}catch(e){console.error("Error toggling fullscreen:",e)}},H=async()=>{document.fullscreenElement&&await document.exitFullscreen(),L("exit")},J=e=>{switch(e.key){case"ArrowRight":case"Space":M();break;case"ArrowLeft":V();break;case"Escape":H()}};return s(()=>{document.addEventListener("keydown",J),document.documentElement.requestFullscreen().then(()=>{T.value=!0}).catch(e=>console.log("Fullscreen error:",e)),I.value=setTimeout(()=>{C.value=!0},3e3),document.addEventListener("fullscreenchange",()=>{T.value=!!document.fullscreenElement})}),o(()=>{document.removeEventListener("keydown",J),document.removeEventListener("fullscreenchange",()=>{}),I.value&&clearTimeout(I.value)}),(n,a)=>(u(),i("div",b,[r("div",{class:d(["presentation-controls",{hidden:C.value&&_.value}]),onMouseenter:q,onMouseleave:S},[r("div",f,[r("button",{onClick:V,disabled:0===z.value,class:"nav-btn"},[m(l,{name:"chevron-left",size:"20"})],8,h),r("span",g,v(z.value+1)+" / "+v(t.slides.length),1),r("button",{onClick:M,disabled:z.value===t.slides.length-1,class:"nav-btn"},[m(l,{name:"chevron-right",size:"20"})],8,j)]),r("div",k,[r("button",{onClick:P,class:d(["control-btn",{active:_.value}]),title:"Lock controls visibility"},[m(l,{name:_.value?"lock":"unlock",size:"18"},null,8,["name"])],2),r("button",{onClick:U,class:"control-btn",title:"Toggle fullscreen"},[m(l,{name:T.value?"minimize":"maximize",size:"18"},null,8,["name"])]),r("button",{onClick:H,class:"exit-btn"},[m(l,{name:"x",size:"18",class:"mr-1"}),a[1]||(a[1]=r("span",null,"Exit",-1))])])],34),C.value&&_.value?(u(),i("button",{key:0,onClick:A,class:"show-controls-btn",title:"Show controls"},[m(l,{name:"menu",size:"20"})])):c("",!0),r("div",y,[r("div",E,[F.value?(u(),p(e,{key:z.value,modelValue:F.value.content,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value.content=e),presentationMode:!0,readonly:!0},null,8,["modelValue"])):c("",!0)])])]))}},[["__scopeId","data-v-14c0e610"]]);export{x as default};
