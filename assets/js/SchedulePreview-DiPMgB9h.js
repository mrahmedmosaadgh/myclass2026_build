import{o as e,k as o}from"./app-CqJgtQaN.js";import{Q as s}from"./QSelect-DIrzf0A1.js";import{a,Q as t}from"./QTable-BsElv-Vz.js";import{Q as l}from"./QTr-DBFkmCmN.js";import{Q as r}from"./QTd-ByoVTzgk.js";import{f as d,a as i,k as p,o as u,M as n,J as m,N as c,b as f,K as v,W as y,V as _,F as b,R as g}from"./vendor-DuKqz2x4.js";import"./offline-BzIlwqNM.js";import"./i18n-DE5KxGn8.js";import"./ui-BITzTqrO.js";import"./rtl-Cr6c3OOr.js";import"./QMarkupTable-zlNNuWrg.js";import"./QLinearProgress-YbspEMZC.js";import"./use-fullscreen-Dd3XWOIZ.js";const w={class:"schedule-preview"},j={class:"mb-4 bg-grey-2 p-4 rounded-borders"},S={class:"flex items-center justify-between"},h={class:"flex gap-2"},Q={class:"schedule-grid q-pa-md"},T="schedule-preview-slots",k=e({__name:"SchedulePreview",props:{timing:{type:Object,required:!0},timeSlots:{type:Array,required:!0}},setup(e){const k=e,V=["Sunday","Monday","Tuesday","Wednesday","Thursday"],x=d([0]),L=i(()=>Array.from({length:k.timeSlots.length},(e,o)=>o)),O=i(()=>{const e=[];return(k.timing.d1||[]).forEach(o=>{e.push({period_code:o.period_code,...V.reduce((e,s,a)=>{var t;const l=`d${a+1}`,r=null==(t=k.timing[l])?void 0:t.find(e=>e.period_code===o.period_code);return e[s.toLowerCase()]=r,e},{})})}),e}),q=i(()=>[{name:"period",label:"Period",field:"period_code",align:"left"},...V.map(e=>({name:e.toLowerCase(),label:e,field:e.toLowerCase(),align:"left"}))]),C=(e,o)=>{const s=e[o];return(null==s?void 0:s.timeSlots)?s.timeSlots.filter(e=>e.active):[]};return p(x,()=>{localStorage.setItem(T,JSON.stringify(x.value))},{deep:!0}),u(()=>{(()=>{const e=localStorage.getItem(T);e&&(x.value=JSON.parse(e))})()}),(e,d)=>(m(),n("div",w,[c("div",j,[c("div",S,[d[2]||(d[2]=c("h5",{class:"text-subtitle1 q-my-none"},"Time Slot Display Options",-1)),c("div",h,[f(s,{modelValue:x.value,"onUpdate:modelValue":d[1]||(d[1]=e=>x.value=e),options:L.value,multiple:"",dense:"","options-dense":"",label:"Select Time Slots",style:{"min-width":"200px"}},{option:v(({opt:e})=>[f(o,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=e=>x.value=e),val:e},{default:v(()=>[y(" Slot "+_(e+1),1)]),_:2},1032,["modelValue","val"])]),_:1},8,["modelValue","options"])])])]),c("div",Q,[f(t,{flat:"",rows:O.value,columns:q.value,"row-key":"period_code",dense:""},{header:v(e=>[f(l,{props:e},{default:v(()=>[f(a,{"auto-width":""},{default:v(()=>d[3]||(d[3]=[y("Period")])),_:1}),(m(),n(b,null,g(V,e=>f(a,{key:e},{default:v(()=>[y(_(e),1)]),_:2},1024)),64))]),_:2},1032,["props"])]),body:v(e=>[f(l,{props:e},{default:v(()=>[f(r,{"auto-width":""},{default:v(()=>[y(_(e.row.period_code),1)]),_:2},1024),(m(),n(b,null,g(V,o=>f(r,{key:o},{default:v(()=>[(m(!0),n(b,null,g(C(e.row,o.toLowerCase()),e=>(m(),n("div",{key:e.from},_((e=>e.from&&e.to?`${e.from} - ${e.to}`:"")(e)),1))),128))]),_:2},1024)),64))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])]))}},[["__scopeId","data-v-7ccb2ccd"]]);export{k as default};
